import{a1 as jC,d as Li,az as Sm,r as lo,o as Qm,b as zt,h as ji,e as on,f as fo,g as gn,L as qm,Y as eb,J as Pm,S as tb,l as Ko,j as Vo,av as Tm,aC as rb,_ as sd,aB as nb,Z as CC,i as nd,a0 as ld,k as Mm,ao as RC,ap as IC}from"./index.555bdc27.js";import{u as _C}from"./hooks.88dce471.js";import{V as BC}from"./styles.abb43936.js";import"./vue.runtime.esm-bundler.520f894f.js";const LC=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],zC={flowElementList:LC};var We={exports:{}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return u[l].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(l,f,g){i.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:g})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,f){if(f&1&&(l=i(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var b in l)i.d(g,b,function(x){return l[x]}.bind(null,b));return g},i.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(f,"a",f),f},i.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(l,f){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ii}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return lr}),i.d(c,"e",function(){return Ue}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Fi}),i.d(c,"h",function(){return Zn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Sr}),i.d(c,"k",function(){return Ur}),i.d(c,"l",function(){return Dr}),i.d(c,"m",function(){return xr}),i.d(c,"n",function(){return vl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return El}),i.d(c,"q",function(){return oi}),i.d(c,"r",function(){return gl}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Ji}),i.d(c,"u",function(){return cl}),i.d(c,"v",function(){return ml}),i.d(c,"w",function(){return bl}),i.d(c,"x",function(){return Sn}),i.d(c,"y",function(){return Cr}),i.d(c,"z",function(){return Ut}),i.d(c,"A",function(){return yr}),i.d(c,"B",function(){return Pn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return xl}),i.d(c,"E",function(){return ni}),i.d(c,"F",function(){return pl}),i.d(c,"G",function(){return fl}),i.d(c,"H",function(){return Yi}),i.d(c,"I",function(){return Tl}),i.d(c,"J",function(){return Pr}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return Ol}),i.d(c,"M",function(){return Mn});var g="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++Ge.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,h){if(!d)throw new Error("[mobx] "+(h||g))}function w(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var j=function(){};function C(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function _(d){return d!==null&&typeof d=="object"}function H(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function Y(d){if(Z(d)||Ut(d))return d;if(Array.isArray(d))return new Map(d);if(H(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function U(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ae(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ne(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function Q(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return _(N)&&N[O]===!0}}function Z(d){return d instanceof Map}function se(d){return d instanceof Set}function L(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function $(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var A=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return ki(this)},d.prototype.reportChanged=function(){Tt(),rl(this),hr()},d.prototype.toString=function(){return this.name},d}(),q=Q("Atom",W);function ce(d,h,O){h===void 0&&(h=j),O===void 0&&(O=j);var N=new W(d);return h!==j&&hl(N,h),O!==j&&ni(N,O),N}function Me(d,h){return d===h}function me(d,h){return Eo(d,h)}function Oe(d,h){return Eo(d,h,1)}function Pe(d,h){return Object.is(d,h)}var Ee={identity:Me,structural:me,default:Pe,shallow:Oe};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var z in N)N.hasOwnProperty(z)&&(O[z]=N[z])},Ne(d,h)};function Le(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ve=function(){return Ve=Object.assign||function(h){for(var O,N=1,z=arguments.length;N<z;N++){O=arguments[N];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ve.apply(this,arguments)};function _e(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),z,K=[],fe;try{for(;(h===void 0||h-- >0)&&!(z=N.next()).done;)K.push(z.value)}catch(Te){fe={error:Te}}finally{try{z&&!z.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var ke=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),X={},ee={};function he(d,h){var O=h?X:ee;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[ke]!==!0){var N=d[k];if(N){U(d,ke,!0);var z=Ie(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var K=_e(z),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value,$e=N[Te];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{fe&&!fe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,z=function(fe,Te,$e,ft){if(ft===!0)return h(fe,Te,$e,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var ct=fe[k];U(fe,k,Ve({},ct))}return fe[k][Te]={prop:Te,propertyCreator:h,descriptor:$e,decoratorTarget:fe,decoratorArguments:N},he(Te,d)};return ze(arguments)?(N=b,z.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),z)}}function ze(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,h,O){return Sn(d)?d:Array.isArray(d)?mt.array(d,{name:O}):H(d)?mt.object(d,void 0,{name:O}):Z(d)?mt.map(d,{name:O}):se(d)?mt.set(d,{name:O}):d}function Ye(d,h,O){return d==null||yr(d)||Cr(d)||Ut(d)||fr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):H(d)?mt.object(d,void 0,{name:O,deep:!1}):Z(d)?mt.map(d,{name:O,deep:!1}):se(d)?mt.set(d,{name:O,deep:!1}):P(!1)}function nt(d){return d}function ve(d,h,O){return Eo(d,h)?h:d}function ut(d){M(d);var h=pe(!0,function(N,z,K,fe,Te){var $e=K?K.initializer?K.initializer.call(N):K.value:void 0;ai(N).addObservableProp(z,$e,d)}),O=(typeof l<"u"&&l.env,h);return O.enhancer=d,O}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function Be(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=ut(tt),At=ut(Ye),dt=ut(nt),bt=ut(ve);function oe(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?nt:tt}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(Sn(d))return d;var N=H(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):Z(d)?mt.map(d,h):se(d)?mt.set(d,h):d;if(N!==d)return N;P(!1)}var St={box:function(d,h){arguments.length>2&&Wt("box");var O=Be(h);return new sn(d,oe(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Wt("array");var O=Be(h);return jl(d,oe(O),O.name)},map:function(d,h){arguments.length>2&&Wt("map");var O=Be(h);return new ii(d,oe(O),O.name)},set:function(d,h){arguments.length>2&&Wt("set");var O=Be(h);return new ua(d,oe(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Wt("object");var N=Be(O);if(N.proxy===!1)return oi({},d,h,N);var z=Vi(N),K=oi({},void 0,void 0,N),fe=An(K);return Zi(fe,d,h,z),fe},ref:dt,shallow:At,deep:Qe,struct:bt},mt=Ct;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Wt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var pr=pe(!1,function(d,h,O,N,z){var K=O.get,fe=O.set,Te=z[0]||{};ai(d).addComputedProp(d,h,Ve({get:K,set:fe,context:d},Te))}),Zt=pr({equals:Ee.structural}),xr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pr.apply(null,arguments);var z=typeof O=="object"?O:{};return z.get=h,z.set=typeof O=="function"?O:z.set,z.name=z.name||h.name||"",new bn(z)};xr.struct=Zt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function Xe(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,z=N.length,K=0;K<z;K++){var fe=N[K];if(On(fe)){if(Ge.disableErrorBoundaries)fe.get();else try{fe.get()}catch{return we(O),Ue(h),!0}if(d.dependenciesState===qe.STALE)return we(O),Ue(h),!0}}return vt(d),we(O),Ue(h),!1}}}function ot(){return Ge.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&P(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&P(!1)}function lt(d,h,O){var N=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var z=Ge.trackingDerivation;Ge.trackingDerivation=d;var K;if(Ge.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(fe){K=new nr(fe)}return Ge.trackingDerivation=z,F(d),Ue(N),K}function F(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,z=0,K=d.unboundDepsCount,fe=0;fe<K;fe++){var Te=O[fe];Te.diffValue===0&&(Te.diffValue=1,z!==fe&&(O[z]=Te),z++),Te.dependenciesState>N&&(N=Te.dependenciesState)}for(O.length=z,d.newObserving=null,K=h.length;K--;){var Te=h[K];Te.diffValue===0&&kr(Te,d),Te.diffValue=0}for(;z--;){var Te=O[z];Te.diffValue===1&&(Te.diffValue=0,tl(Te,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function V(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)kr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{we(h)}}function re(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function we(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Ue(d){Ge.allowStateReads=d}function vt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Jt=0,Qt=1,kn=Object.getOwnPropertyDescriptor(function(){},"name");kn&&kn.configurable;function $r(d,h,O){var N=function(){return zi(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function zi(d,h,O,N){var z=Sr();try{return h.apply(O,N)}catch(K){throw z.error=K,K}finally{Fi(z)}}function Sr(d,h,O){var N=Rt(),z=0,K=re();Tt();var fe=mn(!0),Te=De(!0),$e={prevDerivation:K,prevAllowStateChanges:fe,prevAllowStateReads:Te,notifySpy:N,startTime:z,actionId:Qt++,parentActionId:Jt};return Jt=$e.actionId,$e}function Fi(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),Un(d.prevAllowStateChanges),Ue(d.prevAllowStateReads),hr(),we(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function lr(d,h){var O=mn(d),N;try{N=h()}finally{Un(O)}return N}function mn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function Un(d){Ge.allowStateChanges=d}var sn=function(d){Le(h,d);function h(O,N,z,K,fe){z===void 0&&(z="ObservableValue@"+S()),K===void 0&&(K=!0),fe===void 0&&(fe=Ee.default);var Te=d.call(this,z)||this;return Te.enhancer=N,Te.name=z,Te.equals=fe,Te.hasUnreportedChange=!1,Te.value=N(O,void 0,z),K&&Rt(),Te}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==Ge.UNCHANGED){var z=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Tr(this)){var N=Mr(this,{object:this,type:"update",newValue:O});if(!N)return Ge.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?Ge.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),vr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Kn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Vn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Xn=Q("ObservableValue",sn),bn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=$r(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){ol(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?Xe(this)&&(this.warnAboutUntrackedRead(),Tt(),this.value=this.computeValue(!1),hr()):(ki(this),Xe(this)&&this.trackAndCompute()&&nl(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),z=O||je(h)||je(N)||!this.equals(h,N);return z&&(this.value=N),z},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new nr(N)}return Ge.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,z=!0,K=void 0;return Dr(function(){var fe=N.get();if(!z||O){var Te=re();h({type:"update",object:N,newValue:fe,oldValue:K}),we(Te)}z=!1,K=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),On=Q("ComputedValue",bn),po=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),el={};function ho(){return typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:el}var vo=!0,Hi=!1,Ge=function(){var d=ho();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(vo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new po().version&&(vo=!1),vo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new po):(setTimeout(function(){Hi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new po)}();function Gi(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Hi=!0,vo&&(--ho().__mobxInstanceCount===0&&(ho().__mobxGlobals=void 0),Ge=new po)}function tl(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function kr(d,h){d.observers.delete(h),d.observers.size===0&&$i(d)}function $i(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Tt(){Ge.inBatch++}function hr(){if(--Ge.inBatch===0){Xi();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof bn&&O.suspend())}Ge.pendingUnobservations=[]}}function ki(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&$i(d),!1)}function rl(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function nl(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function ol(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&yo(h,d),h.onBecomeStale())}))}function yo(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Pt.BREAK){var O=[];Ui(Ji(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof bn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Ui(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return Ui(N,h,O+1)})}var ln=function(){function d(h,O,N,z){h===void 0&&(h="Reaction@"+S()),z===void 0&&(z=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=z,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Xi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Tt(),this._isScheduled=!1,Xe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}hr()}},d.prototype.track=function(h){if(!this.isDisposed){Tt(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),je(O)&&this.reportExceptionInDerivation(O.cause),hr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),Ge.globalReactionErrorHandlers.forEach(function(z){return z(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Tt(),V(this),hr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Ml(this,h)},d}(),ei=100,ti=function(d){return d()};function Xi(){Ge.inBatch>0||Ge.isRunningReactions||ti(il)}function il(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===ei&&(console.error("Reaction doesn't converge to a stable state after "+ei+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,z=O.length;N<z;N++)O[N].runReaction()}Ge.isRunningReactions=!1}var go=Q("Reaction",ln);function al(d){var h=ti;ti=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function hd(d){}function vd(d){}function yd(d){}function Yi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ul(){P(!1)}function Wi(d){return function(h,O,N){if(N){if(N.value)return{value:$r(d,N.value),enumerable:!1,configurable:!0,writable:!0};var z=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $r(d,z.call(this))}}}return sl(d).apply(this,arguments)}}function sl(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(z){U(this,O,Ur(d,z))}})}}function ll(d,h,O,N){return N===!0?(ri(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ri(this,h,O.value||O.initializer.call(this)),this[h]},set:ul}:{enumerable:!1,configurable:!0,set:function(z){ri(this,h,z)},get:function(){}}}var Ur=function(h,O,N,z){if(arguments.length===1&&typeof h=="function")return $r(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return $r(h,O);if(arguments.length===1&&typeof h=="string")return Wi(h);if(z===!0)U(h,O,$r(h.name||O,N.value,this));else return Wi(O).apply(null,arguments)};Ur.bound=ll;function fl(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return zi(O,N,this,void 0)}function cl(d){return typeof d=="function"&&d.isMobxAction===!0}function ri(d,h,O){U(d,h,$r(h,O.bind(d)))}function Dr(d,h){h===void 0&&(h=x);var O=h&&h.name||d.name||"Autorun@"+S(),N=!h.scheduler&&!h.delay,z;if(N)z=new ln(O,function(){this.track(Te)},h.onError,h.requiresObservable);else{var K=En(h),fe=!1;z=new ln(O,function(){fe||(fe=!0,K(function(){fe=!1,z.isDisposed||z.track(Te)}))},h.onError,h.requiresObservable)}function Te(){d(z)}return z.schedule(),z.getDisposer()}var dl=function(d){return d()};function En(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:dl}function pl(d,h,O){O===void 0&&(O=x);var N=O.name||"Reaction@"+S(),z=Ur(N,O.onError?Yn(O.onError,h):h),K=!O.scheduler&&!O.delay,fe=En(O),Te=!0,$e=!1,ft,ct=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new ln(N,function(){Te||K?xt():$e||($e=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if($e=!1,!Ot.isDisposed){var _t=!1;Ot.track(function(){var Xt=d(Ot);_t=Te||!ct(ft,Xt),ft=Xt}),Te&&O.fireImmediately&&z(ft,Ot),!Te&&_t===!0&&z(ft,Ot),Te&&(Te=!1)}}return Ot.schedule(),Ot.getDisposer()}function Yn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function hl(d,h,O){return Ki("onBecomeObserved",d,h,O)}function ni(d,h,O){return Ki("onBecomeUnobserved",d,h,O)}function Ki(d,h,O,N){var z=typeof N=="function"?wr(h,O):wr(h),K=typeof N=="function"?N:O,fe=d+"Listeners";z[fe]?z[fe].add(K):z[fe]=new Set([K]);var Te=z[d];return typeof Te!="function"?P(!1):function(){var $e=z[fe];$e&&($e.delete(K),$e.size===0&&delete z[fe])}}function vl(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,z=d.disableErrorBoundaries,K=d.reactionScheduler,fe=d.reactionRequiresObservable,Te=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Gi(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=$e,Ge.allowStateChanges=!($e===!0||$e==="strict")}O!==void 0&&(Ge.computedRequiresReaction=!!O),fe!==void 0&&(Ge.reactionRequiresObservable=!!fe),Te!==void 0&&(Ge.observableRequiresReaction=!!Te,Ge.allowStateReads=!Ge.observableRequiresReaction),N!==void 0&&(Ge.computedConfigurable=!!N),z!==void 0&&(z===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!z),K&&al(K)}function oi(d,h,O,N){N=Be(N);var z=Vi(N);return xe(d),ai(d,N.name,z.enhancer),h&&Zi(d,h,O,z),d}function Vi(d){return d.defaultDecorator||(d.deep===!1?dt:Qe)}function Zi(d,h,O,N){var z,K,fe,Te;Tt();try{var Te=A(h);try{for(var $e=_e(Te),ft=$e.next();!ft.done;ft=$e.next()){var fe=ft.value,ct=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ct.get?pr:N,xt=Ot(d,fe,ct,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Xt){z={error:Xt}}finally{try{ft&&!ft.done&&(K=$e.return)&&K.call($e)}finally{if(z)throw z.error}}}finally{hr()}}function Ji(d,h){return Qi(wr(d,h))}function Qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Qi)),h}var yl=0;function qi(){this.message="FLOW_CANCELLED"}qi.prototype=Object.create(Error.prototype);function gl(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,z=++yl,K=Ur(h+" - runid: "+z+" - init",d).apply(O,N),fe,Te=void 0,$e=new Promise(function(ft,ct){var Ot=0;fe=ct;function xt(Mt){Te=void 0;var gr;try{gr=Ur(h+" - runid: "+z+" - yield "+Ot++,K.next).call(K,Mt)}catch(Nn){return ct(Nn)}Xt(gr)}function _t(Mt){Te=void 0;var gr;try{gr=Ur(h+" - runid: "+z+" - yield "+Ot++,K.throw).call(K,Mt)}catch(Nn){return ct(Nn)}Xt(gr)}function Xt(Mt){if(Mt&&typeof Mt.then=="function"){Mt.then(Xt,ct);return}return Mt.done?ft(Mt.value):(Te=Promise.resolve(Mt.value),Te.then(xt,_t))}xt(void 0)});return $e.cancel=Ur(h+" - runid: "+z+" - cancel",function(){try{Te&&ea(Te);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(j,j),ea(ct),fe(new qi)}catch(Ot){fe(Ot)}}),$e}}function ea(d){typeof d.cancel=="function"&&d.cancel()}function ta(d,h){if(d==null)return!1;if(h!==void 0){if(yr(d)===!1||!d[R].values.has(h))return!1;var O=wr(d,h);return On(O)}return On(d)}function ml(d){return arguments.length>1?P(!1):ta(d)}function bl(d,h){return typeof h!="string"?P(!1):ta(d,h)}function xn(d,h){return d==null?!1:h!==void 0?yr(d)?d[R].values.has(h):!1:yr(d)||!!d[R]||q(d)||go(d)||On(d)}function Sn(d){return arguments.length!==1&&P(!1),xn(d)}function Pn(d){return yr(d)?d[R].getKeys():Ut(d)||fr(d)?Array.from(d.keys()):Cr(d)?d.map(function(h,O){return O}):P(!1)}function Ol(d){return yr(d)?Pn(d).map(function(h){return d[h]}):Ut(d)?Pn(d).map(function(h){return d.get(h)}):fr(d)?Array.from(d.values()):Cr(d)?d.slice():P(!1)}function El(d){return yr(d)?Pn(d).map(function(h){return[h,d[h]]}):Ut(d)?Pn(d).map(function(h){return[h,d.get(h)]}):fr(d)?Array.from(d.entries()):Cr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ra(d,h,O){if(arguments.length===2&&!fr(d)){Tt();var N=h;try{for(var z in N)ra(d,z,N[z])}finally{hr()}return}if(yr(d)){var K=d[R],fe=K.values.get(h);fe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if(Ut(d))d.set(h,O);else if(fr(d))d.add(h);else if(Cr(d))typeof h!="number"&&(h=parseInt(h,10)),M(h>=0,"Not a valid index: '"+h+"'"),Tt(),h>=d.length&&(d.length=h+1),d[h]=O,hr();else return P(!1)}function xl(d,h,O,N){return typeof O=="function"?Sl(d,h,O,N):mo(d,h,O)}function mo(d,h,O){return Zn(d).observe(h,O)}function Sl(d,h,O,N){return Zn(d,h).observe(O,N)}var Pl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tn(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Xr(d,h,O){if(!h.recurseEverything&&!Sn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Xn(d))return Xr(d.get(),h,O);Sn(d)&&Pn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(Cr(d)||Array.isArray(d)){var z=Tn(O,d,[],h),K=d.map(function(_t){return Xr(_t,h,O)});z.length=K.length;for(var fe=0,Te=K.length;fe<Te;fe++)z[fe]=K[fe];return z}if(fr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=Tn(O,d,new Set,h);return d.forEach(function(_t){$e.add(Xr(_t,h,O))}),$e}else{var ft=Tn(O,d,[],h);return d.forEach(function(_t){ft.push(Xr(_t,h,O))}),ft}if(Ut(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Tn(O,d,new Map,h);return d.forEach(function(_t,Xt){ct.set(Xt,Xr(_t,h,O))}),ct}else{var Ot=Tn(O,d,{},h);return d.forEach(function(_t,Xt){Ot[Xt]=Xr(_t,h,O)}),Ot}var xt=Tn(O,d,{},h);return L(d).forEach(function(_t){xt[_t]=Xr(d[_t],h,O)}),xt}function Tl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Pl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Xr(d,h,O)}function Ml(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=wl(d);if(!N)return P(!1);N.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+N.name+"' tracing enabled"),N.isTracing=O?Pt.BREAK:Pt.LOG}function wl(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Pr(d,h){h===void 0&&(h=void 0),Tt();try{return d.apply(h)}finally{hr()}}function Mn(d,h,O){return arguments.length===1||h&&typeof h=="object"?Al(d,h):Wn(d,h,O||{})}function Wn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!K[R].isDisposed){K();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+S();var z=$r(O.name+"-effect",h),K=Dr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),z())},O);return K}function Al(d,h){var O,N=new Promise(function(z,K){var fe=Wn(d,z,Ve(Ve({},h),{onError:K}));O=function(){fe(),K("WHEN_CANCELLED")}});return N.cancel=O,N}function bo(d){return d[R]}function Oo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var wn={has:function(d,h){if(h===R||h==="constructor"||h===ke)return!0;var O=bo(d);return Oo(h)?O.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===ke)return d[h];var O=bo(d),N=O.values.get(h);if(N instanceof W){var z=N.get();return z===void 0&&O.has(h),z}return Oo(h)&&O.has(h),d[h]},set:function(d,h,O){return Oo(h)?(ra(d,h,O),!0):!1},deleteProperty:function(d,h){if(!Oo(h))return!1;var O=bo(d);return O.remove(h),!0},ownKeys:function(d){var h=bo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function An(d){var h=new Proxy(d,wn);return d[R].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Kn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),w(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Mr(d,h){var O=re();try{for(var N=Ie(d.interceptors||[]),z=0,K=N.length;z<K&&(h=N[z](h),M(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);z++);return h}finally{we(O)}}function vr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Vn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),w(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var z=0,K=N.length;z<K;z++)N[z](h);we(O)}}var Nl=1e4,Dl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?jr.get.call(d,h):typeof h=="string"&&!isNaN(h)?jr.get.call(d,parseInt(h)):jr.hasOwnProperty(h)?jr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[R].setArrayLength(O),typeof h=="number"&&jr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:jr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function jl(d,h,O,N){O===void 0&&(O="ObservableArray@"+S()),N===void 0&&(N=!1);var z=new na(O,h,N);ae(z.values,R,z);var K=new Proxy(z.values,Dl);if(z.proxy=K,d&&d.length){var fe=mn(!0);z.spliceWithArray(0,0,d),Un(fe)}return K}var na=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+S()),this.enhancer=function(z,K){return O(z,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Vn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),z=0;z<h-O;z++)N[z]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var z=this;Je(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),N===void 0&&(N=b),Tr(this)){var fe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function($e){return z.enhancer($e,void 0)});var Te=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Te),this.dehanceValues(Te)},d.prototype.spliceItemsIntoValues=function(h,O,N){var z;if(N.length<Nl)return(z=this.values).splice.apply(z,Ie([h,O],N));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,N){var z=!this.owned&&Rt(),K=vr(this),fe=K||z?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),K&&qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var z=!this.owned&&Rt(),K=vr(this),fe=K||z?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&qt(this,fe)},d}(),jr={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[R];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var z=this[R];switch(arguments.length){case 0:return[];case 1:return z.spliceWithArray(d);case 2:return z.spliceWithArray(d,h)}return z.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[R];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[R];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[R],N=O.values;if(d<N.length){Je(O.atom);var z=N[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,z);var fe=h!==z;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,z))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(){var h=this[R];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(h,O){var N=this,z=this[R];z.atom.reportObserved();var K=z.dehanceValues(z.values);return K[d](function(fe,Te){return h.call(O,fe,Te,N)},O)})}),["reduce","reduceRight"].forEach(function(d){jr[d]=function(){var h=this,O=this[R];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(z,K,fe){return K=O.dehanceValue(K),N(z,K,fe,h)},O.values[d].apply(O.values,arguments)}});var Cl=Q("ObservableArrayAdministration",na);function Cr(d){return _(d)&&Cl(d[R])}var oa,ia={},ii=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableMap@"+S()),this.enhancer=O,this.name=N,this[oa]=ia,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!Ge.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var z=N=new sn(this._has(h),nt,this.name+"."+$(h)+"?",!1);this._hasMap.set(h,z),ni(z,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Tr(this)){var z=Mr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!z)return this;O=z.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Tr(this)){var N=Mr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var z=Rt(),K=vr(this),N=K||z?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Pr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Te=O._data.get(h);Te.setNewValue(void 0),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==Ge.UNCHANGED){var z=Rt(),K=vr(this),fe=K||z?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),K&&qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Pr(function(){var Te=new sn(O,N.enhancer,N.name+"."+$(h),!1);N._data.set(h,Te),O=Te.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var z=Rt(),K=vr(this),fe=K||z?{type:"add",object:this,name:h,newValue:O}:null;K&&qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),z=N.done,K=N.value;return{done:z,value:z?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return xo({next:function(){var N=O.next(),z=N.done,K=N.value;return{done:z,value:z?void 0:[K,h.get(K)]}}})},d.prototype[oa=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,z;try{for(var K=_e(this),fe=K.next();!fe.done;fe=K.next()){var Te=Se(fe.value,2),$e=Te[0],ft=Te[1];h.call(O,ft,$e,this)}}catch(ct){N={error:ct}}finally{try{fe&&!fe.done&&(z=K.return)&&z.call(K)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return Ut(h)&&(h=h.toJS()),Pr(function(){var N=mn(!0);try{H(h)?L(h).forEach(function(z){return O.set(z,h[z])}):Array.isArray(h)?h.forEach(function(z){var K=Se(z,2),fe=K[0],Te=K[1];return O.set(fe,Te)}):Z(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(z,K){return O.set(K,z)})):h!=null&&P("Cannot initialize map from "+h)}finally{Un(N)}}),this},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,N;try{for(var z=_e(h.keys()),K=z.next();!K.done;K=z.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=z.return)&&N.call(z)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Pr(function(){var N,z,K,fe,Te=Y(h),$e=new Map,ft=!1;try{for(var ct=_e(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var xt=Ot.value;if(!Te.has(xt)){var _t=O.delete(xt);if(_t)ft=!0;else{var Xt=O._data.get(xt);$e.set(xt,Xt)}}}}catch(fn){N={error:fn}}finally{try{Ot&&!Ot.done&&(z=ct.return)&&z.call(ct)}finally{if(N)throw N.error}}try{for(var Mt=_e(Te.entries()),gr=Mt.next();!gr.done;gr=Mt.next()){var Nn=Se(gr.value,2),xt=Nn[0],Xt=Nn[1],va=O._data.has(xt);if(O.set(xt,Xt),O._data.has(xt)){var ya=O._data.get(xt);$e.set(xt,ya),va||(ft=!0)}}}catch(fn){K={error:fn}}finally{try{gr&&!gr.done&&(fe=Mt.return)&&fe.call(Mt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==$e.size)O._keysAtom.reportChanged();else for(var ga=O._data.keys(),ma=$e.keys(),si=ga.next(),Dn=ma.next();!si.done;){if(si.value!==Dn.value){O._keysAtom.reportChanged();break}si=ga.next(),Dn=ma.next()}O._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var z=_e(this),K=z.next();!K.done;K=z.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];N[typeof Te=="symbol"?Te:$(Te)]=$e}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=z.return)&&O.call(z)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return $(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d}(),Ut=Q("ObservableMap",ii),aa,Rl={},ua=function(){function d(h,O,N){if(O===void 0&&(O=tt),N===void 0&&(N="ObservableSet@"+S()),this.name=N,this[aa]=Rl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(z,K){return O(z,K,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,N;try{for(var z=_e(h._data.values()),K=z.next();!K.done;K=z.next()){var fe=K.value;h.delete(fe)}}catch(Te){O={error:Te}}finally{try{K&&!K.done&&(N=z.return)&&N.call(z)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,z;try{for(var K=_e(this),fe=K.next();!fe.done;fe=K.next()){var Te=fe.value;h.call(O,Te,Te,this)}}catch($e){N={error:$e}}finally{try{fe&&!fe.done&&(z=K.return)&&z.call(K)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Tr(this)){var N=Mr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Pr(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var z=Rt(),K=vr(this),N=K||z?{type:"add",object:this,newValue:h}:null;K&&qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var N=Mr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var z=Rt(),K=vr(this),N=K||z?{type:"delete",object:this,oldValue:h}:null;return Pr(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return xo({next:function(){var z=h;return h+=1,z<N.length?{value:[O[z],N[z]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return xo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return fr(h)&&(h=h.toJS()),Pr(function(){var N=mn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(z){return O.add(z)})):se(h)?(O.clear(),h.forEach(function(z){return O.add(z)})):h!=null&&P("Cannot initialize set from "+h)}finally{Un(N)}}),this},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[aa=R,Symbol.iterator]=function(){return this.values()},d}(),fr=Q("ObservableSet",ua),sa=function(){function d(h,O,N,z){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=z,this.keysAtom=new W(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,z=this.values.get(h);if(z instanceof bn){z.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=z.prepareNewValue(O),O!==Ge.UNCHANGED){var fe=vr(this),Te=Rt(),K=fe||Te?{type:"update",object:this.proxy||N,oldValue:z.value,name:h,newValue:O}:null;z.setNewValue(O),fe&&qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var z=!!this.values.get(h);return N=new sn(z,nt,this.name+"."+$(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var z=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||z,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var fe=new sn(O,N,this.name+"."+$(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(z,h,Il(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var z=this.target;N.name=N.name||this.name+"."+$(O),this.values.set(O,new bn(N)),(h===z||ne(h,O))&&Object.defineProperty(h,O,_l(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var N=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{Tt();var z=vr(this),K=Rt(),fe=this.values.get(h),Te=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var N=z||K?{type:"remove",object:this.proxy||O,oldValue:Te,name:h}:null;z&&qt(this,N)}finally{hr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=vr(this),z=Rt(),K=N||z?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&qt(this,K),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var z=_e(this.values),K=z.next();!K.done;K=z.next()){var fe=Se(K.value,2),Te=fe[0],$e=fe[1];$e instanceof sn&&N.push(Te)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=z.return)&&O.call(z)}finally{if(h)throw h.error}}return N},d}();function ai(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];H(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var N=new sa(d,new Map,$(h),O);return U(d,R,N),N}var la=Object.create(null),fa=Object.create(null);function Il(d){return la[d]||(la[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function ca(d){var h=d[R];return h||(xe(d),d[R])}function _l(d){return fa[d]||(fa[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return ca(this).read(d)},set:function(h){ca(this).write(d,h)}})}var Bl=Q("ObservableObjectAdministration",sa);function yr(d){return _(d)?(xe(d),Bl(d[R])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Cr(d))return h!==void 0&&P(!1),d[R].atom;if(fr(d))return d[R];if(Ut(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||P(!1),N}if(xe(d),h&&!d[R]&&d[h],yr(d)){if(!h)return P(!1);var N=d[R].values.get(h);return N||P(!1),N}if(q(d)||On(d)||go(d))return d}else if(typeof d=="function"&&go(d[R]))return d[R];return P(!1)}function Zn(d,h){if(d||P("Expecting some object"),h!==void 0)return Zn(wr(d,h));if(q(d)||On(d)||go(d)||Ut(d)||fr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function Ll(d,h){var O;return h!==void 0?O=wr(d,h):yr(d)||Ut(d)||fr(d)?O=Zn(d):O=wr(d),O.name}var da=Object.prototype.toString;function Eo(d,h,O){return O===void 0&&(O=-1),Jn(d,h,O)}function Jn(d,h,O,N,z){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var fe=da.call(d);if(fe!==da.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=pa(d),h=pa(h);var Te=fe==="[object Array]";if(!Te){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,ft=h.constructor;if($e!==ft&&!(typeof $e=="function"&&$e instanceof $e&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],z=z||[];for(var ct=N.length;ct--;)if(N[ct]===d)return z[ct]===h;if(N.push(d),z.push(h),Te){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Jn(d[ct],h[ct],O-1,N,z))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(xt=Ot[ct],!(zl(h,xt)&&Jn(d[xt],h[xt],O-1,N,z)))return!1}return N.pop(),z.pop(),!0}function pa(d){return Cr(d)?d.slice():Z(d)||Ut(d)||se(d)||fr(d)?Array.from(d.entries()):d}function zl(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function xo(d){return d[Symbol.iterator]=ui,d}function ui(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var ha=ho();typeof l>"u"&&(ha.process={}),ha.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yi,extras:{getDebugName:Ll},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return ne}),i.d(c,"b",function(){return ae}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return ke}),i.d(c,"e",function(){return H}),i.d(c,"f",function(){return U}),i.d(c,"g",function(){return H}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return _e}),i.d(c,"k",function(){return A});var l,f,g,b,x,S,P,M={},w=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,X){for(var ee in X)k[ee]=X[ee];return k}function _(k){var X=k.parentNode;X&&X.removeChild(k)}function H(k,X,ee){var he,xe,pe,ze={};for(pe in X)pe=="key"?he=X[pe]:pe=="ref"?xe=X[pe]:ze[pe]=X[pe];if(arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):ee),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)ze[pe]===void 0&&(ze[pe]=k.defaultProps[pe]);return Y(k,ze,he,xe,null)}function Y(k,X,ee,he,xe){var pe={type:k,props:X,key:ee,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++g:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function U(){return{current:null}}function ae(k){return k.children}function ne(k,X){this.props=k,this.context=X}function Q(k,X){if(X==null)return k.__?Q(k.__,k.__.__k.indexOf(k)+1):null;for(var ee;X<k.__k.length;X++)if((ee=k.__k[X])!=null&&ee.__e!=null)return ee.__e;return typeof k.type=="function"?Q(k):null}function Z(k){var X,ee;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,X=0;X<k.__k.length;X++)if((ee=k.__k[X])!=null&&ee.__e!=null){k.__e=k.__c.base=ee.__e;break}return Z(k)}}function se(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!L.__r++||S!==f.debounceRendering)&&((S=f.debounceRendering)||x)(L)}function L(){for(var k;L.__r=b.length;)k=b.sort(function(X,ee){return X.__v.__b-ee.__v.__b}),b=[],k.some(function(X){var ee,he,xe,pe,ze,tt;X.__d&&(ze=(pe=(ee=X).__v).__e,(tt=ee.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,Oe(tt,pe,xe,ee.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[ze]:null,he,ze==null?Q(pe):ze,pe.__h),Pe(he,pe),pe.__e!=ze&&Z(pe)))})}function $(k,X,ee,he,xe,pe,ze,tt,Ye,nt){var ve,ut,rt,Be,Qe,At,dt,bt=he&&he.__k||w,oe=bt.length;for(ee.__k=[],ve=0;ve<X.length;ve++)if((Be=ee.__k[ve]=(Be=X[ve])==null||typeof Be=="boolean"?null:typeof Be=="string"||typeof Be=="number"||typeof Be=="bigint"?Y(null,Be,null,null,Be):Array.isArray(Be)?Y(ae,{children:Be},null,null,null):Be.__b>0?Y(Be.type,Be.props,Be.key,null,Be.__v):Be)!=null){if(Be.__=ee,Be.__b=ee.__b+1,(rt=bt[ve])===null||rt&&Be.key==rt.key&&Be.type===rt.type)bt[ve]=void 0;else for(ut=0;ut<oe;ut++){if((rt=bt[ut])&&Be.key==rt.key&&Be.type===rt.type){bt[ut]=void 0;break}rt=null}Oe(k,Be,rt=rt||M,xe,pe,ze,tt,Ye,nt),Qe=Be.__e,(ut=Be.ref)&&rt.ref!=ut&&(dt||(dt=[]),rt.ref&&dt.push(rt.ref,null,Be),dt.push(ut,Be.__c||Qe,Be)),Qe!=null?(At==null&&(At=Qe),typeof Be.type=="function"&&Be.__k===rt.__k?Be.__d=Ye=I(Be,Ye,k):Ye=R(k,Be,rt,bt,Qe,Ye),typeof ee.type=="function"&&(ee.__d=Ye)):Ye&&rt.__e==Ye&&Ye.parentNode!=k&&(Ye=Q(rt))}for(ee.__e=At,ve=oe;ve--;)bt[ve]!=null&&(typeof ee.type=="function"&&bt[ve].__e!=null&&bt[ve].__e==ee.__d&&(ee.__d=Q(he,ve+1)),Le(bt[ve],bt[ve]));if(dt)for(ve=0;ve<dt.length;ve++)Ne(dt[ve],dt[++ve],dt[++ve])}function I(k,X,ee){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,X=typeof he.type=="function"?I(he,X,ee):R(ee,he,he,xe,he.__e,X));return X}function A(k,X){return X=X||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(ee){A(ee,X)}):X.push(k)),X}function R(k,X,ee,he,xe,pe){var ze,tt,Ye;if(X.__d!==void 0)ze=X.__d,X.__d=void 0;else if(ee==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),ze=null;else{for(tt=pe,Ye=0;(tt=tt.nextSibling)&&Ye<he.length;Ye+=2)if(tt==xe)break e;k.insertBefore(xe,pe),ze=pe}return ze!==void 0?ze:xe.nextSibling}function W(k,X,ee,he,xe){var pe;for(pe in ee)pe==="children"||pe==="key"||pe in X||ce(k,pe,null,ee[pe],he);for(pe in X)xe&&typeof X[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||ee[pe]===X[pe]||ce(k,pe,X[pe],ee[pe],he)}function q(k,X,ee){X[0]==="-"?k.setProperty(X,ee):k[X]=ee==null?"":typeof ee!="number"||j.test(X)?ee:ee+"px"}function ce(k,X,ee,he,xe){var pe;e:if(X==="style")if(typeof ee=="string")k.style.cssText=ee;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(X in he)ee&&X in ee||q(k.style,X,"");if(ee)for(X in ee)he&&ee[X]===he[X]||q(k.style,X,ee[X])}else if(X[0]==="o"&&X[1]==="n")pe=X!==(X=X.replace(/Capture$/,"")),X=X.toLowerCase()in k?X.toLowerCase().slice(2):X.slice(2),k.l||(k.l={}),k.l[X+pe]=ee,ee?he||k.addEventListener(X,pe?me:Me,pe):k.removeEventListener(X,pe?me:Me,pe);else if(X!=="dangerouslySetInnerHTML"){if(xe)X=X.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(X!=="href"&&X!=="list"&&X!=="form"&&X!=="tabIndex"&&X!=="download"&&X in k)try{k[X]=ee==null?"":ee;break e}catch{}typeof ee=="function"||(ee!=null&&(ee!==!1||X[0]==="a"&&X[1]==="r")?k.setAttribute(X,ee):k.removeAttribute(X))}}function Me(k){this.l[k.type+!1](f.event?f.event(k):k)}function me(k){this.l[k.type+!0](f.event?f.event(k):k)}function Oe(k,X,ee,he,xe,pe,ze,tt,Ye){var nt,ve,ut,rt,Be,Qe,At,dt,bt,oe,Ct,St=X.type;if(X.constructor!==void 0)return null;ee.__h!=null&&(Ye=ee.__h,tt=X.__e=ee.__e,X.__h=null,pe=[tt]),(nt=f.__b)&&nt(X);try{e:if(typeof St=="function"){if(dt=X.props,bt=(nt=St.contextType)&&he[nt.__c],oe=nt?bt?bt.props.value:nt.__:he,ee.__c?At=(ve=X.__c=ee.__c).__=ve.__E:("prototype"in St&&St.prototype.render?X.__c=ve=new St(dt,oe):(X.__c=ve=new ne(dt,oe),ve.constructor=St,ve.render=Ve),bt&&bt.sub(ve),ve.props=dt,ve.state||(ve.state={}),ve.context=oe,ve.__n=he,ut=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),St.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,St.getDerivedStateFromProps(dt,ve.__s))),rt=ve.props,Be=ve.state,ut)St.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(St.getDerivedStateFromProps==null&&dt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(dt,oe),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(dt,ve.__s,oe)===!1||X.__v===ee.__v){ve.props=dt,ve.state=ve.__s,X.__v!==ee.__v&&(ve.__d=!1),ve.__v=X,X.__e=ee.__e,X.__k=ee.__k,X.__k.forEach(function(mt){mt&&(mt.__=X)}),ve.__h.length&&ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(dt,ve.__s,oe),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,Be,Qe)})}ve.context=oe,ve.props=dt,ve.state=ve.__s,(nt=f.__r)&&nt(X),ve.__d=!1,ve.__v=X,ve.__P=k,nt=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),ut||ve.getSnapshotBeforeUpdate==null||(Qe=ve.getSnapshotBeforeUpdate(rt,Be)),Ct=nt!=null&&nt.type===ae&&nt.key==null?nt.props.children:nt,$(k,Array.isArray(Ct)?Ct:[Ct],X,ee,he,xe,pe,ze,tt,Ye),ve.base=X.__e,X.__h=null,ve.__h.length&&ze.push(ve),At&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&X.__v===ee.__v?(X.__k=ee.__k,X.__e=ee.__e):X.__e=Ee(ee.__e,X,ee,he,xe,pe,ze,Ye);(nt=f.diffed)&&nt(X)}catch(mt){X.__v=null,(Ye||pe!=null)&&(X.__e=tt,X.__h=!!Ye,pe[pe.indexOf(tt)]=null),f.__e(mt,X,ee)}}function Pe(k,X){f.__c&&f.__c(X,k),k.some(function(ee){try{k=ee.__h,ee.__h=[],k.some(function(he){he.call(ee)})}catch(he){f.__e(he,ee.__v)}})}function Ee(k,X,ee,he,xe,pe,ze,tt){var Ye,nt,ve,ut=ee.props,rt=X.props,Be=X.type,Qe=0;if(Be==="svg"&&(xe=!0),pe!=null){for(;Qe<pe.length;Qe++)if((Ye=pe[Qe])&&"setAttribute"in Ye==!!Be&&(Be?Ye.localName===Be:Ye.nodeType===3)){k=Ye,pe[Qe]=null;break}}if(k==null){if(Be===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",Be):document.createElement(Be,rt.is&&rt),pe=null,tt=!1}if(Be===null)ut===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&l.call(k.childNodes),nt=(ut=ee.props||M).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(ut={},Qe=0;Qe<k.attributes.length;Qe++)ut[k.attributes[Qe].name]=k.attributes[Qe].value;(ve||nt)&&(ve&&(nt&&ve.__html==nt.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,ut,xe,tt),ve)X.__k=[];else if(Qe=X.props.children,$(k,Array.isArray(Qe)?Qe:[Qe],X,ee,he,xe&&Be!=="foreignObject",pe,ze,pe?pe[0]:ee.__k&&Q(ee,0),tt),pe!=null)for(Qe=pe.length;Qe--;)pe[Qe]!=null&&_(pe[Qe]);tt||("value"in rt&&(Qe=rt.value)!==void 0&&(Qe!==ut.value||Qe!==k.value||Be==="progress"&&!Qe)&&ce(k,"value",Qe,ut.value,!1),"checked"in rt&&(Qe=rt.checked)!==void 0&&Qe!==k.checked&&ce(k,"checked",Qe,ut.checked,!1))}return k}function Ne(k,X,ee){try{typeof k=="function"?k(X):k.current=X}catch(he){f.__e(he,ee)}}function Le(k,X,ee){var he,xe;if(f.unmount&&f.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ne(he,null,X)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,X)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Le(he[xe],X,typeof k.type!="function");ee||k.__e==null||_(k.__e),k.__e=k.__d=void 0}function Ve(k,X,ee){return this.constructor(k,ee)}function _e(k,X,ee){var he,xe,pe;f.__&&f.__(k,X),xe=(he=typeof ee=="function")?null:ee&&ee.__k||X.__k,pe=[],Oe(X,k=(!he&&ee||X).__k=H(ae,null,[k]),xe||M,M,X.ownerSVGElement!==void 0,!he&&ee?[ee]:xe?null:X.firstChild?l.call(X.childNodes):null,pe,!he&&ee?ee:xe?xe.__e:X.firstChild,he),Pe(pe,k)}function Se(k,X){_e(k,X,Se)}function Ie(k,X,ee){var he,xe,pe,ze=C({},k.props);for(pe in X)pe=="key"?he=X[pe]:pe=="ref"?xe=X[pe]:ze[pe]=X[pe];return arguments.length>2&&(ze.children=arguments.length>3?l.call(arguments,2):ee),Y(k.type,ze,he||k.key,xe||k.ref,null)}function ke(k,X){var ee={__c:X="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[X]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&xe.some(se)},this.sub=function(ze){xe.push(ze);var tt=ze.componentWillUnmount;ze.componentWillUnmount=function(){xe.splice(xe.indexOf(ze),1),tt&&tt.call(ze)}}),he.children}};return ee.Provider.__=ee.Consumer.contextType=ee}l=w.slice,f={__e:function(k,X){for(var ee,he,xe;X=X.__;)if((ee=X.__c)&&!ee.__)try{if((he=ee.constructor)&&he.getDerivedStateFromError!=null&&(ee.setState(he.getDerivedStateFromError(k)),xe=ee.__d),ee.componentDidCatch!=null&&(ee.componentDidCatch(k),xe=ee.__d),xe)return ee.__E=ee}catch(pe){k=pe}throw k}},g=0,ne.prototype.setState=function(k,X){var ee;ee=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},ee),this.props)),k&&C(ee,k),k!=null&&this.__v&&(X&&this.__h.push(X),se(this))},ne.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),se(this))},ne.prototype.render=ae,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(u,c,i){var l=i(116),f=i(44),g=i(178);l||f(Object.prototype,"toString",g,{unsafe:!0})},function(u,c,i){var l=i(39),f=i(83),g=i(70),b=i(56),x=i(111),S="Array Iterator",P=b.set,M=b.getterFor(S);u.exports=x(Array,"Array",function(w,j){P(this,{type:S,target:l(w),index:0,kind:j})},function(){var w=M(this),j=w.target,C=w.kind,_=w.index++;return!j||_>=j.length?(w.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:_,done:!1}:C=="values"?{value:j[_],done:!1}:{value:[_,j[_]],done:!1}},"values"),g.Arguments=g.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var l=i(7),f=i(147),g=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),M=S("toStringTag"),w=b.values,j=function(_,H){if(_){if(_[P]!==w)try{x(_,P,w)}catch{_[P]=w}if(_[M]||x(_,M,H),f[H]){for(var Y in b)if(_[Y]!==b[Y])try{x(_,Y,b[Y])}catch{_[Y]=b[Y]}}}};for(var C in f)j(l[C]&&l[C].prototype,C);j(g,"DOMTokenList")},function(u,c,i){var l=i(16),f=i(7),g=i(46),b=i(76),x=i(35),S=i(15),P=i(64),M=i(36),w=i(109),j=i(18),C=i(34),_=i(99),H=i(28),Y=i(33),U=i(58),ae=i(88),ne=i(32),Q=i(38),Z=i(39),se=i(87),L=i(40),$=i(71),I=i(54),A=i(66),R=i(72),W=i(139),q=i(112),ce=i(51),Me=i(37),me=i(93),Oe=i(101),Pe=i(44),Ee=i(84),Ne=i(91),Le=i(69),Ve=i(85),_e=i(27),Se=i(149),Ie=i(150),ke=i(73),k=i(56),X=i(74).forEach,ee=Ne("hidden"),he="Symbol",xe="prototype",pe=_e("toPrimitive"),ze=k.set,tt=k.getterFor(he),Ye=Object[xe],nt=f.Symbol,ve=nt&&nt[xe],ut=f.TypeError,rt=f.QObject,Be=g("JSON","stringify"),Qe=ce.f,At=Me.f,dt=W.f,bt=me.f,oe=S([].push),Ct=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Wt=Ee("symbol-to-string-registry"),pr=Ee("wks"),Zt=!rt||!rt[xe]||!rt[xe].findChild,xr=M&&j(function(){return I(At({},"a",{get:function(){return At(this,"a",{value:7}).a}})).a!=7})?function(te,re,we){var De=Qe(Ye,re);De&&delete Ye[re],At(te,re,we),De&&te!==Ye&&At(Ye,re,De)}:At,qe=function(te,re){var we=Ct[te]=I(ve);return ze(we,{type:he,tag:te,description:re}),M||(we.description=re),we},Pt=function(re,we,De){re===Ye&&Pt(St,we,De),ne(re);var Ue=se(we);return ne(De),C(Ct,Ue)?(De.enumerable?(C(re,ee)&&re[ee][Ue]&&(re[ee][Ue]=!1),De=I(De,{enumerable:$(0,!1)})):(C(re,ee)||At(re,ee,$(1,{})),re[ee][Ue]=!0),xr(re,Ue,De)):At(re,Ue,De)},nr=function(re,we){ne(re);var De=Z(we),Ue=A(De).concat(lt(De));return X(Ue,function(vt){(!M||x(Xe,De,vt))&&Pt(re,vt,De[vt])}),re},je=function(re,we){return we===void 0?I(re):nr(I(re),we)},Xe=function(re){var we=se(re),De=x(bt,this,we);return this===Ye&&C(Ct,we)&&!C(St,we)?!1:De||!C(this,we)||!C(Ct,we)||C(this,ee)&&this[ee][we]?De:!0},ot=function(re,we){var De=Z(re),Ue=se(we);if(!(De===Ye&&C(Ct,Ue)&&!C(St,Ue))){var vt=Qe(De,Ue);return vt&&C(Ct,Ue)&&!(C(De,ee)&&De[ee][Ue])&&(vt.enumerable=!0),vt}},Je=function(re){var we=dt(Z(re)),De=[];return X(we,function(Ue){!C(Ct,Ue)&&!C(Le,Ue)&&oe(De,Ue)}),De},lt=function(re){var we=re===Ye,De=dt(we?St:Z(re)),Ue=[];return X(De,function(vt){C(Ct,vt)&&(!we||C(Ye,vt))&&oe(Ue,Ct[vt])}),Ue};if(w||(nt=function(){if(U(ve,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),we=Ve(re),De=function(Ue){this===Ye&&x(De,St,Ue),C(this,ee)&&C(this[ee],we)&&(this[ee][we]=!1),xr(this,we,$(1,Ue))};return M&&Zt&&xr(Ye,we,{configurable:!0,set:De}),qe(we,re)},ve=nt[xe],Pe(ve,"toString",function(){return tt(this).tag}),Pe(nt,"withoutSetter",function(te){return qe(Ve(te),te)}),me.f=Xe,Me.f=Pt,ce.f=ot,R.f=W.f=Je,q.f=lt,Se.f=function(te){return qe(_e(te),te)},M&&(At(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Pe(Ye,"propertyIsEnumerable",Xe,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!w,sham:!w},{Symbol:nt}),X(A(pr),function(te){Ie(te)}),l({target:he,stat:!0,forced:!w},{for:function(te){var re=L(te);if(C(mt,re))return mt[re];var we=nt(re);return mt[re]=we,Wt[we]=re,we},keyFor:function(re){if(!ae(re))throw ut(re+" is not a symbol");if(C(Wt,re))return Wt[re]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),l({target:"Object",stat:!0,forced:!w,sham:!M},{create:je,defineProperty:Pt,defineProperties:nr,getOwnPropertyDescriptor:ot}),l({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),l({target:"Object",stat:!0,forced:j(function(){q.f(1)})},{getOwnPropertySymbols:function(re){return q.f(Q(re))}}),Be){var F=!w||j(function(){var te=nt();return Be([te])!="[null]"||Be({a:te})!="{}"||Be(Object(te))!="{}"});l({target:"JSON",stat:!0,forced:F},{stringify:function(re,we,De){var Ue=Oe(arguments),vt=we;if(!(!Y(we)&&re===void 0||ae(re)))return _(we)||(we=function(Jt,Qt){if(H(vt)&&(Qt=x(vt,this,Jt,Qt)),!ae(Qt))return Qt}),Ue[1]=we,b(Be,null,Ue)}})}if(!ve[pe]){var V=ve.valueOf;Pe(ve,pe,function(te){return x(V,this)})}ke(nt,he),Le[ee]=!0},function(u,c,i){var l=i(146).charAt,f=i(40),g=i(56),b=i(111),x="String Iterator",S=g.set,P=g.getterFor(x);b(String,"String",function(M){S(this,{type:x,string:f(M),index:0})},function(){var w=P(this),j=w.string,C=w.index,_;return C>=j.length?{value:void 0,done:!0}:(_=l(j,C),w.index+=_.length,{value:_,done:!1})})},function(u,c,i){(function(l){var f=function(g){return g&&g.Math==Math&&g};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var l=i(16),f=i(36),g=i(7),b=i(15),x=i(34),S=i(28),P=i(58),M=i(40),w=i(37).f,j=i(134),C=g.Symbol,_=C&&C.prototype;if(f&&S(C)&&(!("description"in _)||C().description!==void 0)){var H={},Y=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),I=P(_,this)?new C($):$===void 0?C():C($);return $===""&&(H[I]=!0),I};j(Y,C),Y.prototype=_,_.constructor=Y;var U=String(C("test"))=="Symbol(test)",ae=b(_.toString),ne=b(_.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,Z=b("".replace),se=b("".slice);w(_,"description",{configurable:!0,get:function(){var $=ne(this),I=ae($);if(x(H,$))return"";var A=U?se(I,7,-1):Z(I,Q,"$1");return A===""?void 0:A}}),l({global:!0,forced:!0},{Symbol:Y})}},function(u,c,i){var l=i(150);l("iterator")},function(u,c,i){i.d(c,"a",function(){return l.a}),i.d(c,"c",function(){return l.e}),i.d(c,"h",function(){return se}),i.d(c,"i",function(){return U}),i.d(c,"j",function(){return H}),i.d(c,"b",function(){return Pe}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return Xe});var l=i(1),f,g,b,x=0,S=[],P=l.i.__b,M=l.i.__r,w=l.i.diffed,j=l.i.__c,C=l.i.unmount;function _(F,V){l.i.__h&&l.i.__h(g,F,x||V),x=0;var te=g.__H||(g.__H={__:[],__h:[]});return F>=te.__.length&&te.__.push({}),te.__[F]}function H(F){return x=1,Y(Me,F)}function Y(F,V,te){var re=_(f++,2);return re.t=F,re.__c||(re.__=[te?te(V):Me(void 0,V),function(we){var De=re.t(re.__[0],we);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=g),re.__}function U(F,V){var te=_(f++,3);!l.i.__s&&ce(te.__H,V)&&(te.__=F,te.__H=V,g.__H.__h.push(te))}function ae(F,V){var te=_(f++,4);!l.i.__s&&ce(te.__H,V)&&(te.__=F,te.__H=V,g.__h.push(te))}function ne(F){return x=5,Z(function(){return{current:F}},[])}function Q(F,V,te){x=6,ae(function(){typeof F=="function"?F(V()):F&&(F.current=V())},te==null?te:te.concat(F))}function Z(F,V){var te=_(f++,7);return ce(te.__H,V)&&(te.__=F(),te.__H=V,te.__h=F),te.__}function se(F,V){return x=8,Z(function(){return F},V)}function L(F){var V=g.context[F.__c],te=_(f++,9);return te.c=F,V?(te.__==null&&(te.__=!0,V.sub(g)),V.props.value):F.__}function $(F,V){l.i.useDebugValue&&l.i.useDebugValue(V?V(F):F)}function I(){var F;for(S.sort(function(V,te){return V.__v.__b-te.__v.__b});F=S.pop();)if(F.__P)try{F.__H.__h.forEach(W),F.__H.__h.forEach(q),F.__H.__h=[]}catch(V){F.__H.__h=[],l.i.__e(V,F.__v)}}l.i.__b=function(F){g=null,P&&P(F)},l.i.__r=function(F){M&&M(F),f=0;var V=(g=F.__c).__H;V&&(V.__h.forEach(W),V.__h.forEach(q),V.__h=[])},l.i.diffed=function(F){w&&w(F);var V=F.__c;V&&V.__H&&V.__H.__h.length&&(S.push(V)!==1&&b===l.i.requestAnimationFrame||((b=l.i.requestAnimationFrame)||R)(I)),g=null},l.i.__c=function(F,V){V.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||q(re)})}catch(re){V.some(function(we){we.__h&&(we.__h=[])}),V=[],l.i.__e(re,te.__v)}}),j&&j(F,V)},l.i.unmount=function(F){C&&C(F);var V,te=F.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(we){V=we}}),V&&l.i.__e(V,te.__v))};var A=typeof requestAnimationFrame=="function";function R(F){var V,te=function(){clearTimeout(re),A&&cancelAnimationFrame(V),setTimeout(F)},re=setTimeout(te,100);A&&(V=requestAnimationFrame(te))}function W(F){var V=g,te=F.__c;typeof te=="function"&&(F.__c=void 0,te()),g=V}function q(F){var V=g;F.__c=F.__(),g=V}function ce(F,V){return!F||F.length!==V.length||V.some(function(te,re){return te!==F[re]})}function Me(F,V){return typeof V=="function"?V(F):V}function me(F,V){for(var te in V)F[te]=V[te];return F}function Oe(F,V){for(var te in F)if(te!=="__source"&&!(te in V))return!0;for(var re in V)if(re!=="__source"&&F[re]!==V[re])return!0;return!1}function Pe(F){this.props=F}function Ee(F,V){function te(we){var De=this.props.ref,Ue=De==we.ref;return!Ue&&De&&(De.call?De(null):De.current=null),V?!V(this.props,we)||!Ue:Oe(this.props,we)}function re(we){return this.shouldComponentUpdate=te,Object(l.e)(F,we)}return re.displayName="Memo("+(F.displayName||F.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Pe.prototype=new l.a).isPureReactComponent=!0,Pe.prototype.shouldComponentUpdate=function(F,V){return Oe(this.props,F)||Oe(this.state,V)};var Ne=l.i.__b;l.i.__b=function(F){F.type&&F.type.__f&&F.ref&&(F.props.ref=F.ref,F.ref=null),Ne&&Ne(F)};var Le=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(F){function V(te,re){var we=me({},te);return delete we.ref,F(we,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return V.$$typeof=Le,V.render=V,V.prototype.isReactComponent=V.__f=!0,V.displayName="ForwardRef("+(F.displayName||F.name)+")",V}var _e=function(F,V){return F==null?null:Object(l.k)(Object(l.k)(F).map(V))},Se={map:_e,forEach:_e,count:function(F){return F?Object(l.k)(F).length:0},only:function(F){var V=Object(l.k)(F);if(V.length!==1)throw"Children.only";return V[0]},toArray:l.k},Ie=l.i.__e;l.i.__e=function(F,V,te){if(F.then){for(var re,we=V;we=we.__;)if((re=we.__c)&&re.__c)return V.__e==null&&(V.__e=te.__e,V.__k=te.__k),re.__c(F,V)}Ie(F,V,te)};var ke=l.i.unmount;function k(F,V,te){return F&&(F.__c&&F.__c.__H&&(F.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),F.__c.__H=null),(F=me({},F)).__c!=null&&(F.__c.__P===te&&(F.__c.__P=V),F.__c=null),F.__k=F.__k&&F.__k.map(function(re){return k(re,V,te)})),F}function X(F,V,te){return F&&(F.__v=null,F.__k=F.__k&&F.__k.map(function(re){return X(re,V,te)}),F.__c&&F.__c.__P===V&&(F.__e&&te.insertBefore(F.__e,F.__d),F.__c.__e=!0,F.__c.__P=te)),F}function ee(){this.__u=0,this.t=null,this.__b=null}function he(F){var V=F.__.__c;return V&&V.__e&&V.__e(F)}function xe(F){var V,te,re;function we(De){if(V||(V=F()).then(function(Ue){te=Ue.default||Ue},function(Ue){re=Ue}),re)throw re;if(!te)throw V;return Object(l.e)(te,De)}return we.displayName="Lazy",we.__f=!0,we}function pe(){this.u=null,this.o=null}l.i.unmount=function(F){var V=F.__c;V&&V.__R&&V.__R(),V&&F.__h===!0&&(F.type=null),ke&&ke(F)},(ee.prototype=new l.a).__c=function(F,V){var te=V.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var we=he(re.__v),De=!1,Ue=function(){De||(De=!0,te.__R=null,we?we(vt):vt())};te.__R=Ue;var vt=function(){if(!--re.__u){if(re.state.__e){var Qt=re.state.__e;re.__v.__k[0]=X(Qt,Qt.__c.__P,Qt.__c.__O)}var kn;for(re.setState({__e:re.__b=null});kn=re.t.pop();)kn.forceUpdate()}},Jt=V.__h===!0;re.__u++||Jt||re.setState({__e:re.__b=re.__v.__k[0]}),F.then(Ue,Ue)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(F,V){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var we=V.__e&&Object(l.e)(l.b,null,F.fallback);return we&&(we.__h=null),[Object(l.e)(l.b,null,V.__e?null:F.children),we]};var ze=function(F,V,te){if(++te[1]===te[0]&&F.o.delete(V),F.props.revealOrder&&(F.props.revealOrder[0]!=="t"||!F.o.size))for(te=F.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;F.u=te=te[2]}};function tt(F){return this.getChildContext=function(){return F.context},F.children}function Ye(F){var V=this,te=F.i;V.componentWillUnmount=function(){Object(l.j)(null,V.l),V.l=null,V.i=null},V.i&&V.i!==te&&V.componentWillUnmount(),F.__v?(V.l||(V.i=te,V.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),V.i.appendChild(re)},insertBefore:function(re,we){this.childNodes.push(re),V.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),V.i.removeChild(re)}}),Object(l.j)(Object(l.e)(tt,{context:V.context},F.__v),V.l)):V.l&&V.componentWillUnmount()}function nt(F,V){return Object(l.e)(Ye,{__v:F,i:V})}(pe.prototype=new l.a).__e=function(F){var V=this,te=he(V.__v),re=V.o.get(F);return re[0]++,function(we){var De=function(){V.props.revealOrder?(re.push(we),ze(V,F,re)):we()};te?te(De):De()}},pe.prototype.render=function(F){this.u=null,this.o=new Map;var V=Object(l.k)(F.children);F.revealOrder&&F.revealOrder[0]==="b"&&V.reverse();for(var te=V.length;te--;)this.o.set(V[te],this.u=[1,0,this.u]);return F.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var F=this;this.o.forEach(function(V,te){ze(F,te,V)})};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document<"u",Be=function(F){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(F)};function Qe(F,V,te){return V.__k==null&&(V.textContent=""),Object(l.j)(F,V),typeof te=="function"&&te(),F?F.__c:null}function At(F,V,te){return Object(l.h)(F,V),typeof te=="function"&&te(),F?F.__c:null}l.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(F){Object.defineProperty(l.a.prototype,F,{configurable:!0,get:function(){return this["UNSAFE_"+F]},set:function(V){Object.defineProperty(this,F,{configurable:!0,writable:!0,value:V})}})});var dt=l.i.event;function bt(){}function oe(){return this.cancelBubble}function Ct(){return this.defaultPrevented}l.i.event=function(F){return dt&&(F=dt(F)),F.persist=bt,F.isPropagationStopped=oe,F.isDefaultPrevented=Ct,F.nativeEvent=F};var St,mt={configurable:!0,get:function(){return this.class}},Wt=l.i.vnode;l.i.vnode=function(F){var V=F.type,te=F.props,re=te;if(typeof V=="string"){var we=V.indexOf("-")===-1;for(var De in re={},te){var Ue=te[De];rt&&De==="children"&&V==="noscript"||De==="value"&&"defaultValue"in te&&Ue==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Ue===!0?Ue="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+V)&&!Be(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():we&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ue===null&&(Ue=void 0),re[De]=Ue)}V=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),V=="select"&&re.defaultValue!=null&&(re.value=Object(l.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),F.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}F.$$typeof=ve,Wt&&Wt(F)};var pr=l.i.__r;l.i.__r=function(F){pr&&pr(F),St=F.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(F){return St.__n[F.__c].props.value}}}};function xr(F){return l.e.bind(null,F)}function qe(F){return!!F&&F.$$typeof===ve}function Pt(F){return qe(F)?l.c.apply(null,arguments):F}function nr(F){return!!F.__k&&(Object(l.j)(null,F),!0)}function je(F){return F&&(F.base||F.nodeType===1&&F)||null}var Xe=function(F,V){return F(V)},ot=function(F,V){return F(V)},Je=l.b,lt={useState:H,useReducer:Y,useEffect:U,useLayoutEffect:ae,useRef:ne,useImperativeHandle:Q,useMemo:Z,useCallback:se,useContext:L,useDebugValue:$,version:"17.0.2",Children:Se,render:Qe,hydrate:At,unmountComponentAtNode:nr,createPortal:nt,createElement:l.e,createContext:l.d,createFactory:xr,cloneElement:Pt,createRef:l.f,Fragment:l.b,isValidElement:qe,findDOMNode:je,Component:l.a,PureComponent:Pe,memo:Ee,forwardRef:Ve,flushSync:ot,unstable_batchedUpdates:Xe,StrictMode:Je,Suspense:ee,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=lt},function(u,c,i){var l=i(7),f=i(147),g=i(148),b=i(179),x=i(57),S=function(M){if(M&&M.forEach!==b)try{x(M,"forEach",b)}catch{M.forEach=b}};for(var P in f)f[P]&&S(l[P]&&l[P].prototype);S(g)},function(u,c,i){var l=i(16),f=i(97);l({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var l=i(16),f=i(18),g=i(38),b=i(96),x=i(137),S=f(function(){b(1)});l({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(M){return b(g(M))}})},function(u,c,i){var l=i(16),f=i(46),g=i(76),b=i(199),x=i(157),S=i(32),P=i(33),M=i(54),w=i(18),j=f("Reflect","construct"),C=Object.prototype,_=[].push,H=w(function(){function ae(){}return!(j(function(){},[],ae)instanceof ae)}),Y=!w(function(){j(function(){})}),U=H||Y;l({target:"Reflect",stat:!0,forced:U,sham:U},{construct:function(ne,Q){x(ne),S(Q);var Z=arguments.length<3?ne:x(arguments[2]);if(Y&&!H)return j(ne,Q,Z);if(ne==Z){switch(Q.length){case 0:return new ne;case 1:return new ne(Q[0]);case 2:return new ne(Q[0],Q[1]);case 3:return new ne(Q[0],Q[1],Q[2]);case 4:return new ne(Q[0],Q[1],Q[2],Q[3])}var se=[null];return g(_,se,Q),new(g(b,ne,se))}var L=Z.prototype,$=M(P(L)?L:C),I=g(ne,$,Q);return P(I)?I:$}})},function(u,c){var i=Function.prototype,l=i.bind,f=i.call,g=l&&l.bind(f);u.exports=l?function(b){return b&&g(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var l=i(7),f=i(51).f,g=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(M,w){var j=M.target,C=M.global,_=M.stat,H,Y,U,ae,ne,Q;if(C?Y=l:_?Y=l[j]||x(j,{}):Y=(l[j]||{}).prototype,Y)for(U in w){if(ne=w[U],M.noTargetGet?(Q=f(Y,U),ae=Q&&Q.value):ae=Y[U],H=P(C?U:j+(_?".":"#")+U,M.forced),!H&&ae!==void 0){if(typeof ne==typeof ae)continue;S(ne,ae)}(M.sham||ae&&ae.sham)&&g(ne,"sham",!0),b(Y,U,ne,M)}}},function(u,c,i){var l=i(16),f=i(7),g=i(99),b=i(100),x=i(33),S=i(67),P=i(43),M=i(39),w=i(61),j=i(27),C=i(75),_=i(101),H=C("slice"),Y=j("species"),U=f.Array,ae=Math.max;l({target:"Array",proto:!0,forced:!H},{slice:function(Q,Z){var se=M(this),L=P(se),$=S(Q,L),I=S(Z===void 0?L:Z,L),A,R,W;if(g(se)&&(A=se.constructor,b(A)&&(A===U||g(A.prototype))?A=void 0:x(A)&&(A=A[Y],A===null&&(A=void 0)),A===U||A===void 0))return _(se,$,I);for(R=new(A===void 0?U:A)(ae(I-$,0)),W=0;$<I;$++,W++)$ in se&&w(R,W,se[$]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var l=i(16),f=i(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var l=i(16),f=i(38),g=i(66),b=i(18),x=b(function(){g(1)});l({target:"Object",stat:!0,forced:x},{keys:function(P){return g(f(P))}})},function(u,c,i){var l=i(16),f=i(18),g=i(39),b=i(51).f,x=i(36),S=f(function(){b(1)}),P=!x||S;l({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(w,j){return b(g(w),j)}})},function(u,c,i){var l=i(16),f=i(74).filter,g=i(75),b=g("filter");l({target:"Array",proto:!0,forced:!b},{filter:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(16),f=i(36),g=i(135),b=i(39),x=i(51),S=i(61);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(M){for(var w=b(M),j=x.f,C=g(w),_={},H=0,Y,U;C.length>H;)U=j(w,Y=C[H++]),U!==void 0&&S(_,Y,U);return _}})},function(u,c,i){var l=i(36),f=i(94).EXISTS,g=i(15),b=i(37).f,x=Function.prototype,S=g(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=g(P.exec),w="name";l&&!f&&b(x,w,{configurable:!0,get:function(){try{return M(P,S(this))[1]}catch{return""}}})},function(u,c,i){var l=i(16),f=i(182),g=i(118),b=!g(function(x){Array.from(x)});l({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var l=i(7),f=i(84),g=i(34),b=i(85),x=i(109),S=i(128),P=f("wks"),M=l.Symbol,w=M&&M.for,j=S?M:M&&M.withoutSetter||b;u.exports=function(C){if(!g(P,C)||!(x||typeof P[C]=="string")){var _="Symbol."+C;x&&g(M,C)?P[C]=M[C]:S&&w?P[C]=w(_):P[C]=j(_)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var l=i(16),f=i(7),g=i(18),b=i(99),x=i(33),S=i(38),P=i(43),M=i(61),w=i(119),j=i(75),C=i(27),_=i(65),H=C("isConcatSpreadable"),Y=9007199254740991,U="Maximum allowed index exceeded",ae=f.TypeError,ne=_>=51||!g(function(){var L=[];return L[H]=!1,L.concat()[0]!==L}),Q=j("concat"),Z=function(L){if(!x(L))return!1;var $=L[H];return $!==void 0?!!$:b(L)},se=!ne||!Q;l({target:"Array",proto:!0,forced:se},{concat:function($){var I=S(this),A=w(I,0),R=0,W,q,ce,Me,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],Z(me)){if(Me=P(me),R+Me>Y)throw ae(U);for(q=0;q<Me;q++,R++)q in me&&M(A,R,me[q])}else{if(R>=Y)throw ae(U);M(A,R++,me)}return A.length=R,A}})},function(u,c,i){var l=i(16),f=i(198);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var l=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,g=l.a||f||Function("return this")();c.a=g},function(u,c,i){var l=i(7),f=i(33),g=l.String,b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not an object")}},function(u,c,i){var l=i(28);u.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(u,c,i){var l=i(15),f=i(38),g=l({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return g(f(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var l=i(7),f=i(36),g=i(129),b=i(32),x=i(87),S=l.TypeError,P=Object.defineProperty;c.f=f?P:function(w,j,C){if(b(w),j=x(j),b(C),g)try{return P(w,j,C)}catch{}if("get"in C||"set"in C)throw S("Accessors not supported");return"value"in C&&(w[j]=C.value),w}},function(u,c,i){var l=i(7),f=i(45),g=l.Object;u.exports=function(b){return g(f(b))}},function(u,c,i){var l=i(81),f=i(45);u.exports=function(g){return l(f(g))}},function(u,c,i){var l=i(7),f=i(98),g=l.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(b)}},function(u,c,i){var l=i(16),f=i(74).map,g=i(75),b=g("map");l({target:"Array",proto:!0,forced:!b},{map:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(l){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return M});var f=i(10),g=function(w,j){var C=typeof Symbol=="function"&&w[Symbol.iterator];if(!C)return w;var _=C.call(w),H,Y=[],U;try{for(;(j===void 0||j-- >0)&&!(H=_.next()).done;)Y.push(H.value)}catch(ae){U={error:ae}}finally{try{H&&!H.done&&(C=_.return)&&C.call(_)}finally{if(U)throw U.error}}return Y};function b(){var w=g(Object(f.j)(0),2),j=w[1],C=Object(f.h)(function(){j(function(_){return _+1})},[]);return C}function x(w){if(!w||typeof w!="object")return!1;var j=Object.getPrototypeOf(w);return!j||j===Object.prototype}function S(w){return typeof Symbol=="function"?Symbol.for(w):"__$mobx-react "+w+"__"}var P={};function M(){return typeof window<"u"?window:typeof l<"u"?l:typeof self<"u"?self:P}}).call(this,i(82))},function(u,c,i){var l=i(90);u.exports=function(f){return l(f.length)}},function(u,c,i){var l=i(7),f=i(28),g=i(34),b=i(57),x=i(108),S=i(92),P=i(56),M=i(94).CONFIGURABLE,w=P.get,j=P.enforce,C=String(String).split("String");(u.exports=function(_,H,Y,U){var ae=U?!!U.unsafe:!1,ne=U?!!U.enumerable:!1,Q=U?!!U.noTargetGet:!1,Z=U&&U.name!==void 0?U.name:H,se;if(f(Y)&&(String(Z).slice(0,7)==="Symbol("&&(Z="["+String(Z).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(Y,"name")||M&&Y.name!==Z)&&b(Y,"name",Z),se=j(Y),se.source||(se.source=C.join(typeof Z=="string"?Z:""))),_===l){ne?_[H]=Y:x(H,Y);return}else ae?!Q&&_[H]&&(ne=!0):delete _[H];ne?_[H]=Y:b(_,H,Y)})(Function.prototype,"toString",function(){return f(this)&&w(this).source||S(this)})},function(u,c,i){var l=i(7),f=l.TypeError;u.exports=function(g){if(g==null)throw f("Can't call method on "+g);return g}},function(u,c,i){var l=i(7),f=i(28),g=function(b){return f(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?g(l[b]):l[b]&&l[b][x]}},function(u,c,i){var l=i(16),f=i(35),g=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function M(w,j){var C=arguments.length<3?w:arguments[2],_,H;if(b(w)===C)return w[j];if(_=S.f(w,j),_)return x(_)?_.value:_.get===void 0?void 0:f(_.get,C);if(g(H=P(w)))return M(H,j,C)}l({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(l){var f=i(31),g=i(165),b=v&&!v.nodeType&&v,x=b&&typeof l=="object"&&l&&!l.nodeType&&l,S=x&&x.exports===b,P=S?f.a.Buffer:void 0,M=P?P.isBuffer:void 0,w=M||g.a;c.a=w}).call(this,i(121)(u))},function(u,c,i){(function(l){var f=i(105),g=v&&!v.nodeType&&v,b=g&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===g,S=x&&f.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||S&&S.binding&&S.binding("util")}catch{}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var l=i(15),f=l({}.toString),g=l("".slice);u.exports=function(b){return g(f(b),8,-1)}},function(u,c,i){var l=i(36),f=i(35),g=i(93),b=i(71),x=i(39),S=i(87),P=i(34),M=i(129),w=Object.getOwnPropertyDescriptor;c.f=l?w:function(C,_){if(C=x(C),_=S(_),M)try{return w(C,_)}catch{}if(P(C,_))return b(!f(g.f,C,_),C[_])}},function(u,c,i){var l=i(16),f=i(213).entries;l({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var l=i(46);u.exports=l("navigator","userAgent")||""},function(u,c,i){var l=i(32),f=i(168),g=i(110),b=i(69),x=i(133),S=i(86),P=i(91),M=">",w="<",j="prototype",C="script",_=P("IE_PROTO"),H=function(){},Y=function(Z){return w+C+M+Z+w+"/"+C+M},U=function(Z){Z.write(Y("")),Z.close();var se=Z.parentWindow.Object;return Z=null,se},ae=function(){var Z=S("iframe"),se="java"+C+":",L;return Z.style.display="none",x.appendChild(Z),Z.src=String(se),L=Z.contentWindow.document,L.open(),L.write(Y("document.F=Object")),L.close(),L.F},ne,Q=function(){try{ne=new ActiveXObject("htmlfile")}catch{}Q=typeof document<"u"?document.domain&&ne?U(ne):ae():U(ne);for(var Z=g.length;Z--;)delete Q[j][g[Z]];return Q()};b[_]=!0,u.exports=Object.create||function(se,L){var $;return se!==null?(H[j]=l(se),$=new H,H[j]=null,$[_]=se):$=Q(),L===void 0?$:f($,L)}},function(u,c,i){var l=i(7),f=i(28),g=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not a function")}},function(u,c,i){var l=i(170),f=i(7),g=i(15),b=i(33),x=i(57),S=i(34),P=i(107),M=i(91),w=i(69),j="Object already initialized",C=f.TypeError,_=f.WeakMap,H,Y,U,ae=function(I){return U(I)?Y(I):H(I,{})},ne=function(I){return function(A){var R;if(!b(A)||(R=Y(A)).type!==I)throw C("Incompatible receiver, "+I+" required");return R}};if(l||P.state){var Q=P.state||(P.state=new _),Z=g(Q.get),se=g(Q.has),L=g(Q.set);H=function(I,A){if(se(Q,I))throw new C(j);return A.facade=I,L(Q,I,A),A},Y=function(I){return Z(Q,I)||{}},U=function(I){return se(Q,I)}}else{var $=M("state");w[$]=!0,H=function(I,A){if(S(I,$))throw new C(j);return A.facade=I,x(I,$,A),A},Y=function(I){return S(I,$)?I[$]:{}},U=function(I){return S(I,$)}}u.exports={set:H,get:Y,has:U,enforce:ae,getterFor:ne}},function(u,c,i){var l=i(36),f=i(37),g=i(71);u.exports=l?function(b,x,S){return f.f(b,x,g(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var l=i(15);u.exports=l({}.isPrototypeOf)},function(u,c,i){var l=i(55);u.exports=function(f,g){var b=f[g];return b==null?void 0:l(b)}},function(u,c,i){var l=i(173),f=i(177);l("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var l=i(87),f=i(37),g=i(71);u.exports=function(b,x,S){var P=l(x);P in b?f.f(b,P,g(0,S)):b[P]=S}},function(u,c,i){var l=i(15),f=i(55),g=l(l.bind);u.exports=function(b,x){return f(b),x===void 0?b:g?g(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var l=i(16),f=i(214),g=i(83);l({target:"Array",proto:!0},{fill:f}),g("fill")},function(u,c){u.exports=!1},function(u,c,i){var l=i(7),f=i(53),g=l.process,b=l.Deno,x=g&&g.versions||b&&b.version,S=x&&x.v8,P,M;S&&(P=S.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var l=i(131),f=i(110);u.exports=Object.keys||function(b){return l(b,f)}},function(u,c,i){var l=i(68),f=Math.max,g=Math.min;u.exports=function(b,x){var S=l(b);return S<0?f(S+x,0):g(S,x)}},function(u,c){var i=Math.ceil,l=Math.floor;u.exports=function(f){var g=+f;return g!==g||g===0?0:(g>0?l:i)(g)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,l){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:l}}},function(u,c,i){var l=i(131),f=i(110),g=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return l(x,g)}},function(u,c,i){var l=i(37).f,f=i(34),g=i(27),b=g("toStringTag");u.exports=function(x,S,P){x&&!f(x=P?x:x.prototype,b)&&l(x,b,{configurable:!0,value:S})}},function(u,c,i){var l=i(62),f=i(15),g=i(81),b=i(38),x=i(43),S=i(119),P=f([].push),M=function(w){var j=w==1,C=w==2,_=w==3,H=w==4,Y=w==6,U=w==7,ae=w==5||Y;return function(ne,Q,Z,se){for(var L=b(ne),$=g(L),I=l(Q,Z),A=x($),R=0,W=se||S,q=j?W(ne,A):C||U?W(ne,0):void 0,ce,Me;A>R;R++)if((ae||R in $)&&(ce=$[R],Me=I(ce,R,L),w))if(j)q[R]=Me;else if(Me)switch(w){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(q,ce)}else switch(w){case 4:return!1;case 7:P(q,ce)}return Y?-1:_||H?H:q}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var l=i(18),f=i(27),g=i(65),b=f("species");u.exports=function(x){return g>=51||!l(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,l=i.apply,f=i.bind,g=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?g.bind(l):function(){return g.apply(l,arguments)})},function(u,c,i){var l=i(16),f=i(15),g=i(81),b=i(39),x=i(120),S=f([].join),P=g!=Object,M=x("join",",");l({target:"Array",proto:!0,forced:P||!M},{join:function(j){return S(b(this),j===void 0?",":j)}})},function(u,c,i){var l=i(76),f=i(35),g=i(15),b=i(122),x=i(154),S=i(32),P=i(45),M=i(156),w=i(123),j=i(90),C=i(40),_=i(59),H=i(113),Y=i(124),U=i(102),ae=i(151),ne=i(18),Q=ae.UNSUPPORTED_Y,Z=4294967295,se=Math.min,L=[].push,$=g(/./.exec),I=g(L),A=g("".slice),R=!ne(function(){var W=/(?:)/,q=W.exec;W.exec=function(){return q.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,q,ce){var Me;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Me=function(me,Oe){var Pe=C(P(this)),Ee=Oe===void 0?Z:Oe>>>0;if(Ee===0)return[];if(me===void 0)return[Pe];if(!x(me))return f(q,Pe,me,Ee);for(var Ne=[],Le=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,_e=new RegExp(me.source,Le+"g"),Se,Ie,ke;(Se=f(U,_e,Pe))&&(Ie=_e.lastIndex,!(Ie>Ve&&(I(Ne,A(Pe,Ve,Se.index)),Se.length>1&&Se.index<Pe.length&&l(L,Ne,H(Se,1)),ke=Se[0].length,Ve=Ie,Ne.length>=Ee)));)_e.lastIndex===Se.index&&_e.lastIndex++;return Ve===Pe.length?(ke||!$(_e,""))&&I(Ne,""):I(Ne,A(Pe,Ve)),Ne.length>Ee?H(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Me=function(me,Oe){return me===void 0&&Oe===0?[]:f(q,this,me,Oe)}:Me=q,[function(Oe,Pe){var Ee=P(this),Ne=Oe==null?void 0:_(Oe,W);return Ne?f(Ne,Oe,Ee,Pe):f(Me,C(Ee),Oe,Pe)},function(me,Oe){var Pe=S(this),Ee=C(me),Ne=ce(Me,Pe,Ee,Oe,Me!==q);if(Ne.done)return Ne.value;var Le=M(Pe,RegExp),Ve=Pe.unicode,_e=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Q?"g":"y"),Se=new Le(Q?"^(?:"+Pe.source+")":Pe,_e),Ie=Oe===void 0?Z:Oe>>>0;if(Ie===0)return[];if(Ee.length===0)return Y(Se,Ee)===null?[Ee]:[];for(var ke=0,k=0,X=[];k<Ee.length;){Se.lastIndex=Q?0:k;var ee=Y(Se,Q?A(Ee,k):Ee),he;if(ee===null||(he=se(j(Se.lastIndex+(Q?k:0)),Ee.length))===ke)k=w(Ee,k,Ve);else{if(I(X,A(Ee,ke,k)),X.length===Ie)return X;for(var xe=1;xe<=ee.length-1;xe++)if(I(X,ee[xe]),X.length===Ie)return X;k=ke=he}}return I(X,A(Ee,ke)),X}]},!R,Q)},function(u,c,i){var l=i(36),f=i(7),g=i(15),b=i(95),x=i(44),S=i(34),P=i(143),M=i(58),w=i(88),j=i(130),C=i(18),_=i(72).f,H=i(51).f,Y=i(37).f,U=i(196),ae=i(159).trim,ne="Number",Q=f[ne],Z=Q.prototype,se=f.TypeError,L=g("".slice),$=g("".charCodeAt),I=function(Me){var me=j(Me,"number");return typeof me=="bigint"?me:A(me)},A=function(Me){var me=j(Me,"number"),Oe,Pe,Ee,Ne,Le,Ve,_e,Se;if(w(me))throw se("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ae(me),Oe=$(me,0),Oe===43||Oe===45){if(Pe=$(me,2),Pe===88||Pe===120)return NaN}else if(Oe===48){switch($(me,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+me}for(Le=L(me,2),Ve=Le.length,_e=0;_e<Ve;_e++)if(Se=$(Le,_e),Se<48||Se>Ne)return NaN;return parseInt(Le,Ee)}}return+me};if(b(ne,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var R=function(me){var Oe=arguments.length<1?0:Q(I(me)),Pe=this;return M(Z,Pe)&&C(function(){U(Pe)})?P(Object(Oe),Pe,R):Oe},W=l?_(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),q=0,ce;W.length>q;q++)S(Q,ce=W[q])&&!S(R,ce)&&Y(R,ce,H(Q,ce));R.prototype=Z,Z.constructor=R,x(f,ne,R)}},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var l=i(7),f=i(15),g=i(18),b=i(50),x=l.Object,S=f("".split);u.exports=g(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var l=i(27),f=i(54),g=i(37),b=l("unscopables"),x=Array.prototype;x[b]==null&&g.f(x,b,{configurable:!0,value:f(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var l=i(64),f=i(107);(u.exports=function(g,b){return f[g]||(f[g]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var l=i(15),f=0,g=Math.random(),b=l(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++f+g,36)}},function(u,c,i){var l=i(7),f=i(33),g=l.document,b=f(g)&&f(g.createElement);u.exports=function(x){return b?g.createElement(x):{}}},function(u,c,i){var l=i(130),f=i(88);u.exports=function(g){var b=l(g,"string");return f(b)?b:b+""}},function(u,c,i){var l=i(7),f=i(46),g=i(28),b=i(58),x=i(128),S=l.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var M=f("Symbol");return g(M)&&b(M.prototype,S(P))}},function(u,c,i){var l=i(7),f=l.String;u.exports=function(g){try{return f(g)}catch{return"Object"}}},function(u,c,i){var l=i(68),f=Math.min;u.exports=function(g){return g>0?f(l(g),9007199254740991):0}},function(u,c,i){var l=i(84),f=i(85),g=l("keys");u.exports=function(b){return g[b]||(g[b]=f(b))}},function(u,c,i){var l=i(15),f=i(28),g=i(107),b=l(Function.toString);f(g.inspectSource)||(g.inspectSource=function(x){return b(x)}),u.exports=g.inspectSource},function(u,c,i){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,g=f&&!l.call({1:2},1);c.f=g?function(x){var S=f(this,x);return!!S&&S.enumerable}:l},function(u,c,i){var l=i(36),f=i(34),g=Function.prototype,b=l&&Object.getOwnPropertyDescriptor,x=f(g,"name"),S=x&&function(){}.name==="something",P=x&&(!l||l&&b(g,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var l=i(18),f=i(28),g=/#|\.prototype\./,b=function(w,j){var C=S[x(w)];return C==M?!0:C==P?!1:f(j)?l(j):!!j},x=b.normalize=function(w){return String(w).replace(g,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var l=i(7),f=i(34),g=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),M=l.Object,w=M.prototype;u.exports=S?M.getPrototypeOf:function(j){var C=b(j);if(f(C,P))return C[P];var _=C.constructor;return g(_)&&C instanceof _?_.prototype:C instanceof M?w:null}},function(u,c,i){var l=i(15),f=i(32),g=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch{}return function(M,w){return f(M),g(w),b?S(M,w):M.__proto__=w,M}}():void 0)},function(u,c,i){var l=i(7),f=i(116),g=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=l.Object,M=b(function(){return arguments}())=="Arguments",w=function(j,C){try{return j[C]}catch{}};u.exports=f?b:function(j){var C,_,H;return j===void 0?"Undefined":j===null?"Null":typeof(_=w(C=P(j),S))=="string"?_:M?b(C):(H=b(C))=="Object"&&g(C.callee)?"Arguments":H}},function(u,c,i){var l=i(50);u.exports=Array.isArray||function(g){return l(g)=="Array"}},function(u,c,i){var l=i(15),f=i(18),g=i(28),b=i(98),x=i(46),S=i(92),P=function(){},M=[],w=x("Reflect","construct"),j=/^\s*(?:class|function)\b/,C=l(j.exec),_=!j.exec(P),H=function(U){if(!g(U))return!1;try{return w(P,M,U),!0}catch{return!1}},Y=function(U){if(!g(U))return!1;switch(b(U)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _||!!C(j,S(U))};u.exports=!w||f(function(){var U;return H(H.call)||!H(Object)||!H(function(){U=!0})||U})?Y:H},function(u,c,i){var l=i(15);u.exports=l([].slice)},function(u,c,i){var l=i(35),f=i(15),g=i(40),b=i(184),x=i(151),S=i(84),P=i(54),M=i(56).get,w=i(185),j=i(186),C=S("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,H=_,Y=f("".charAt),U=f("".indexOf),ae=f("".replace),ne=f("".slice),Q=function(){var $=/a/,I=/b*/g;return l(_,$,"a"),l(_,I,"a"),$.lastIndex!==0||I.lastIndex!==0}(),Z=x.BROKEN_CARET,se=/()??/.exec("")[1]!==void 0,L=Q||se||Z||w||j;L&&(H=function(I){var A=this,R=M(A),W=g(I),q=R.raw,ce,Me,me,Oe,Pe,Ee,Ne;if(q)return q.lastIndex=A.lastIndex,ce=l(H,q,W),A.lastIndex=q.lastIndex,ce;var Le=R.groups,Ve=Z&&A.sticky,_e=l(b,A),Se=A.source,Ie=0,ke=W;if(Ve&&(_e=ae(_e,"y",""),U(_e,"g")===-1&&(_e+="g"),ke=ne(W,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&Y(W,A.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",ke=" "+ke,Ie++),Me=new RegExp("^(?:"+Se+")",_e)),se&&(Me=new RegExp("^"+Se+"$(?!\\s)",_e)),Q&&(me=A.lastIndex),Oe=l(_,Ve?Me:A,ke),Ve?Oe?(Oe.input=ne(Oe.input,Ie),Oe[0]=ne(Oe[0],Ie),Oe.index=A.lastIndex,A.lastIndex+=Oe[0].length):A.lastIndex=0:Q&&Oe&&(A.lastIndex=A.global?Oe.index+Oe[0].length:me),se&&Oe&&Oe.length>1&&l(C,Oe[0],Me,function(){for(Pe=1;Pe<arguments.length-2;Pe++)arguments[Pe]===void 0&&(Oe[Pe]=void 0)}),Oe&&Le)for(Oe.groups=Ee=P(null),Pe=0;Pe<Le.length;Pe++)Ne=Le[Pe],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=H},function(u,c,i){var l=i(16),f=i(7),g=i(67),b=i(68),x=i(43),S=i(38),P=i(119),M=i(61),w=i(75),j=w("splice"),C=f.TypeError,_=Math.max,H=Math.min,Y=9007199254740991,U="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!j},{splice:function(ne,Q){var Z=S(this),se=x(Z),L=g(ne,se),$=arguments.length,I,A,R,W,q,ce;if($===0?I=A=0:$===1?(I=0,A=se-L):(I=$-2,A=H(_(b(Q),0),se-L)),se+I-A>Y)throw C(U);for(R=P(Z,A),W=0;W<A;W++)q=L+W,q in Z&&M(R,W,Z[q]);if(R.length=A,I<A){for(W=L;W<se-A;W++)q=W+A,ce=W+I,q in Z?Z[ce]=Z[q]:delete Z[ce];for(W=se;W>se-A+I;W--)delete Z[W-1]}else if(I>A)for(W=se-A;W>L;W--)q=W+A-1,ce=W+I-1,q in Z?Z[ce]=Z[q]:delete Z[ce];for(W=0;W<I;W++)Z[W+L]=arguments[W+2];return Z.length=se-A+I,R}})},function(u,c,i){var l=i(16),f=i(201),g=i(202);l({target:"String",proto:!0,forced:g("anchor")},{anchor:function(x){return f(this,"a","name",x)}})},function(u,c,i){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,i(82))},function(u,c,i){(function(l){var f=i(31),g=v&&!v.nodeType&&v,b=g&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===g,S=x?f.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function M(w,j){if(j)return w.slice();var C=w.length,_=P?P(C):new w.constructor(C);return w.copy(_),_}c.a=M}).call(this,i(121)(u))},function(u,c,i){var l=i(7),f=i(108),g="__core-js_shared__",b=l[g]||f(g,{});u.exports=b},function(u,c,i){var l=i(7),f=Object.defineProperty;u.exports=function(g,b){try{f(l,g,{value:b,configurable:!0,writable:!0})}catch{l[g]=b}return b}},function(u,c,i){var l=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var l=i(16),f=i(35),g=i(64),b=i(94),x=i(28),S=i(171),P=i(96),M=i(97),w=i(73),j=i(57),C=i(44),_=i(27),H=i(70),Y=i(136),U=b.PROPER,ae=b.CONFIGURABLE,ne=Y.IteratorPrototype,Q=Y.BUGGY_SAFARI_ITERATORS,Z=_("iterator"),se="keys",L="values",$="entries",I=function(){return this};u.exports=function(A,R,W,q,ce,Me,me){S(W,R,q);var Oe=function(k){if(k===ce&&Ve)return Ve;if(!Q&&k in Ne)return Ne[k];switch(k){case se:return function(){return new W(this,k)};case L:return function(){return new W(this,k)};case $:return function(){return new W(this,k)}}return function(){return new W(this)}},Pe=R+" Iterator",Ee=!1,Ne=A.prototype,Le=Ne[Z]||Ne["@@iterator"]||ce&&Ne[ce],Ve=!Q&&Le||Oe(ce),_e=R=="Array"&&Ne.entries||Le,Se,Ie,ke;if(_e&&(Se=P(_e.call(new A)),Se!==Object.prototype&&Se.next&&(!g&&P(Se)!==ne&&(M?M(Se,ne):x(Se[Z])||C(Se,Z,I)),w(Se,Pe,!0,!0),g&&(H[Pe]=I))),U&&ce==L&&Le&&Le.name!==L&&(!g&&ae?j(Ne,"name",L):(Ee=!0,Ve=function(){return f(Le,this)})),ce)if(Ie={values:Oe(L),keys:Me?Ve:Oe(se),entries:Oe($)},me)for(ke in Ie)(Q||Ee||!(ke in Ne))&&C(Ne,ke,Ie[ke]);else l({target:R,proto:!0,forced:Q||Ee},Ie);return(!g||me)&&Ne[Z]!==Ve&&C(Ne,Z,Ve,{name:ce}),H[R]=Ve,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var l=i(7),f=i(67),g=i(43),b=i(61),x=l.Array,S=Math.max;u.exports=function(P,M,w){for(var j=g(P),C=f(M,j),_=f(w===void 0?j:w,j),H=x(S(_-C,0)),Y=0;C<_;C++,Y++)b(H,Y,P[C]);return H.length=Y,H}},function(u,c,i){var l=i(7),f=i(62),g=i(35),b=i(32),x=i(89),S=i(140),P=i(43),M=i(58),w=i(141),j=i(115),C=i(142),_=l.TypeError,H=function(U,ae){this.stopped=U,this.result=ae},Y=H.prototype;u.exports=function(U,ae,ne){var Q=ne&&ne.that,Z=!!(ne&&ne.AS_ENTRIES),se=!!(ne&&ne.IS_ITERATOR),L=!!(ne&&ne.INTERRUPTED),$=f(ae,Q),I,A,R,W,q,ce,Me,me=function(Pe){return I&&C(I,"normal",Pe),new H(!0,Pe)},Oe=function(Pe){return Z?(b(Pe),L?$(Pe[0],Pe[1],me):$(Pe[0],Pe[1])):L?$(Pe,me):$(Pe)};if(se)I=U;else{if(A=j(U),!A)throw _(x(U)+" is not iterable");if(S(A)){for(R=0,W=P(U);W>R;R++)if(q=Oe(U[R]),q&&M(Y,q))return q;return new H(!1)}I=w(U,A)}for(ce=I.next;!(Me=g(ce,I)).done;){try{q=Oe(Me.value)}catch(Pe){C(I,"throw",Pe)}if(typeof q=="object"&&q&&M(Y,q))return q}return new H(!1)}},function(u,c,i){var l=i(98),f=i(59),g=i(70),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return f(S,x)||f(S,"@@iterator")||g[l(S)]}},function(u,c,i){var l=i(27),f=l("toStringTag"),g={};g[f]="z",u.exports=String(g)==="[object z]"},function(u,c,i){var l=i(7),f=i(58),g=l.TypeError;u.exports=function(b,x){if(f(x,b))return b;throw g("Incorrect invocation")}},function(u,c,i){var l=i(27),f=l("iterator"),g=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){g=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}u.exports=function(S,P){if(!P&&!g)return!1;var M=!1;try{var w={};w[f]=function(){return{next:function(){return{done:M=!0}}}},S(w)}catch{}return M}},function(u,c,i){var l=i(180);u.exports=function(f,g){return new(l(f))(g===0?0:g)}},function(u,c,i){var l=i(18);u.exports=function(f,g){var b=[][f];return!!b&&l(function(){b.call(null,g||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var l=Object.create(i);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(u,c,i){i(19);var l=i(15),f=i(44),g=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),M=RegExp.prototype;u.exports=function(w,j,C,_){var H=x(w),Y=!b(function(){var Q={};return Q[H]=function(){return 7},""[w](Q)!=7}),U=Y&&!b(function(){var Q=!1,Z=/a/;return w==="split"&&(Z={},Z.constructor={},Z.constructor[P]=function(){return Z},Z.flags="",Z[H]=/./[H]),Z.exec=function(){return Q=!0,null},Z[H](""),!Q});if(!Y||!U||C){var ae=l(/./[H]),ne=j(H,""[w],function(Q,Z,se,L,$){var I=l(Q),A=Z.exec;return A===g||A===M.exec?Y&&!$?{done:!0,value:ae(Z,se,L)}:{done:!0,value:I(se,Z,L)}:{done:!1}});f(String.prototype,w,ne[0]),f(M,H,ne[1])}_&&S(M[H],"sham",!0)}},function(u,c,i){var l=i(146).charAt;u.exports=function(f,g,b){return g+(b?l(f,g).length:1)}},function(u,c,i){var l=i(7),f=i(35),g=i(32),b=i(28),x=i(50),S=i(102),P=l.TypeError;u.exports=function(M,w){var j=M.exec;if(b(j)){var C=f(j,M,w);return C!==null&&g(C),C}if(x(M)==="RegExp")return f(S,M,w);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var l=i(76),f=i(35),g=i(15),b=i(122),x=i(18),S=i(32),P=i(28),M=i(68),w=i(90),j=i(40),C=i(45),_=i(123),H=i(59),Y=i(197),U=i(124),ae=i(27),ne=ae("replace"),Q=Math.max,Z=Math.min,se=g([].concat),L=g([].push),$=g("".indexOf),I=g("".slice),A=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[ne]?/./[ne]("a","$0")==="":!1}(),q=!x(function(){var ce=/./;return ce.exec=function(){var Me=[];return Me.groups={a:"7"},Me},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Me,me){var Oe=W?"$":"$0";return[function(Ee,Ne){var Le=C(this),Ve=Ee==null?void 0:H(Ee,ne);return Ve?f(Ve,Ee,Le,Ne):f(Me,j(Le),Ee,Ne)},function(Pe,Ee){var Ne=S(this),Le=j(Pe);if(typeof Ee=="string"&&$(Ee,Oe)===-1&&$(Ee,"$<")===-1){var Ve=me(Me,Ne,Le,Ee);if(Ve.done)return Ve.value}var _e=P(Ee);_e||(Ee=j(Ee));var Se=Ne.global;if(Se){var Ie=Ne.unicode;Ne.lastIndex=0}for(var ke=[];;){var k=U(Ne,Le);if(k===null||(L(ke,k),!Se))break;var X=j(k[0]);X===""&&(Ne.lastIndex=_(Le,w(Ne.lastIndex),Ie))}for(var ee="",he=0,xe=0;xe<ke.length;xe++){k=ke[xe];for(var pe=j(k[0]),ze=Q(Z(M(k.index),Le.length),0),tt=[],Ye=1;Ye<k.length;Ye++)L(tt,A(k[Ye]));var nt=k.groups;if(_e){var ve=se([pe],tt,ze,Le);nt!==void 0&&L(ve,nt);var ut=j(l(Ee,void 0,ve))}else ut=Y(pe,Le,ze,tt,nt,Ee);ze>=he&&(ee+=I(Le,he,ze)+ut,he=ze+pe.length)}return ee+I(Le,he)}]},!q||!R||W)},function(u,c,i){var l=i(50),f=i(7);u.exports=l(f.process)=="process"},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var l=i(109);u.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var l=i(36),f=i(18),g=i(86);u.exports=!l&&!f(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var l=i(7),f=i(35),g=i(33),b=i(88),x=i(59),S=i(169),P=i(27),M=l.TypeError,w=P("toPrimitive");u.exports=function(j,C){if(!g(j)||b(j))return j;var _=x(j,w),H;if(_){if(C===void 0&&(C="default"),H=f(_,j,C),!g(H)||b(H))return H;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),S(j,C)}},function(u,c,i){var l=i(15),f=i(34),g=i(39),b=i(132).indexOf,x=i(69),S=l([].push);u.exports=function(P,M){var w=g(P),j=0,C=[],_;for(_ in w)!f(x,_)&&f(w,_)&&S(C,_);for(;M.length>j;)f(w,_=M[j++])&&(~b(C,_)||S(C,_));return C}},function(u,c,i){var l=i(39),f=i(67),g=i(43),b=function(x){return function(S,P,M){var w=l(S),j=g(w),C=f(M,j),_;if(x&&P!=P){for(;j>C;)if(_=w[C++],_!=_)return!0}else for(;j>C;C++)if((x||C in w)&&w[C]===P)return x||C||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var l=i(46);u.exports=l("document","documentElement")},function(u,c,i){var l=i(34),f=i(135),g=i(51),b=i(37);u.exports=function(x,S){for(var P=f(S),M=b.f,w=g.f,j=0;j<P.length;j++){var C=P[j];l(x,C)||M(x,C,w(S,C))}}},function(u,c,i){var l=i(46),f=i(15),g=i(72),b=i(112),x=i(32),S=f([].concat);u.exports=l("Reflect","ownKeys")||function(M){var w=g.f(x(M)),j=b.f;return j?S(w,j(M)):w}},function(u,c,i){var l=i(18),f=i(28),g=i(54),b=i(96),x=i(44),S=i(27),P=i(64),M=S("iterator"),w=!1,j,C,_;[].keys&&(_=[].keys(),"next"in _?(C=b(b(_)),C!==Object.prototype&&(j=C)):w=!0);var H=j==null||l(function(){var Y={};return j[M].call(Y)!==Y});H?j={}:P&&(j=g(j)),f(j[M])||x(j,M,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:w}},function(u,c,i){var l=i(18);u.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var l=i(16),f=i(15),g=i(69),b=i(33),x=i(34),S=i(37).f,P=i(72),M=i(139),w=i(174),j=i(85),C=i(176),_=!1,H=j("meta"),Y=0,U=function(L){S(L,H,{value:{objectID:"O"+Y++,weakData:{}}})},ae=function(L,$){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!x(L,H)){if(!w(L))return"F";if(!$)return"E";U(L)}return L[H].objectID},ne=function(L,$){if(!x(L,H)){if(!w(L))return!0;if(!$)return!1;U(L)}return L[H].weakData},Q=function(L){return C&&_&&w(L)&&!x(L,H)&&U(L),L},Z=function(){se.enable=function(){},_=!0;var L=P.f,$=f([].splice),I={};I[H]=1,L(I).length&&(P.f=function(A){for(var R=L(A),W=0,q=R.length;W<q;W++)if(R[W]===H){$(R,W,1);break}return R},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},se=u.exports={enable:Z,fastKey:ae,getWeakData:ne,onFreeze:Q};g[H]=!0},function(u,c,i){var l=i(50),f=i(39),g=i(72).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return g(P)}catch{return b(x)}};u.exports.f=function(M){return x&&l(M)=="Window"?S(M):g(f(M))}},function(u,c,i){var l=i(27),f=i(70),g=l("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(f.Array===x||b[g]===x)}},function(u,c,i){var l=i(7),f=i(35),g=i(55),b=i(32),x=i(89),S=i(115),P=l.TypeError;u.exports=function(M,w){var j=arguments.length<2?S(M):w;if(g(j))return b(f(j,M));throw P(x(M)+" is not iterable")}},function(u,c,i){var l=i(35),f=i(32),g=i(59);u.exports=function(b,x,S){var P,M;f(b);try{if(P=g(b,"return"),!P){if(x==="throw")throw S;return S}P=l(P,b)}catch(w){M=!0,P=w}if(x==="throw")throw S;if(M)throw P;return f(P),S}},function(u,c,i){var l=i(28),f=i(33),g=i(97);u.exports=function(b,x,S){var P,M;return g&&l(P=x.constructor)&&P!==S&&f(M=P.prototype)&&M!==S.prototype&&g(b,M),b}},function(u,c,i){var l=i(44);u.exports=function(f,g,b){for(var x in g)l(f,x,g[x],b);return f}},function(u,c,i){var l=i(46),f=i(37),g=i(27),b=i(36),x=g("species");u.exports=function(S){var P=l(S),M=f.f;b&&P&&!P[x]&&M(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var l=i(15),f=i(68),g=i(40),b=i(45),x=l("".charAt),S=l("".charCodeAt),P=l("".slice),M=function(w){return function(j,C){var _=g(b(j)),H=f(C),Y=_.length,U,ae;return H<0||H>=Y?w?"":void 0:(U=S(_,H),U<55296||U>56319||H+1===Y||(ae=S(_,H+1))<56320||ae>57343?w?x(_,H):U:w?P(_,H,H+2):(U-55296<<10)+(ae-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var l=i(86),f=l("span").classList,g=f&&f.constructor&&f.constructor.prototype;u.exports=g===Object.prototype?void 0:g},function(u,c,i){var l=i(27);c.f=l},function(u,c,i){var l=i(181),f=i(34),g=i(149),b=i(37).f;u.exports=function(x){var S=l.Symbol||(l.Symbol={});f(S,x)||b(S,x,{value:g.f(x)})}},function(u,c,i){var l=i(18),f=i(7),g=f.RegExp,b=l(function(){var P=g("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||l(function(){return!g("a","y").sticky}),S=b||l(function(){var P=g("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var l=i(16),f=i(132).includes,g=i(83);l({target:"Array",proto:!0},{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(u,c,i){var l=i(16),f=i(15),g=i(193),b=i(45),x=i(40),S=i(194),P=f("".indexOf);l({target:"String",proto:!0,forced:!S("includes")},{includes:function(w){return!!~P(x(b(this)),x(g(w)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(33),f=i(50),g=i(27),b=g("match");u.exports=function(x){var S;return l(x)&&((S=x[b])!==void 0?!!S:f(x)=="RegExp")}},function(u,c){var i=u.exports={},l,f;function g(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=g}catch{l=g}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch{f=b}})();function x(U){if(l===setTimeout)return setTimeout(U,0);if((l===g||!l)&&setTimeout)return l=setTimeout,setTimeout(U,0);try{return l(U,0)}catch{try{return l.call(null,U,0)}catch{return l.call(this,U,0)}}}function S(U){if(f===clearTimeout)return clearTimeout(U);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(U);try{return f(U)}catch{try{return f.call(null,U)}catch{return f.call(this,U)}}}var P=[],M=!1,w,j=-1;function C(){!M||!w||(M=!1,w.length?P=w.concat(P):j=-1,P.length&&_())}function _(){if(!M){var U=x(C);M=!0;for(var ae=P.length;ae;){for(w=P,P=[];++j<ae;)w&&w[j].run();j=-1,ae=P.length}w=null,M=!1,S(U)}}i.nextTick=function(U){var ae=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)ae[ne-1]=arguments[ne];P.push(new H(U,ae)),P.length===1&&!M&&x(_)};function H(U,ae){this.fun=U,this.array=ae}H.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function Y(){}i.on=Y,i.addListener=Y,i.once=Y,i.off=Y,i.removeListener=Y,i.removeAllListeners=Y,i.emit=Y,i.prependListener=Y,i.prependOnceListener=Y,i.listeners=function(U){return[]},i.binding=function(U){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(U){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var l=i(32),f=i(157),g=i(27),b=g("species");u.exports=function(x,S){var P=l(x).constructor,M;return P===void 0||(M=l(P)[b])==null?S:f(M)}},function(u,c,i){var l=i(7),f=i(100),g=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not a constructor")}},function(u,c,i){var l=i(16),f=i(159).trim,g=i(195);l({target:"String",proto:!0,forced:g("trim")},{trim:function(){return f(this)}})},function(u,c,i){var l=i(15),f=i(45),g=i(40),b=i(160),x=l("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),M=RegExp(S+S+"*$"),w=function(j){return function(C){var _=g(f(C));return j&1&&(_=x(_,P,"")),j&2&&(_=x(_,M,"")),_}};u.exports={start:w(1),end:w(2),trim:w(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var l=i(35),f=i(122),g=i(32),b=i(90),x=i(40),S=i(45),P=i(59),M=i(123),w=i(124);f("match",function(j,C,_){return[function(Y){var U=S(this),ae=Y==null?void 0:P(Y,j);return ae?l(ae,Y,U):new RegExp(Y)[j](x(U))},function(H){var Y=g(this),U=x(H),ae=_(C,Y,U);if(ae.done)return ae.value;if(!Y.global)return w(Y,U);var ne=Y.unicode;Y.lastIndex=0;for(var Q=[],Z=0,se;(se=w(Y,U))!==null;){var L=x(se[0]);Q[Z]=L,L===""&&(Y.lastIndex=M(U,b(Y.lastIndex),ne)),Z++}return Z===0?null:Q}]})},function(u,c,i){var l=i(7),f=i(76),g=i(62),b=i(28),x=i(34),S=i(18),P=i(133),M=i(101),w=i(86),j=i(163),C=i(126),_=l.setImmediate,H=l.clearImmediate,Y=l.process,U=l.Dispatch,ae=l.Function,ne=l.MessageChannel,Q=l.String,Z=0,se={},L="onreadystatechange",$,I,A,R;try{$=l.location}catch{}var W=function(me){if(x(se,me)){var Oe=se[me];delete se[me],Oe()}},q=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Me=function(me){l.postMessage(Q(me),$.protocol+"//"+$.host)};(!_||!H)&&(_=function(Oe){var Pe=M(arguments,1);return se[++Z]=function(){f(b(Oe)?Oe:ae(Oe),void 0,Pe)},I(Z),Z},H=function(Oe){delete se[Oe]},C?I=function(me){Y.nextTick(q(me))}:U&&U.now?I=function(me){U.now(q(me))}:ne&&!j?(A=new ne,R=A.port2,A.port1.onmessage=ce,I=g(R.postMessage,R)):l.addEventListener&&b(l.postMessage)&&!l.importScripts&&$&&$.protocol!=="file:"&&!S(Me)?(I=Me,l.addEventListener("message",ce,!1)):L in w("script")?I=function(me){P.appendChild(w("script"))[L]=function(){P.removeChild(this),W(me)}}:I=function(me){setTimeout(q(me),0)}),u.exports={set:_,clear:H}},function(u,c,i){var l=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(u,c,i){var l=i(55),f=function(g){var b,x;this.promise=new g(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=l(b),this.reject=l(x)};u.exports.f=function(g){return new f(g)}},function(u,c,i){function l(){return!1}c.a=l},function(u,c,i){(function(l){i.d(c,"a",function(){return Z});var f=i(0);function g(L){throw new Error("[mobx-utils] "+L)}function b(L,$){$===void 0&&($="Illegal state"),L||g($)}var x=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(x(Object.getPrototypeOf(L))||[])},S=function(L){var $=x(L),I=$.filter(function(A,R){return $.indexOf(A)===R});return I},P=function(L){return S(L).filter(function($){return $!=="constructor"&&!~$.indexOf("__")})},M="pending",w="fulfilled",j="rejected";function C(L){switch(this.state){case M:return L.pending&&L.pending(this.value);case j:return L.rejected&&L.rejected(this.value);case w:return L.fulfilled?L.fulfilled(this.value):this.value}}function _(L,$){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var I=L;L.then(Object(f.k)("observableFromPromise-resolve",function(R){I.value=R,I.state=w}),Object(f.k)("observableFromPromise-reject",function(R){I.value=R,I.state=j})),I.isPromiseBasedObservable=!0,I.case=C;var A=$&&$.state===w?$.value:void 0;return Object(f.q)(I,{value:A,state:M},{},{deep:!1}),I}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(I){var A=L(Promise.reject(I));return A.state=j,A.value=I,A});function $(I){I===void 0&&(I=void 0);var A=L(Promise.resolve(I));return A.state=w,A.value=I,A}L.resolve=Object(f.k)("fromPromise.resolve",$)})(_||(_={}));var H=function(L,$,I,A){var R=arguments.length,W=R<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(q=L[ce])&&(W=(R<3?q(W):R>3?q($,I,W):q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W};(function(){function L($,I){var A=this;Object(f.G)(function(){A.current=I,A.subscription=$.subscribe(A)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function($){this.current=$},L.prototype.complete=function(){this.dispose()},L.prototype.error=function($){this.current=$,this.dispose()},H([f.C.ref],L.prototype,"current",void 0),H([f.k.bound],L.prototype,"next",null),H([f.k.bound],L.prototype,"complete",null),H([f.k.bound],L.prototype,"error",null),L})();var Y=function(){return Y=Object.assign||function(L){for(var $,I=1,A=arguments.length;I<A;I++){$=arguments[I];for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(L[R]=$[R])}return L},Y.apply(this,arguments)},U=function(L,$,I,A){var R=arguments.length,W=R<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(q=L[ce])&&(W=(R<3?q(W):R>3?q($,I,W):q($,I))||W);return R>3&&W&&Object.defineProperty($,I,W),W},ae=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L($){var I=this;this.model=$,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(A){return I.localValues.has(A)},b(Object(f.A)($),"createViewModel expects an observable object"),P($).forEach(function(A){if(!(A===f.a||A==="__mobxDidRunLazyInitializers")){if(b(ae.indexOf(A)===-1,"The propertyname "+A+" is reserved and cannot be used with viewModels"),Object(f.w)($,A)){var R=Object(f.h)($,A).derivation;I.localComputedValues.set(A,Object(f.m)(R.bind(I)))}var W=Object.getOwnPropertyDescriptor($,A),q=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,A,Y(Y({},q),{configurable:!0,get:function(){return Object(f.w)($,A)?I.localComputedValues.get(A).get():I.isPropertyDirty(A)?I.localValues.get(A):I.model[A]},set:Object(f.k)(function(ce){ce!==I.model[A]?I.localValues.set(A,ce):I.localValues.delete(A)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var $=this;Object(f.B)(this.localValues).forEach(function(I){var A=$.localValues.get(I),R=$.model[I];Object(f.y)(R)?R.replace(A):Object(f.z)(R)?(R.clear(),R.merge(A)):Object(f.v)(A)||($.model[I]=A)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function($){this.localValues.delete($)},U([f.m],L.prototype,"isDirty",null),U([f.m],L.prototype,"changedValues",null),U([f.k.bound],L.prototype,"submit",null),U([f.k.bound],L.prototype,"reset",null),U([f.k.bound],L.prototype,"resetProperty",null),L})();function ne(L){if(!L)return"ROOT";for(var $=[];L.parent;)$.push(L.path),L=L.parent;return $.reverse().join("/")}function Q(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function Z(L,$){var I=new WeakMap;function A(ce){var Me=I.get(ce.object);R(ce,Me),$(ce,ne(Me),L)}function R(ce,Me){switch(ce.type){case"add":W(ce.newValue,Me,ce.name);break;case"update":q(ce.oldValue),W(ce.newValue,Me,ce.name||""+ce.index);break;case"remove":case"delete":q(ce.oldValue);break;case"splice":ce.removed.map(q),ce.added.forEach(function(Pe,Ee){return W(Pe,Me,""+(ce.index+Ee))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(Q(ce.object[me])){var Oe=I.get(ce.object[me]);Oe&&(Oe.path=""+me)}break}}function W(ce,Me,me){if(Q(ce)){var Oe=I.get(ce);if(Oe){if(Oe.parent!==Me||Oe.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ne(Me)+"/"+me+"',")+(" but it already exists at '"+ne(Oe.parent)+"/"+Oe.path+"'"))}else{var Pe={parent:Me,path:me,dispose:Object(f.D)(ce,A)};I.set(ce,Pe),Object(f.p)(ce).forEach(function(Ee){var Ne=Ee[0],Le=Ee[1];return W(Le,Pe,Ne)})}}}function q(ce){if(Q(ce)){var Me=I.get(ce);if(!Me)return;I.delete(ce),Me.dispose(),Object(f.L)(ce).forEach(q)}}return W(L,void 0,""),function(){q(L)}}var se=function(){var L=function($,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,R){A.__proto__=R}||function(A,R){for(var W in R)R.hasOwnProperty(W)&&(A[W]=R[W])},L($,I)};return function($,I){L($,I);function A(){this.constructor=$}$.prototype=I===null?Object.create(I):(A.prototype=I.prototype,new A)}}();(function(L){se($,L);function $(I,A,R){var W=R===void 0?{}:R,q=W.name,ce=q===void 0?"ogm"+(Math.random()*1e3|0):q,Me=W.keyToName,me=Me===void 0?function(Ee){return""+Ee}:Me,Oe=L.call(this)||this;Oe._keyToName=me,Oe._groupBy=A,Oe._ogmInfoKey=Symbol("ogmInfo"+ce),Oe._base=I;for(var Pe=0;Pe<I.length;Pe++)Oe._addItem(I[Pe]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,Le=Ee.removed;Ne<Le.length;Ne++){var Ve=Le[Ne];Oe._removeItem(Ve)}for(var _e=0,Se=Ee.added;_e<Se.length;_e++){var Ie=Se[_e];Oe._addItem(Ie)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return $.prototype.clear=function(){throw new Error("not supported")},$.prototype.delete=function(I){throw new Error("not supported")},$.prototype.set=function(I,A){throw new Error("not supported")},$.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var A=this._base[I],R=A[this._ogmInfoKey];R.reaction(),delete A[this._ogmInfoKey]}},$.prototype._getGroupArr=function(I){var A=L.prototype.get.call(this,I);return A===void 0&&(A=Object(f.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),L.prototype.set.call(this,I,A)),A},$.prototype._removeFromGroupArr=function(I,A){var R=L.prototype.get.call(this,I);R.length===1?L.prototype.delete.call(this,I):(A===R.length-1||(R[A]=R[R.length-1],R[A][this._ogmInfoKey].groupArrIndex=A),R.length--)},$.prototype._addItem=function(I){var A=this,R=this._groupBy(I),W=this._getGroupArr(R),q={groupByValue:R,groupArrIndex:W.length,reaction:Object(f.F)(function(){return A._groupBy(I)},function(ce,Me){var me=I[A._ogmInfoKey];A._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var Oe=A._getGroupArr(ce),Pe=Oe.length;Oe.push(I),me.groupByValue=ce,me.groupArrIndex=Pe})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:q}),W.push(I)},$.prototype._removeItem=function(I){var A=I[this._ogmInfoKey];this._removeFromGroupArr(A.groupByValue,A.groupArrIndex),A.reaction(),delete I[this._ogmInfoKey]},$})(f.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof l<"u"&&l.nextTick}).call(this,i(155))},function(u,c,i){var l;(function(f,g,b){if(!f)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},w,j=1;j<20;++j)x[111+j]="f"+j;for(j=0;j<=9;++j)x[j+96]=j.toString();function C(A,R,W){if(A.addEventListener){A.addEventListener(R,W,!1);return}A.attachEvent("on"+R,W)}function _(A){if(A.type=="keypress"){var R=String.fromCharCode(A.which);return A.shiftKey||(R=R.toLowerCase()),R}return x[A.which]?x[A.which]:S[A.which]?S[A.which]:String.fromCharCode(A.which).toLowerCase()}function H(A,R){return A.sort().join(",")===R.sort().join(",")}function Y(A){var R=[];return A.shiftKey&&R.push("shift"),A.altKey&&R.push("alt"),A.ctrlKey&&R.push("ctrl"),A.metaKey&&R.push("meta"),R}function U(A){if(A.preventDefault){A.preventDefault();return}A.returnValue=!1}function ae(A){if(A.stopPropagation){A.stopPropagation();return}A.cancelBubble=!0}function ne(A){return A=="shift"||A=="ctrl"||A=="alt"||A=="meta"}function Q(){if(!w){w={};for(var A in x)A>95&&A<112||x.hasOwnProperty(A)&&(w[x[A]]=A)}return w}function Z(A,R,W){return W||(W=Q()[A]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function se(A){return A==="+"?["+"]:(A=A.replace(/\+{2}/g,"+plus"),A.split("+"))}function L(A,R){var W,q,ce,Me=[];for(W=se(A),ce=0;ce<W.length;++ce)q=W[ce],M[q]&&(q=M[q]),R&&R!="keypress"&&P[q]&&(q=P[q],Me.push("shift")),ne(q)&&Me.push(q);return R=Z(q,Me,R),{key:q,modifiers:Me,action:R}}function $(A,R){return A===null||A===g?!1:A===R?!0:$(A.parentNode,R)}function I(A){var R=this;if(A=A||g,!(R instanceof I))return new I(A);R.target=A,R._callbacks={},R._directMap={};var W={},q,ce=!1,Me=!1,me=!1;function Oe(Se){Se=Se||{};var Ie=!1,ke;for(ke in W){if(Se[ke]){Ie=!0;continue}W[ke]=0}Ie||(me=!1)}function Pe(Se,Ie,ke,k,X,ee){var he,xe,pe=[],ze=ke.type;if(!R._callbacks[Se])return[];for(ze=="keyup"&&ne(Se)&&(Ie=[Se]),he=0;he<R._callbacks[Se].length;++he)if(xe=R._callbacks[Se][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&ze==xe.action&&(ze=="keypress"&&!ke.metaKey&&!ke.ctrlKey||H(Ie,xe.modifiers))){var tt=!k&&xe.combo==X,Ye=k&&xe.seq==k&&xe.level==ee;(tt||Ye)&&R._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Ie,ke,k){R.stopCallback(Ie,Ie.target||Ie.srcElement,ke,k)||Se(Ie,ke)===!1&&(U(Ie),ae(Ie))}R._handleKey=function(Se,Ie,ke){var k=Pe(Se,Ie,ke),X,ee={},he=0,xe=!1;for(X=0;X<k.length;++X)k[X].seq&&(he=Math.max(he,k[X].level));for(X=0;X<k.length;++X){if(k[X].seq){if(k[X].level!=he)continue;xe=!0,ee[k[X].seq]=1,Ee(k[X].callback,ke,k[X].combo,k[X].seq);continue}xe||Ee(k[X].callback,ke,k[X].combo)}var pe=ke.type=="keypress"&&Me;ke.type==me&&!ne(Se)&&!pe&&Oe(ee),Me=xe&&ke.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=_(Se);if(!!Ie){if(Se.type=="keyup"&&ce===Ie){ce=!1;return}R.handleKey(Ie,Y(Se),Se)}}function Le(){clearTimeout(q),q=setTimeout(Oe,1e3)}function Ve(Se,Ie,ke,k){W[Se]=0;function X(ze){return function(){me=ze,++W[Se],Le()}}function ee(ze){Ee(ke,ze,Se),k!=="keyup"&&(ce=_(ze)),setTimeout(Oe,10)}for(var he=0;he<Ie.length;++he){var xe=he+1===Ie.length,pe=xe?ee:X(k||L(Ie[he+1]).action);_e(Ie[he],pe,k,Se,he)}}function _e(Se,Ie,ke,k,X){R._directMap[Se+":"+ke]=Ie,Se=Se.replace(/\s+/g," ");var ee=Se.split(" "),he;if(ee.length>1){Ve(Se,ee,Ie,ke);return}he=L(Se,ke),R._callbacks[he.key]=R._callbacks[he.key]||[],Pe(he.key,he.modifiers,{type:he.action},k,Se,X),R._callbacks[he.key][k?"unshift":"push"]({callback:Ie,modifiers:he.modifiers,action:he.action,seq:k,level:X,combo:Se})}R._bindMultiple=function(Se,Ie,ke){for(var k=0;k<Se.length;++k)_e(Se[k],Ie,ke)},C(A,"keypress",Ne),C(A,"keydown",Ne),C(A,"keyup",Ne)}I.prototype.bind=function(A,R,W){var q=this;return A=A instanceof Array?A:[A],q._bindMultiple.call(q,A,R,W),q},I.prototype.unbind=function(A,R){var W=this;return W.bind.call(W,A,function(){},R)},I.prototype.trigger=function(A,R){var W=this;return W._directMap[A+":"+R]&&W._directMap[A+":"+R]({},A),W},I.prototype.reset=function(){var A=this;return A._callbacks={},A._directMap={},A},I.prototype.stopCallback=function(A,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||$(R,W.target))return!1;if("composedPath"in A&&typeof A.composedPath=="function"){var q=A.composedPath()[0];q!==A.target&&(R=q)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},I.prototype.handleKey=function(){var A=this;return A._handleKey.apply(A,arguments)},I.addKeycodes=function(A){for(var R in A)A.hasOwnProperty(R)&&(x[R]=A[R]);w=null},I.init=function(){var A=I(g);for(var R in A)R.charAt(0)!=="_"&&(I[R]=function(W){return function(){return A[W].apply(A,arguments)}}(R))},I.init(),f.Mousetrap=I,u.exports&&(u.exports=I),l=function(){return I}.call(c,i,c,u),l!==b&&(u.exports=l)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var l=i(36),f=i(37),g=i(32),b=i(39),x=i(66);u.exports=l?Object.defineProperties:function(P,M){g(P);for(var w=b(M),j=x(M),C=j.length,_=0,H;C>_;)f.f(P,H=j[_++],w[H]);return P}},function(u,c,i){var l=i(7),f=i(35),g=i(28),b=i(33),x=l.TypeError;u.exports=function(S,P){var M,w;if(P==="string"&&g(M=S.toString)&&!b(w=f(M,S))||g(M=S.valueOf)&&!b(w=f(M,S))||P!=="string"&&g(M=S.toString)&&!b(w=f(M,S)))return w;throw x("Can't convert object to primitive value")}},function(u,c,i){var l=i(7),f=i(28),g=i(92),b=l.WeakMap;u.exports=f(b)&&/native code/.test(g(b))},function(u,c,i){var l=i(136).IteratorPrototype,f=i(54),g=i(71),b=i(73),x=i(70),S=function(){return this};u.exports=function(P,M,w,j){var C=M+" Iterator";return P.prototype=f(l,{next:g(+!j,w)}),b(P,C,!1,!0),x[C]=S,P}},function(u,c,i){var l=i(7),f=i(28),g=l.String,b=l.TypeError;u.exports=function(x){if(typeof x=="object"||f(x))return x;throw b("Can't set "+g(x)+" as a prototype")}},function(u,c,i){var l=i(16),f=i(7),g=i(15),b=i(95),x=i(44),S=i(138),P=i(114),M=i(117),w=i(28),j=i(33),C=i(18),_=i(118),H=i(73),Y=i(143);u.exports=function(U,ae,ne){var Q=U.indexOf("Map")!==-1,Z=U.indexOf("Weak")!==-1,se=Q?"set":"add",L=f[U],$=L&&L.prototype,I=L,A={},R=function(Pe){var Ee=g($[Pe]);x($,Pe,Pe=="add"?function(Le){return Ee(this,Le===0?0:Le),this}:Pe=="delete"?function(Ne){return Z&&!j(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Pe=="get"?function(Le){return Z&&!j(Le)?void 0:Ee(this,Le===0?0:Le)}:Pe=="has"?function(Le){return Z&&!j(Le)?!1:Ee(this,Le===0?0:Le)}:function(Le,Ve){return Ee(this,Le===0?0:Le,Ve),this})},W=b(U,!w(L)||!(Z||$.forEach&&!C(function(){new L().entries().next()})));if(W)I=ne.getConstructor(ae,U,Q,se),S.enable();else if(b(U,!0)){var q=new I,ce=q[se](Z?{}:-0,1)!=q,Me=C(function(){q.has(1)}),me=_(function(Pe){new L(Pe)}),Oe=!Z&&C(function(){for(var Pe=new L,Ee=5;Ee--;)Pe[se](Ee,Ee);return!Pe.has(-0)});me||(I=ae(function(Pe,Ee){M(Pe,$);var Ne=Y(new L,Pe,I);return Ee!=null&&P(Ee,Ne[se],{that:Ne,AS_ENTRIES:Q}),Ne}),I.prototype=$,$.constructor=I),(Me||Oe)&&(R("delete"),R("has"),Q&&R("get")),(Oe||ce)&&R(se),Z&&$.clear&&delete $.clear}return A[U]=I,l({global:!0,forced:I!=L},A),H(I,U),Z||ne.setStrong(I,U,Q),I}},function(u,c,i){var l=i(18),f=i(33),g=i(50),b=i(175),x=Object.isExtensible,S=l(function(){});u.exports=S||b?function(M){return!f(M)||b&&g(M)=="ArrayBuffer"?!1:x?x(M):!0}:x},function(u,c,i){var l=i(18);u.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var l=i(37).f,f=i(54),g=i(144),b=i(62),x=i(117),S=i(114),P=i(111),M=i(145),w=i(36),j=i(138).fastKey,C=i(56),_=C.set,H=C.getterFor;u.exports={getConstructor:function(Y,U,ae,ne){var Q=Y(function(I,A){x(I,Z),_(I,{type:U,index:f(null),first:void 0,last:void 0,size:0}),w||(I.size=0),A!=null&&S(A,I[ne],{that:I,AS_ENTRIES:ae})}),Z=Q.prototype,se=H(U),L=function(I,A,R){var W=se(I),q=$(I,A),ce,Me;return q?q.value=R:(W.last=q={index:Me=j(A,!0),key:A,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=q),ce&&(ce.next=q),w?W.size++:I.size++,Me!=="F"&&(W.index[Me]=q)),I},$=function(I,A){var R=se(I),W=j(A),q;if(W!=="F")return R.index[W];for(q=R.first;q;q=q.next)if(q.key==A)return q};return g(Z,{clear:function(){for(var A=this,R=se(A),W=R.index,q=R.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete W[q.index],q=q.next;R.first=R.last=void 0,w?R.size=0:A.size=0},delete:function(I){var A=this,R=se(A),W=$(A,I);if(W){var q=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=q),q&&(q.previous=ce),R.first==W&&(R.first=q),R.last==W&&(R.last=ce),w?R.size--:A.size--}return!!W},forEach:function(A){for(var R=se(this),W=b(A,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:R.first;)for(W(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(A){return!!$(this,A)}}),g(Z,ae?{get:function(A){var R=$(this,A);return R&&R.value},set:function(A,R){return L(this,A===0?0:A,R)}}:{add:function(A){return L(this,A=A===0?0:A,A)}}),w&&l(Z,"size",{get:function(){return se(this).size}}),Q},setStrong:function(Y,U,ae){var ne=U+" Iterator",Q=H(U),Z=H(ne);P(Y,U,function(se,L){_(this,{type:ne,target:se,state:Q(se),kind:L,last:void 0})},function(){for(var se=Z(this),L=se.kind,$=se.last;$&&$.removed;)$=$.previous;return!se.target||!(se.last=$=$?$.next:se.state.first)?(se.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:$.key,done:!1}:L=="values"?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}},ae?"entries":"values",!ae,!0),M(U)}}},function(u,c,i){var l=i(116),f=i(98);u.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var l=i(74).forEach,f=i(120),g=f("forEach");u.exports=g?[].forEach:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var l=i(7),f=i(99),g=i(100),b=i(33),x=i(27),S=x("species"),P=l.Array;u.exports=function(M){var w;return f(M)&&(w=M.constructor,g(w)&&(w===P||f(w.prototype))?w=void 0:b(w)&&(w=w[S],w===null&&(w=void 0))),w===void 0?P:w}},function(u,c,i){var l=i(7);u.exports=l},function(u,c,i){var l=i(7),f=i(62),g=i(35),b=i(38),x=i(183),S=i(140),P=i(100),M=i(43),w=i(61),j=i(141),C=i(115),_=l.Array;u.exports=function(Y){var U=b(Y),ae=P(this),ne=arguments.length,Q=ne>1?arguments[1]:void 0,Z=Q!==void 0;Z&&(Q=f(Q,ne>2?arguments[2]:void 0));var se=C(U),L=0,$,I,A,R,W,q;if(se&&!(this==_&&S(se)))for(R=j(U,se),W=R.next,I=ae?new this:[];!(A=g(W,R)).done;L++)q=Z?x(R,Q,[A.value,L],!0):A.value,w(I,L,q);else for($=M(U),I=ae?new this($):_($);$>L;L++)q=Z?Q(U[L],L):U[L],w(I,L,q);return I.length=L,I}},function(u,c,i){var l=i(32),f=i(142);u.exports=function(g,b,x,S){try{return S?b(l(x)[0],x[1]):b(x)}catch(P){f(g,"throw",P)}}},function(u,c,i){var l=i(32);u.exports=function(){var f=l(this),g="";return f.global&&(g+="g"),f.ignoreCase&&(g+="i"),f.multiline&&(g+="m"),f.dotAll&&(g+="s"),f.unicode&&(g+="u"),f.sticky&&(g+="y"),g}},function(u,c,i){var l=i(18),f=i(7),g=f.RegExp;u.exports=l(function(){var b=g(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var l=i(18),f=i(7),g=f.RegExp;u.exports=l(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var l=i(16),f=i(15),g=i(55),b=i(38),x=i(43),S=i(40),P=i(18),M=i(188),w=i(120),j=i(189),C=i(190),_=i(65),H=i(191),Y=[],U=f(Y.sort),ae=f(Y.push),ne=P(function(){Y.sort(void 0)}),Q=P(function(){Y.sort(null)}),Z=w("sort"),se=!P(function(){if(_)return _<70;if(!(j&&j>3)){if(C)return!0;if(H)return H<603;var I="",A,R,W,q;for(A=65;A<76;A++){switch(R=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(q=0;q<47;q++)Y.push({k:R+q,v:W})}for(Y.sort(function(ce,Me){return Me.v-ce.v}),q=0;q<Y.length;q++)R=Y[q].k.charAt(0),I.charAt(I.length-1)!==R&&(I+=R);return I!=="DGBEFHACIJK"}}),L=ne||!Q||!Z||!se,$=function(I){return function(A,R){return R===void 0?-1:A===void 0?1:I!==void 0?+I(A,R)||0:S(A)>S(R)?1:-1}};l({target:"Array",proto:!0,forced:L},{sort:function(A){A!==void 0&&g(A);var R=b(this);if(se)return A===void 0?U(R):U(R,A);var W=[],q=x(R),ce,Me;for(Me=0;Me<q;Me++)Me in R&&ae(W,R[Me]);for(M(W,$(A)),ce=W.length,Me=0;Me<ce;)R[Me]=W[Me++];for(;Me<q;)delete R[Me++];return R}})},function(u,c,i){var l=i(113),f=Math.floor,g=function(S,P){var M=S.length,w=f(M/2);return M<8?b(S,P):x(S,g(l(S,0,w),P),g(l(S,w),P),P)},b=function(S,P){for(var M=S.length,w=1,j,C;w<M;){for(C=w,j=S[w];C&&P(S[C-1],j)>0;)S[C]=S[--C];C!==w++&&(S[C]=j)}return S},x=function(S,P,M,w){for(var j=P.length,C=M.length,_=0,H=0;_<j||H<C;)S[_+H]=_<j&&H<C?w(P[_],M[H])<=0?P[_++]:M[H++]:_<j?P[_++]:M[H++];return S};u.exports=g},function(u,c,i){var l=i(53),f=l.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(53);u.exports=/MSIE|Trident/.test(l)},function(u,c,i){var l=i(53),f=l.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(16),f=i(74).find,g=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),l({target:"Array",proto:!0,forced:x},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),g(b)},function(u,c,i){var l=i(7),f=i(154),g=l.TypeError;u.exports=function(b){if(f(b))throw g("The method doesn't accept regular expressions");return b}},function(u,c,i){var l=i(27),f=l("match");u.exports=function(g){var b=/./;try{"/./"[g](b)}catch{try{return b[f]=!1,"/./"[g](b)}catch{}}return!1}},function(u,c,i){var l=i(94).PROPER,f=i(18),g=i(160),b="\u200B\x85\u180E";u.exports=function(x){return f(function(){return!!g[x]()||b[x]()!==b||l&&g[x].name!==x})}},function(u,c,i){var l=i(15);u.exports=l(1 .valueOf)},function(u,c,i){var l=i(15),f=i(38),g=Math.floor,b=l("".charAt),x=l("".replace),S=l("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(w,j,C,_,H,Y){var U=C+w.length,ae=_.length,ne=M;return H!==void 0&&(H=f(H),ne=P),x(Y,ne,function(Q,Z){var se;switch(b(Z,0)){case"$":return"$";case"&":return w;case"`":return S(j,0,C);case"'":return S(j,U);case"<":se=H[S(Z,1,-1)];break;default:var L=+Z;if(L===0)return Q;if(L>ae){var $=g(L/10);return $===0?Q:$<=ae?_[$-1]===void 0?b(Z,1):_[$-1]+b(Z,1):Q}se=_[L-1]}return se===void 0?"":se})}},function(u,c,i){var l=i(36),f=i(15),g=i(35),b=i(18),x=i(66),S=i(112),P=i(93),M=i(38),w=i(81),j=Object.assign,C=Object.defineProperty,_=f([].concat);u.exports=!j||b(function(){if(l&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},Y={},U=Symbol(),ae="abcdefghijklmnopqrst";return H[U]=7,ae.split("").forEach(function(ne){Y[ne]=ne}),j({},H)[U]!=7||x(j({},Y)).join("")!=ae})?function(Y,U){for(var ae=M(Y),ne=arguments.length,Q=1,Z=S.f,se=P.f;ne>Q;)for(var L=w(arguments[Q++]),$=Z?_(x(L),Z(L)):x(L),I=$.length,A=0,R;I>A;)R=$[A++],(!l||g(se,L,R))&&(ae[R]=L[R]);return ae}:j},function(u,c,i){var l=i(7),f=i(15),g=i(55),b=i(33),x=i(34),S=i(101),P=l.Function,M=f([].concat),w=f([].join),j={},C=function(_,H,Y){if(!x(j,H)){for(var U=[],ae=0;ae<H;ae++)U[ae]="a["+ae+"]";j[H]=P("C,a","return new C("+w(U,",")+")")}return j[H](_,Y)};u.exports=P.bind||function(H){var Y=g(this),U=Y.prototype,ae=S(arguments,1),ne=function(){var Z=M(ae,S(arguments));return this instanceof ne?C(Y,Z.length,Z):Y.apply(H,Z)};return b(U)&&(ne.prototype=U),ne}},function(u,c,i){var l=i(34);u.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(u,c,i){var l=i(15),f=i(45),g=i(40),b=/"/g,x=l("".replace);u.exports=function(S,P,M,w){var j=g(f(S)),C="<"+P;return M!==""&&(C+=" "+M+'="'+x(g(w),b,"&quot;")+'"'),C+">"+j+"</"+P+">"}},function(u,c,i){var l=i(18);u.exports=function(f){return l(function(){var g=""[f]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},function(u,c,i){var l=i(16),f=Math.hypot,g=Math.abs,b=Math.sqrt,x=!!f&&f(1/0,NaN)!==1/0;l({target:"Math",stat:!0,forced:x},{hypot:function(P,M){for(var w=0,j=0,C=arguments.length,_=0,H,Y;j<C;)H=g(arguments[j++]),_<H?(Y=_/H,w=w*Y*Y+1,_=H):H>0?(Y=H/_,w+=Y*Y):w+=H;return _===1/0?1/0:_*b(w)}})},function(u,c,i){var l=i(16),f=i(64),g=i(7),b=i(46),x=i(35),S=i(205),P=i(44),M=i(144),w=i(97),j=i(73),C=i(145),_=i(55),H=i(28),Y=i(33),U=i(117),ae=i(92),ne=i(114),Q=i(118),Z=i(156),se=i(162).set,L=i(206),$=i(209),I=i(210),A=i(164),R=i(211),W=i(56),q=i(95),ce=i(27),Me=i(212),me=i(126),Oe=i(65),Pe=ce("species"),Ee="Promise",Ne=W.getterFor(Ee),Le=W.set,Ve=W.getterFor(Ee),_e=S&&S.prototype,Se=S,Ie=_e,ke=g.TypeError,k=g.document,X=g.process,ee=A.f,he=ee,xe=!!(k&&k.createEvent&&g.dispatchEvent),pe=H(g.PromiseRejectionEvent),ze="unhandledrejection",tt="rejectionhandled",Ye=0,nt=1,ve=2,ut=1,rt=2,Be=!1,Qe,At,dt,bt,oe=q(Ee,function(){var je=ae(Se),Xe=je!==String(Se);if(!Xe&&Oe===66||f&&!Ie.finally)return!0;if(Oe>=51&&/native code/.test(je))return!1;var ot=new Se(function(F){F(1)}),Je=function(F){F(function(){},function(){})},lt=ot.constructor={};return lt[Pe]=Je,Be=ot.then(function(){})instanceof Je,Be?!Xe&&Me&&!pe:!0}),Ct=oe||!Q(function(je){Se.all(je).catch(function(){})}),St=function(je){var Xe;return Y(je)&&H(Xe=je.then)?Xe:!1},mt=function(je,Xe){if(!je.notified){je.notified=!0;var ot=je.reactions;L(function(){for(var Je=je.value,lt=je.state==nt,F=0;ot.length>F;){var V=ot[F++],te=lt?V.ok:V.fail,re=V.resolve,we=V.reject,De=V.domain,Ue,vt,Jt;try{te?(lt||(je.rejection===rt&&xr(je),je.rejection=ut),te===!0?Ue=Je:(De&&De.enter(),Ue=te(Je),De&&(De.exit(),Jt=!0)),Ue===V.promise?we(ke("Promise-chain cycle")):(vt=St(Ue))?x(vt,Ue,re,we):re(Ue)):we(Je)}catch(Qt){De&&!Jt&&De.exit(),we(Qt)}}je.reactions=[],je.notified=!1,Xe&&!je.rejection&&pr(je)})}},Wt=function(je,Xe,ot){var Je,lt;xe?(Je=k.createEvent("Event"),Je.promise=Xe,Je.reason=ot,Je.initEvent(je,!1,!0),g.dispatchEvent(Je)):Je={promise:Xe,reason:ot},!pe&&(lt=g["on"+je])?lt(Je):je===ze&&I("Unhandled promise rejection",ot)},pr=function(je){x(se,g,function(){var Xe=je.facade,ot=je.value,Je=Zt(je),lt;if(Je&&(lt=R(function(){me?X.emit("unhandledRejection",ot,Xe):Wt(ze,Xe,ot)}),je.rejection=me||Zt(je)?rt:ut,lt.error))throw lt.value})},Zt=function(je){return je.rejection!==ut&&!je.parent},xr=function(je){x(se,g,function(){var Xe=je.facade;me?X.emit("rejectionHandled",Xe):Wt(tt,Xe,je.value)})},qe=function(je,Xe,ot){return function(Je){je(Xe,Je,ot)}},Pt=function(je,Xe,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=Xe,je.state=ve,mt(je,!0))},nr=function(je,Xe,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===Xe)throw ke("Promise can't be resolved itself");var Je=St(Xe);Je?L(function(){var lt={done:!1};try{x(Je,Xe,qe(nr,lt,je),qe(Pt,lt,je))}catch(F){Pt(lt,F,je)}}):(je.value=Xe,je.state=nt,mt(je,!1))}catch(lt){Pt({done:!1},lt,je)}}};if(oe&&(Se=function(Xe){U(this,Ie),_(Xe),x(Qe,this);var ot=Ne(this);try{Xe(qe(nr,ot),qe(Pt,ot))}catch(Je){Pt(ot,Je)}},Ie=Se.prototype,Qe=function(Xe){Le(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ye,value:void 0})},Qe.prototype=M(Ie,{then:function(Xe,ot){var Je=Ve(this),lt=Je.reactions,F=ee(Z(this,Se));return F.ok=H(Xe)?Xe:!0,F.fail=H(ot)&&ot,F.domain=me?X.domain:void 0,Je.parent=!0,lt[lt.length]=F,Je.state!=Ye&&mt(Je,!1),F.promise},catch:function(je){return this.then(void 0,je)}}),At=function(){var je=new Qe,Xe=Ne(je);this.promise=je,this.resolve=qe(nr,Xe),this.reject=qe(Pt,Xe)},A.f=ee=function(je){return je===Se||je===dt?new At(je):he(je)},!f&&H(S)&&_e!==Object.prototype)){bt=_e.then,Be||(P(_e,"then",function(Xe,ot){var Je=this;return new Se(function(lt,F){x(bt,Je,lt,F)}).then(Xe,ot)},{unsafe:!0}),P(_e,"catch",Ie.catch,{unsafe:!0}));try{delete _e.constructor}catch{}w&&w(_e,Ie)}l({global:!0,wrap:!0,forced:oe},{Promise:Se}),j(Se,Ee,!1,!0),C(Ee),dt=b(Ee),l({target:Ee,stat:!0,forced:oe},{reject:function(Xe){var ot=ee(this);return x(ot.reject,void 0,Xe),ot.promise}}),l({target:Ee,stat:!0,forced:f||oe},{resolve:function(Xe){return $(f&&this===dt?Se:this,Xe)}}),l({target:Ee,stat:!0,forced:Ct},{all:function(Xe){var ot=this,Je=ee(ot),lt=Je.resolve,F=Je.reject,V=R(function(){var te=_(ot.resolve),re=[],we=0,De=1;ne(Xe,function(Ue){var vt=we++,Jt=!1;De++,x(te,ot,Ue).then(function(Qt){Jt||(Jt=!0,re[vt]=Qt,--De||lt(re))},F)}),--De||lt(re)});return V.error&&F(V.value),Je.promise},race:function(Xe){var ot=this,Je=ee(ot),lt=Je.reject,F=R(function(){var V=_(ot.resolve);ne(Xe,function(te){x(V,ot,te).then(Je.resolve,lt)})});return F.error&&lt(F.value),Je.promise}})},function(u,c,i){var l=i(7);u.exports=l.Promise},function(u,c,i){var l=i(7),f=i(62),g=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),M=i(126),w=l.MutationObserver||l.WebKitMutationObserver,j=l.document,C=l.process,_=l.Promise,H=g(l,"queueMicrotask"),Y=H&&H.value,U,ae,ne,Q,Z,se,L,$;Y||(U=function(){var I,A;for(M&&(I=C.domain)&&I.exit();ae;){A=ae.fn,ae=ae.next;try{A()}catch(R){throw ae?Q():ne=void 0,R}}ne=void 0,I&&I.enter()},!x&&!M&&!P&&w&&j?(Z=!0,se=j.createTextNode(""),new w(U).observe(se,{characterData:!0}),Q=function(){se.data=Z=!Z}):!S&&_&&_.resolve?(L=_.resolve(void 0),L.constructor=_,$=f(L.then,L),Q=function(){$(U)}):M?Q=function(){C.nextTick(U)}:(b=f(b,l),Q=function(){b(U)})),u.exports=Y||function(I){var A={fn:I,next:void 0};ne&&(ne.next=A),ae||(ae=A,Q()),ne=A}},function(u,c,i){var l=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(u,c,i){var l=i(53);u.exports=/web0s(?!.*chrome)/i.test(l)},function(u,c,i){var l=i(32),f=i(33),g=i(164);u.exports=function(b,x){if(l(b),f(x)&&x.constructor===b)return x;var S=g.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var l=i(7);u.exports=function(f,g){var b=l.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,g))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(l){return{error:!0,value:l}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var l=i(36),f=i(15),g=i(66),b=i(39),x=i(93).f,S=f(x),P=f([].push),M=function(w){return function(j){for(var C=b(j),_=g(C),H=_.length,Y=0,U=[],ae;H>Y;)ae=_[Y++],(!l||S(C,ae))&&P(U,w?[ae,C[ae]]:C[ae]);return U}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var l=i(38),f=i(67),g=i(43);u.exports=function(x){for(var S=l(this),P=g(S),M=arguments.length,w=f(M>1?arguments[1]:void 0,P),j=M>2?arguments[2]:void 0,C=j===void 0?P:f(j,P);C>w;)S[w++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Gr}),i.d(c,"LogicFlow",function(){return td}),i.d(c,"h",function(){return oe.g}),i.d(c,"LogicFlowUtil",function(){return l}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return vc}),i.d(c,"CircleNode",function(){return mc}),i.d(c,"PolygonNode",function(){return Ec}),i.d(c,"DiamondNode",function(){return Pc}),i.d(c,"EllipseNode",function(){return wc}),i.d(c,"TextNode",function(){return Nc}),i.d(c,"HtmlNode",function(){return Cc}),i.d(c,"BaseEdge",function(){return Ti}),i.d(c,"LineEdge",function(){return Gc}),i.d(c,"PolylineEdge",function(){return kc}),i.d(c,"BezierEdge",function(){return Xc}),i.d(c,"Arrow",function(){return hj}),i.d(c,"BaseEdgeModel",function(){return hf}),i.d(c,"BezierEdgeModel",function(){return kf}),i.d(c,"LineEdgeModel",function(){return gf}),i.d(c,"PolylineEdgeModel",function(){return Of}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Yf}),i.d(c,"DiamondNodeModel",function(){return Vf}),i.d(c,"EllipseNodeModel",function(){return Jf}),i.d(c,"PolygonNodeModel",function(){return ec}),i.d(c,"RectNodeModel",function(){return nc}),i.d(c,"TextNodeModel",function(){return ic}),i.d(c,"HtmlNodeModel",function(){return uc}),i.d(c,"EditConfigModel",function(){return sp}),i.d(c,"GraphModel",function(){return ov}),i.d(c,"SnaplineModel",function(){return ig}),i.d(c,"Keyboard",function(){return hm}),i.d(c,"get",function(){return Fv}),i.d(c,"defaults",function(){return Hv});var l={};i.r(l),i.d(l,"createUuid",function(){return to}),i.d(l,"refreshGraphId",function(){return EP}),i.d(l,"createDrag",function(){return Mf}),i.d(l,"StepDrag",function(){return ro});var f=i(0),g=i(10);if(!g.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(f.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function M(e){return Object(f.t)(e)}function w(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,C=1e4,_=new Set,H;function Y(){H===void 0&&(H=setTimeout(ne,C))}function U(e){_.add(e),Y()}function ae(e){_.delete(e)}function ne(){H=void 0;var e=Date.now();_.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,_.delete(r))}),_.size>0&&Y()}var Q=!1,Z=[];function se(e){return function(){Q?Z.push(e):e()}}function L(e){Q=!0,Z=[];try{var r=e();Q=!1;var t=Z.length>0?Z:void 0;return g.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{Q=!1}}var $={};function I(e){return"observer"+e}function A(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=$);var n=t.useForceUpdate||b.d,o=n(),a=se(o),s=g.d.useRef(null);if(!s.current){var p=new f.c(I(r),function(){y.mounted?a():(p.dispose(),s.current=null)}),y=w(p);s.current=y,U(s)}var E=s.current.reaction;return g.d.useDebugValue(E,M),g.d.useEffect(function(){return ae(s),s.current?s.current.mounted=!0:(s.current={reaction:new f.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}},[]),L(function(){var T,D;if(E.track(function(){try{T=e()}catch(B){D=B}}),D)throw D;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,p){return A(function(){return e(s,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(g.f)(Object(g.e)(o)):a=Object(g.f)(o),ce(e,a),a.displayName=n,a}var q={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Me(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:A(n)}Me.propTypes={children:me,render:me},Me.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",s=typeof e[r]=="function",p=typeof e[a]=="function";return s&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(g.g);var Oe=0;function Pe(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Pe(e)),Ee[e]}function Le(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function _e(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Ie=Ne("patchedDefinition");function ke(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var s;return e!=null&&(s=e.apply(this,o)),s}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function X(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];k.call.apply(k,[this,e,r].concat(a))};return t}function ee(e,r,t){var n=ke(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],s=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,s)}}function he(e,r,t,n,o){var a,s=X(o,n);return a={},a[Ie]=!0,a.get=function(){return s},a.set=function(y){if(this===e)s=X(y,n);else{var E=he(this,r,t,n,y);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),ze=Ne("isUnmounted"),tt=Ne("skipRender"),Ye=Ne("isForcingUpdate");function nt(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==g.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Be(r,"props"),Be(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},ee(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[ze]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;_e(this,tt,!1),_e(this,Ye,!1);var t=ve(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[ze]!==!0)){var p=!0;try{_e(r,Ye,!0),r[tt]||g.a.prototype.forceUpdate.call(r),p=!1}finally{_e(r,Ye,!1),p&&a.dispose()}}});a.reactComponent=this,s[xe]=a,this.render=s;function s(){o=!1;var p=void 0,y=void 0;if(a.track(function(){try{y=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return y}return s.call(this)}function rt(e,r){return this.state!==r?!0:!Le(this.props,e)}function Be(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||_e(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return f.f&&f.e&&(s=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(s),this[t]},set:function(s){!this[Ye]&&!Le(this[t],s)?(_e(this,t,s),_e(this,tt,!0),o.call(this).reportChanged(),_e(this,tt,!1)):_e(this,t,s)}})}var Qe=typeof Symbol=="function"&&Symbol.for,At=Qe?Symbol.for("react.forward_ref"):typeof g.e=="function"&&Object(g.e)(function(e){return null}).$$typeof,dt=Qe?Symbol.for("react.memo"):typeof g.f=="function"&&Object(g.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),dt&&e.$$typeof===dt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(At&&e.$$typeof===At){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(g.e)(function(){var n=arguments;return Object(g.c)(Me,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(g.a,e)?W(e):nt(e)}if(!g.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var oe=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=Ct;function mt(){this.__data__=[],this.size=0}var Wt=mt;function pr(e,r){return e===r||e!==e&&r!==r}var Zt=pr;function xr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var qe=xr,Pt=Array.prototype,nr=Pt.splice;function je(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var Xe=je;function ot(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=ot;function lt(e){return qe(this.__data__,e)>-1}var F=lt;function V(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=V;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Wt,re.prototype.delete=Xe,re.prototype.get=Je,re.prototype.has=F,re.prototype.set=te;var we=re;function De(){this.__data__=new we,this.size=0}var Ue=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var kn=Qt;function $r(e){return this.__data__.has(e)}var zi=$r,Sr=i(31),Fi=Sr.a.Symbol,lr=Fi,mn=Object.prototype,Un=mn.hasOwnProperty,sn=mn.toString,Xn=lr?lr.toStringTag:void 0;function bn(e){var r=Un.call(e,Xn),t=e[Xn];try{e[Xn]=void 0;var n=!0}catch{}var o=sn.call(e);return n&&(r?e[Xn]=t:delete e[Xn]),o}var On=bn,po=Object.prototype,el=po.toString;function ho(e){return el.call(e)}var vo=ho,Hi="[object Null]",Ge="[object Undefined]",Gi=lr?lr.toStringTag:void 0;function tl(e){return e==null?e===void 0?Ge:Hi:Gi&&Gi in Object(e)?On(e):vo(e)}var kr=tl;function $i(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Tt=$i,hr="[object AsyncFunction]",ki="[object Function]",rl="[object GeneratorFunction]",nl="[object Proxy]";function ol(e){if(!Tt(e))return!1;var r=kr(e);return r==ki||r==rl||r==hr||r==nl}var yo=ol,Ui=Sr.a["__core-js_shared__"],ln=Ui,ei=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ti(e){return!!ei&&ei in e}var Xi=ti,il=Function.prototype,go=il.toString;function al(e){if(e!=null){try{return go.call(e)}catch{}try{return e+""}catch{}}return""}var Rt=al,hd=/[\\^$.*+?()[\]{}|]/g,vd=/^\[object .+?Constructor\]$/,yd=Function.prototype,Yi=Object.prototype,ul=yd.toString,Wi=Yi.hasOwnProperty,sl=RegExp("^"+ul.call(Wi).replace(hd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ll(e){if(!Tt(e)||Xi(e))return!1;var r=yo(e)?sl:vd;return r.test(Rt(e))}var Ur=ll;function fl(e,r){return e==null?void 0:e[r]}var cl=fl;function ri(e,r){var t=cl(e,r);return Ur(t)?t:void 0}var Dr=ri,dl=Dr(Sr.a,"Map"),En=dl,pl=Dr(Object,"create"),Yn=pl;function hl(){this.__data__=Yn?Yn(null):{},this.size=0}var ni=hl;function Ki(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var vl=Ki,oi="__lodash_hash_undefined__",Vi=Object.prototype,Zi=Vi.hasOwnProperty;function Ji(e){var r=this.__data__;if(Yn){var t=r[e];return t===oi?void 0:t}return Zi.call(r,e)?r[e]:void 0}var Qi=Ji,yl=Object.prototype,qi=yl.hasOwnProperty;function gl(e){var r=this.__data__;return Yn?r[e]!==void 0:qi.call(r,e)}var ea=gl,ta="__lodash_hash_undefined__";function ml(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Yn&&r===void 0?ta:r,this}var bl=ml;function xn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}xn.prototype.clear=ni,xn.prototype.delete=vl,xn.prototype.get=Qi,xn.prototype.has=ea,xn.prototype.set=bl;var Sn=xn;function Pn(){this.size=0,this.__data__={hash:new Sn,map:new(En||we),string:new Sn}}var Ol=Pn;function El(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ra=El;function xl(e,r){var t=e.__data__;return ra(r)?t[typeof r=="string"?"string":"hash"]:t.map}var mo=xl;function Sl(e){var r=mo(this,e).delete(e);return this.size-=r?1:0,r}var Pl=Sl;function Tn(e){return mo(this,e).get(e)}var Xr=Tn;function Tl(e){return mo(this,e).has(e)}var Ml=Tl;function wl(e,r){var t=mo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Pr=wl;function Mn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Mn.prototype.clear=Ol,Mn.prototype.delete=Pl,Mn.prototype.get=Xr,Mn.prototype.has=Ml,Mn.prototype.set=Pr;var Wn=Mn,Al=200;function bo(e,r){var t=this.__data__;if(t instanceof we){var n=t.__data__;if(!En||n.length<Al-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Wn(n)}return t.set(e,r),this.size=t.size,this}var Oo=bo;function wn(e){var r=this.__data__=new we(e);this.size=r.size}wn.prototype.clear=Ue,wn.prototype.delete=Jt,wn.prototype.get=kn,wn.prototype.has=zi,wn.prototype.set=Oo;var An=wn,Tr="__lodash_hash_undefined__";function Kn(e){return this.__data__.set(e,Tr),this}var Mr=Kn;function vr(e){return this.__data__.has(e)}var Vn=vr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Wn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Vn;var Nl=qt;function Dl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var jl=Dl;function na(e,r){return e.has(r)}var jr=na,Cl=1,Cr=2;function oa(e,r,t,n,o,a){var s=t&Cl,p=e.length,y=r.length;if(p!=y&&!(s&&y>p))return!1;var E=a.get(e),T=a.get(r);if(E&&T)return E==r&&T==e;var D=-1,B=!0,G=t&Cr?new Nl:void 0;for(a.set(e,r),a.set(r,e);++D<p;){var J=e[D],ie=r[D];if(n)var ue=s?n(ie,J,D,r,e,a):n(J,ie,D,e,r,a);if(ue!==void 0){if(ue)continue;B=!1;break}if(G){if(!jl(r,function(le,Ae){if(!jr(G,Ae)&&(J===le||o(J,le,t,n,a)))return G.push(Ae)})){B=!1;break}}else if(!(J===ie||o(J,ie,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var ia=oa,ii=Sr.a.Uint8Array,Ut=ii;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Rl=aa;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var fr=ua,sa=1,ai=2,la="[object Boolean]",fa="[object Date]",Il="[object Error]",ca="[object Map]",_l="[object Number]",Bl="[object RegExp]",yr="[object Set]",wr="[object String]",Zn="[object Symbol]",Ll="[object ArrayBuffer]",da="[object DataView]",Eo=lr?lr.prototype:void 0,Jn=Eo?Eo.valueOf:void 0;function pa(e,r,t,n,o,a,s){switch(t){case da:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ll:return!(e.byteLength!=r.byteLength||!a(new Ut(e),new Ut(r)));case la:case fa:case _l:return Zt(+e,+r);case Il:return e.name==r.name&&e.message==r.message;case Bl:case wr:return e==r+"";case ca:var p=Rl;case yr:var y=n&sa;if(p||(p=fr),e.size!=r.size&&!y)return!1;var E=s.get(e);if(E)return E==r;n|=ai,s.set(e,r);var T=ia(p(e),p(r),n,o,a,s);return s.delete(e),T;case Zn:if(Jn)return Jn.call(e)==Jn.call(r)}return!1}var zl=pa;function xo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ui=xo,ha=Array.isArray,d=ha;function h(e,r,t){var n=r(e);return d(e)?n:ui(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var s=e[t];r(s,t,e)&&(a[o++]=s)}return a}var z=N;function K(){return[]}var fe=K,Te=Object.prototype,$e=Te.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),z(ft(e),function(r){return $e.call(e,r)}))}:fe,Ot=ct;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var _t=xt;function Xt(e){return e!=null&&typeof e=="object"}var Mt=Xt,gr="[object Arguments]";function Nn(e){return Mt(e)&&kr(e)==gr}var va=Nn,ya=Object.prototype,ga=ya.hasOwnProperty,ma=ya.propertyIsEnumerable,si=va(function(){return arguments}())?va:function(e){return Mt(e)&&ga.call(e,"callee")&&!ma.call(e,"callee")},Dn=si,fn=i(48),Nb=9007199254740991,Db=/^(?:0|[1-9]\d*)$/;function jb(e,r){var t=typeof e;return r=r==null?Nb:r,!!r&&(t=="number"||t!="symbol"&&Db.test(e))&&e>-1&&e%1==0&&e<r}var ba=jb,Cb=9007199254740991;function Rb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cb}var Fl=Rb,Ib="[object Arguments]",_b="[object Array]",Bb="[object Boolean]",Lb="[object Date]",zb="[object Error]",Fb="[object Function]",Hb="[object Map]",Gb="[object Number]",$b="[object Object]",kb="[object RegExp]",Ub="[object Set]",Xb="[object String]",Yb="[object WeakMap]",Wb="[object ArrayBuffer]",Kb="[object DataView]",Vb="[object Float32Array]",Zb="[object Float64Array]",Jb="[object Int8Array]",Qb="[object Int16Array]",qb="[object Int32Array]",eO="[object Uint8Array]",tO="[object Uint8ClampedArray]",rO="[object Uint16Array]",nO="[object Uint32Array]",Nt={};Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=Nt[nO]=!0,Nt[Ib]=Nt[_b]=Nt[Wb]=Nt[Bb]=Nt[Kb]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[Hb]=Nt[Gb]=Nt[$b]=Nt[kb]=Nt[Ub]=Nt[Xb]=Nt[Yb]=!1;function oO(e){return Mt(e)&&Fl(e.length)&&!!Nt[kr(e)]}var iO=oO;function aO(e){return function(r){return e(r)}}var Hl=aO,So=i(49),gd=So.a&&So.a.isTypedArray,uO=gd?Hl(gd):iO,Gl=uO,sO=Object.prototype,lO=sO.hasOwnProperty;function fO(e,r){var t=d(e),n=!t&&Dn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&Gl(e),s=t||n||o||a,p=s?_t(e.length,String):[],y=p.length;for(var E in e)(r||lO.call(e,E))&&!(s&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||ba(E,y)))&&p.push(E);return p}var md=fO,cO=Object.prototype;function dO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||cO;return e===t}var Oa=dO;function pO(e,r){return function(t){return e(r(t))}}var bd=pO,hO=bd(Object.keys,Object),vO=hO,yO=Object.prototype,gO=yO.hasOwnProperty;function mO(e){if(!Oa(e))return vO(e);var r=[];for(var t in Object(e))gO.call(e,t)&&t!="constructor"&&r.push(t);return r}var bO=mO;function OO(e){return e!=null&&Fl(e.length)&&!yo(e)}var Qn=OO;function EO(e){return Qn(e)?md(e):bO(e)}var Po=EO;function xO(e){return O(e,Po,Ot)}var $l=xO,SO=1,PO=Object.prototype,TO=PO.hasOwnProperty;function MO(e,r,t,n,o,a){var s=t&SO,p=$l(e),y=p.length,E=$l(r),T=E.length;if(y!=T&&!s)return!1;for(var D=y;D--;){var B=p[D];if(!(s?B in r:TO.call(r,B)))return!1}var G=a.get(e),J=a.get(r);if(G&&J)return G==r&&J==e;var ie=!0;a.set(e,r),a.set(r,e);for(var ue=s;++D<y;){B=p[D];var le=e[B],Ae=r[B];if(n)var ge=s?n(Ae,le,B,r,e,a):n(le,Ae,B,e,r,a);if(!(ge===void 0?le===Ae||o(le,Ae,t,n,a):ge)){ie=!1;break}ue||(ue=B=="constructor")}if(ie&&!ue){var be=e.constructor,Fe=r.constructor;be!=Fe&&"constructor"in e&&"constructor"in r&&!(typeof be=="function"&&be instanceof be&&typeof Fe=="function"&&Fe instanceof Fe)&&(ie=!1)}return a.delete(e),a.delete(r),ie}var wO=MO,AO=Dr(Sr.a,"DataView"),kl=AO,NO=Dr(Sr.a,"Promise"),Ul=NO,DO=Dr(Sr.a,"Set"),Xl=DO,jO=Dr(Sr.a,"WeakMap"),Yl=jO,Od="[object Map]",CO="[object Object]",Ed="[object Promise]",xd="[object Set]",Sd="[object WeakMap]",Pd="[object DataView]",RO=Rt(kl),IO=Rt(En),_O=Rt(Ul),BO=Rt(Xl),LO=Rt(Yl),qn=kr;(kl&&qn(new kl(new ArrayBuffer(1)))!=Pd||En&&qn(new En)!=Od||Ul&&qn(Ul.resolve())!=Ed||Xl&&qn(new Xl)!=xd||Yl&&qn(new Yl)!=Sd)&&(qn=function(e){var r=kr(e),t=r==CO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case RO:return Pd;case IO:return Od;case _O:return Ed;case BO:return xd;case LO:return Sd}return r});var li=qn,zO=1,Td="[object Arguments]",Md="[object Array]",Ea="[object Object]",FO=Object.prototype,wd=FO.hasOwnProperty;function HO(e,r,t,n,o,a){var s=d(e),p=d(r),y=s?Md:li(e),E=p?Md:li(r);y=y==Td?Ea:y,E=E==Td?Ea:E;var T=y==Ea,D=E==Ea,B=y==E;if(B&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;s=!0,T=!1}if(B&&!T)return a||(a=new An),s||Gl(e)?ia(e,r,t,n,o,a):zl(e,r,y,t,n,o,a);if(!(t&zO)){var G=T&&wd.call(e,"__wrapped__"),J=D&&wd.call(r,"__wrapped__");if(G||J){var ie=G?e.value():e,ue=J?r.value():r;return a||(a=new An),o(ie,ue,t,n,a)}}return B?(a||(a=new An),wO(e,r,t,n,o,a)):!1}var GO=HO;function Ad(e,r,t,n,o){return e===r?!0:e==null||r==null||!Mt(e)&&!Mt(r)?e!==e&&r!==r:GO(e,r,t,n,Ad,o)}var Wl=Ad,$O=1,kO=2;function UO(e,r,t,n){var o=t.length,a=o,s=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(s&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var y=p[0],E=e[y],T=p[1];if(s&&p[2]){if(E===void 0&&!(y in e))return!1}else{var D=new An;if(n)var B=n(E,T,y,e,r,D);if(!(B===void 0?Wl(T,E,$O|kO,n,D):B))return!1}}return!0}var XO=UO;function YO(e){return e===e&&!Tt(e)}var Nd=YO;function WO(e){for(var r=Po(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Nd(o)]}return r}var KO=WO;function VO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dd=VO;function ZO(e){var r=KO(e);return r.length==1&&r[0][2]?Dd(r[0][0],r[0][1]):function(t){return t===e||XO(t,e,r)}}var JO=ZO,QO="[object Symbol]";function qO(e){return typeof e=="symbol"||Mt(e)&&kr(e)==QO}var xa=qO,eE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tE=/^\w*$/;function rE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xa(e)?!0:tE.test(e)||!eE.test(e)||r!=null&&e in Object(r)}var Kl=rE,nE="Expected a function";function Vl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(nE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var s=e.apply(this,n);return t.cache=a.set(o,s)||a,s};return t.cache=new(Vl.Cache||Wn),t}Vl.Cache=Wn;var oE=Vl,iE=500;function aE(e){var r=oE(e,function(n){return t.size===iE&&t.clear(),n}),t=r.cache;return r}var uE=aE,sE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lE=/\\(\\)?/g,fE=uE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(sE,function(t,n,o,a){r.push(o?a.replace(lE,"$1"):n||t)}),r}),cE=fE,dE=1/0,jd=lr?lr.prototype:void 0,Cd=jd?jd.toString:void 0;function Rd(e){if(typeof e=="string")return e;if(d(e))return St(e,Rd)+"";if(xa(e))return Cd?Cd.call(e):"";var r=e+"";return r=="0"&&1/e==-dE?"-0":r}var pE=Rd;function hE(e){return e==null?"":pE(e)}var vE=hE;function yE(e,r){return d(e)?e:Kl(e,r)?[e]:cE(vE(e))}var Sa=yE,gE=1/0;function mE(e){if(typeof e=="string"||xa(e))return e;var r=e+"";return r=="0"&&1/e==-gE?"-0":r}var fi=mE;function bE(e,r){r=Sa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[fi(r[t++])];return t&&t==n?e:void 0}var Zl=bE;function OE(e,r,t){var n=e==null?void 0:Zl(e,r);return n===void 0?t:n}var Id=OE;function EE(e,r){return e!=null&&r in Object(e)}var xE=EE;function SE(e,r,t){r=Sa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var s=fi(r[n]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Fl(o)&&ba(s,o)&&(d(e)||Dn(e)))}var PE=SE;function TE(e,r){return e!=null&&PE(e,r,xE)}var _d=TE,ME=1,wE=2;function AE(e,r){return Kl(e)&&Nd(r)?Dd(fi(e),r):function(t){var n=Id(t,e);return n===void 0&&n===r?_d(t,e):Wl(r,n,ME|wE)}}var NE=AE;function DE(e){return e}var Jl=DE;function jE(e){return function(r){return r==null?void 0:r[e]}}var CE=jE;function RE(e){return function(r){return Zl(r,e)}}var IE=RE;function _E(e){return Kl(e)?CE(fi(e)):IE(e)}var BE=_E;function LE(e){return typeof e=="function"?e:e==null?Jl:typeof e=="object"?d(e)?NE(e[0],e[1]):JO(e):BE(e)}var zE=LE;function FE(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),p=s.length;p--;){var y=s[e?p:++o];if(t(a[y],y,a)===!1)break}return r}}var HE=FE,GE=HE(),Bd=GE;function $E(e,r){return e&&Bd(e,r,Po)}var kE=$E;function UE(e,r){return function(t,n){if(t==null)return t;if(!Qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,s=Object(t);(r?a--:++a<o)&&n(s[a],a,s)!==!1;);return t}}var XE=UE,YE=XE(kE),WE=YE;function KE(e,r){var t=-1,n=Qn(e)?Array(e.length):[];return WE(e,function(o,a,s){n[++t]=r(o,a,s)}),n}var VE=KE;function ZE(e,r){var t=d(e)?St:VE;return t(e,zE(r))}var Pa=ZE,JE=function(){try{var e=Dr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ta=JE;function QE(e,r,t){r=="__proto__"&&Ta?Ta(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Ql=QE,qE=Object.prototype,ex=qE.hasOwnProperty;function tx(e,r,t){var n=e[r];(!(ex.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&Ql(e,r,t)}var Ma=tx;function rx(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var p=r[a],y=n?n(t[p],e[p],p,t,e):void 0;y===void 0&&(y=e[p]),o?Ql(t,p,y):Ma(t,p,y)}return t}var To=rx;function nx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var ox=nx,Ld=Math.max;function ix(e,r,t){return r=Ld(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Ld(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(s),ox(e,this,p)}}var zd=ix;function ax(e){return function(){return e}}var ux=ax,sx=Ta?function(e,r){return Ta(e,"toString",{configurable:!0,enumerable:!1,value:ux(r),writable:!0})}:Jl,lx=sx,fx=800,cx=16,dx=Date.now;function px(e){var r=0,t=0;return function(){var n=dx(),o=cx-(n-t);if(t=n,o>0){if(++r>=fx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var hx=px,vx=hx(lx),Fd=vx;function yx(e,r){return Fd(zd(e,r,Jl),e+"")}var gx=yx;function mx(e,r,t){if(!Tt(t))return!1;var n=typeof r;return(n=="number"?Qn(t)&&ba(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var bx=mx;function Ox(e){return gx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&bx(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Hd=Ox,Ex=Object.prototype,xx=Ex.hasOwnProperty,Sx=Hd(function(e,r){if(Oa(r)||Qn(r)){To(r,Po(r),e);return}for(var t in r)xx.call(r,t)&&Ma(e,t,r[t])}),or=Sx;function Px(e,r,t,n){if(!Tt(e))return e;r=Sa(r,e);for(var o=-1,a=r.length,s=a-1,p=e;p!=null&&++o<a;){var y=fi(r[o]),E=t;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(o!=s){var T=p[y];E=n?n(T,y,p):void 0,E===void 0&&(E=Tt(T)?T:ba(r[o+1])?[]:{})}Ma(p,y,E),p=p[y]}return e}var Tx=Px;function Mx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var s=r[n],p=Zl(e,s);t(p,s)&&Tx(a,Sa(s,e),p)}return a}var wx=Mx;function Ax(e,r){return wx(e,r,function(t,n){return _d(e,n)})}var Nx=Ax,Gd=lr?lr.isConcatSpreadable:void 0;function Dx(e){return d(e)||Dn(e)||!!(Gd&&e&&e[Gd])}var jx=Dx;function $d(e,r,t,n,o){var a=-1,s=e.length;for(t||(t=jx),o||(o=[]);++a<s;){var p=e[a];r>0&&t(p)?r>1?$d(p,r-1,t,n,o):ui(o,p):n||(o[o.length]=p)}return o}var Cx=$d;function Rx(e){var r=e==null?0:e.length;return r?Cx(e,1):[]}var Ix=Rx;function _x(e){return Fd(zd(e,void 0,Ix),e+"")}var Bx=_x,Lx=Bx(function(e,r){return e==null?{}:Nx(e,r)}),ci=Lx,It,kd,Ud,Xd,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip;function Kt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ap(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fx(e,r,t){return r&&ap(e.prototype,r),t&&ap(e,t),e}function up(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Hx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ql=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],sp=(It=function(){function e(r){zx(this,e),Kt(this,"isSilentMode",kd,this),Kt(this,"stopZoomGraph",Ud,this),Kt(this,"stopScrollGraph",Xd,this),Kt(this,"stopMoveGraph",Yd,this),Kt(this,"adjustEdge",Wd,this),Kt(this,"adjustEdgeMiddle",Kd,this),Kt(this,"adjustEdgeStartAndEnd",Vd,this),Kt(this,"adjustNodePosition",Zd,this),Kt(this,"hideAnchors",Jd,this),Kt(this,"hoverOutline",Qd,this),Kt(this,"nodeSelectedOutline",qd,this),Kt(this,"edgeSelectedOutline",ep,this),Kt(this,"nodeTextEdit",tp,this),Kt(this,"edgeTextEdit",rp,this),Kt(this,"nodeTextDraggable",np,this),Kt(this,"edgeTextDraggable",op,this),Kt(this,"autoExpand",ip,this),up(this,"multipleSelectKey",""),up(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return Fx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var s=ci(Hx,ql);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,s)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=ci(t,ql);return or(a,p)}},{key:"getConfig",value:function(){return ci(this,ql)}}]),e}(),kd=Yt(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Yt(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Yt(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Yt(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Yt(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=Yt(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Yt(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Yt(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jd=Yt(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=Yt(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Yt(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Yt(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Yt(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Yt(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Yt(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Yt(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Yt(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yt(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var lp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(lp||(lp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var fp=9999,mr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(mr||(mr={}));var Bt,cp,dp,pp,hp,vp,yp,gp;function wa(e,r){return Ux(e)||kx(e,r)||$x(e,r)||Gx()}function Gx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $x(e,r){if(!!e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kx(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Ux(e){if(Array.isArray(e))return e}function eo(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Xx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yx(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function ef(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wx=(Bt=function(){function e(r){Xx(this,e),ef(this,"MINI_SCALE_SIZE",.2),ef(this,"MAX_SCALE_SIZE",16),eo(this,"SCALE_X",cp,this),eo(this,"SKEW_Y",dp,this),eo(this,"SKEW_X",pp,this),eo(this,"SCALE_Y",hp,this),eo(this,"TRANSLATE_X",vp,this),eo(this,"TRANSLATE_Y",yp,this),eo(this,"ZOOM_SIZE",gp,this),ef(this,"eventCenter",void 0),this.eventCenter=r}return Yx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=wa(t,2),s=a[0],p=a[1];return[s+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var s=this.CanvasPointToHtmlPoint([t,n]),p=wa(s,2),y=p[0],E=p[1],T=o/2-y,D=a/2-E;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=D,this.emitGraphTransform("focusOn")}}]),e}(),cp=Rr(Bt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=Rr(Bt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Rr(Bt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Rr(Bt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vp=Rr(Bt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Rr(Bt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Rr(Bt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Rr(Bt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"zoom"),Bt.prototype),Rr(Bt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"resetZoom"),Bt.prototype),Rr(Bt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"translate"),Bt.prototype),Rr(Bt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"focusOn"),Bt.prototype),Bt);function Kx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Vx=Kx;function Zx(e,r){return e&&To(r,Po(r),e)}var Jx=Zx;function Qx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var qx=Qx,eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e){if(!Tt(e))return qx(e);var r=Oa(e),t=[];for(var n in e)n=="constructor"&&(r||!tS.call(e,n))||t.push(n);return t}var nS=rS;function oS(e){return Qn(e)?md(e,!0):nS(e)}var di=oS;function iS(e,r){return e&&To(r,di(r),e)}var aS=iS,Op=i(106);function uS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=uS;function sS(e,r){return To(e,Ot(e),r)}var lS=sS,fS=bd(Object.getPrototypeOf,Object),tf=fS,cS=Object.getOwnPropertySymbols,dS=cS?function(e){for(var r=[];e;)ui(r,Ot(e)),e=tf(e);return r}:fe,xp=dS;function pS(e,r){return To(e,xp(e),r)}var hS=pS;function vS(e){return O(e,di,xp)}var yS=vS,gS=Object.prototype,mS=gS.hasOwnProperty;function bS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&mS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var OS=bS;function ES(e){var r=new e.constructor(e.byteLength);return new Ut(r).set(new Ut(e)),r}var rf=ES;function xS(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var SS=xS,PS=/\w*$/;function TS(e){var r=new e.constructor(e.source,PS.exec(e));return r.lastIndex=e.lastIndex,r}var MS=TS,Sp=lr?lr.prototype:void 0,Pp=Sp?Sp.valueOf:void 0;function wS(e){return Pp?Object(Pp.call(e)):{}}var AS=wS;function NS(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Tp=NS,DS="[object Boolean]",jS="[object Date]",CS="[object Map]",RS="[object Number]",IS="[object RegExp]",_S="[object Set]",BS="[object String]",LS="[object Symbol]",zS="[object ArrayBuffer]",FS="[object DataView]",HS="[object Float32Array]",GS="[object Float64Array]",$S="[object Int8Array]",kS="[object Int16Array]",US="[object Int32Array]",XS="[object Uint8Array]",YS="[object Uint8ClampedArray]",WS="[object Uint16Array]",KS="[object Uint32Array]";function VS(e,r,t){var n=e.constructor;switch(r){case zS:return rf(e);case DS:case jS:return new n(+e);case FS:return SS(e,t);case HS:case GS:case $S:case kS:case US:case XS:case YS:case WS:case KS:return Tp(e,t);case CS:return new n;case RS:case BS:return new n(e);case IS:return MS(e);case _S:return new n;case LS:return AS(e)}}var ZS=VS,Mp=Object.create,JS=function(){function e(){}return function(r){if(!Tt(r))return{};if(Mp)return Mp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),QS=JS;function qS(e){return typeof e.constructor=="function"&&!Oa(e)?QS(tf(e)):{}}var wp=qS,e0="[object Map]";function t0(e){return Mt(e)&&li(e)==e0}var r0=t0,Ap=So.a&&So.a.isMap,n0=Ap?Hl(Ap):r0,o0=n0,i0="[object Set]";function a0(e){return Mt(e)&&li(e)==i0}var u0=a0,Np=So.a&&So.a.isSet,s0=Np?Hl(Np):u0,l0=s0,f0=1,c0=2,d0=4,Dp="[object Arguments]",p0="[object Array]",h0="[object Boolean]",v0="[object Date]",y0="[object Error]",jp="[object Function]",g0="[object GeneratorFunction]",m0="[object Map]",b0="[object Number]",Cp="[object Object]",O0="[object RegExp]",E0="[object Set]",x0="[object String]",S0="[object Symbol]",P0="[object WeakMap]",T0="[object ArrayBuffer]",M0="[object DataView]",w0="[object Float32Array]",A0="[object Float64Array]",N0="[object Int8Array]",D0="[object Int16Array]",j0="[object Int32Array]",C0="[object Uint8Array]",R0="[object Uint8ClampedArray]",I0="[object Uint16Array]",_0="[object Uint32Array]",wt={};wt[Dp]=wt[p0]=wt[T0]=wt[M0]=wt[h0]=wt[v0]=wt[w0]=wt[A0]=wt[N0]=wt[D0]=wt[j0]=wt[m0]=wt[b0]=wt[Cp]=wt[O0]=wt[E0]=wt[x0]=wt[S0]=wt[C0]=wt[R0]=wt[I0]=wt[_0]=!0,wt[y0]=wt[jp]=wt[P0]=!1;function Aa(e,r,t,n,o,a){var s,p=r&f0,y=r&c0,E=r&d0;if(t&&(s=o?t(e,n,o,a):t(e)),s!==void 0)return s;if(!Tt(e))return e;var T=d(e);if(T){if(s=OS(e),!p)return Ep(e,s)}else{var D=li(e),B=D==jp||D==g0;if(Object(fn.a)(e))return Object(Op.a)(e,p);if(D==Cp||D==Dp||B&&!o){if(s=y||B?{}:wp(e),!p)return y?hS(e,aS(s,e)):lS(e,Jx(s,e))}else{if(!wt[D])return o?e:{};s=ZS(e,D,p)}}a||(a=new An);var G=a.get(e);if(G)return G;a.set(e,s),l0(e)?e.forEach(function(ue){s.add(Aa(ue,r,t,ue,e,a))}):o0(e)&&e.forEach(function(ue,le){s.set(le,Aa(ue,r,t,le,e,a))});var J=E?y?yS:$l:y?di:Po,ie=T?void 0:J(e);return Vx(ie||e,function(ue,le){ie&&(le=ue,ue=e[le]),Ma(s,le,Aa(ue,r,t,le,e,a))}),s}var B0=Aa,L0=1,z0=4;function F0(e){return B0(e,L0|z0)}var jt=F0;function H0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&Ql(e,r,t)}var nf=H0;function G0(e){return Mt(e)&&Qn(e)}var $0=G0,k0="[object Object]",U0=Function.prototype,X0=Object.prototype,Rp=U0.toString,Y0=X0.hasOwnProperty,W0=Rp.call(Object);function K0(e){if(!Mt(e)||kr(e)!=k0)return!1;var r=tf(e);if(r===null)return!0;var t=Y0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Rp.call(t)==W0}var V0=K0;function Z0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var of=Z0;function J0(e){return To(e,di(e))}var Q0=J0;function q0(e,r,t,n,o,a,s){var p=of(e,t),y=of(r,t),E=s.get(y);if(E){nf(e,t,E);return}var T=a?a(p,y,t+"",e,r,s):void 0,D=T===void 0;if(D){var B=d(y),G=!B&&Object(fn.a)(y),J=!B&&!G&&Gl(y);T=y,B||G||J?d(p)?T=p:$0(p)?T=Ep(p):G?(D=!1,T=Object(Op.a)(y,!0)):J?(D=!1,T=Tp(y,!0)):T=[]:V0(y)||Dn(y)?(T=p,Dn(p)?T=Q0(p):(!Tt(p)||yo(p))&&(T=wp(y))):D=!1}D&&(s.set(y,T),o(T,y,n,a,s),s.delete(y)),nf(e,t,T)}var eP=q0;function Ip(e,r,t,n,o){e!==r&&Bd(r,function(a,s){if(o||(o=new An),Tt(a))eP(e,r,s,t,Ip,n,o);else{var p=n?n(of(e,s),a,s+"",e,r,o):void 0;p===void 0&&(p=a),nf(e,s,p)}},di)}var tP=Ip,rP=Hd(function(e,r,t){tP(e,r,t)}),_p=rP,nP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Bp=function(r){var t=jt(nP);return r&&(t=_p(t,r)),t};i(78),i(158);function oP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iP(e,r,t){return r&&Lp(e.prototype,r),t&&Lp(e,t),e}function aP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uP="*",sP=function(){function e(){oP(this,e),aP(this,"_events",{})}return iP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var s=o._events[a]||[],p=o._events[uP]||[],y=function(T){for(var D=T.length,B=0;B<D;B++)if(!!T[B]){var G=T[B],J=G.callback,ie=G.once;ie&&(T.splice(B,1),T.length===0&&delete o._events[a],D--,B--),J.apply(o,[n])}};y(s),y(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var s=o._events[a]||[],p=s.length,y=0;y<p;y++)s[y].callback===n&&(s.splice(y,1),p--,y--);s.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function jn(e,r){return r*Math.round(e/r)||e}function zp(e,r){return e%r}function af(e,r){return dP(e)||cP(e,r)||fP(e,r)||lP()}function lP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fP(e,r){if(!!e){if(typeof e=="string")return Fp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fp(e,r)}}function Fp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dP(e){if(Array.isArray(e))return e}var uf=function(r,t,n){var o=af(r,2),a=o[0],s=o[1],p=af(t,2),y=p[0],E=p[1],T=af(n,2),D=T[0],B=T[1];return a>y&&a<D&&s>E&&s<B},Hp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Na,pP=new Uint8Array(16);function hP(){if(!Na&&(Na=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Na))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Na(pP)}var vP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yP(e){return typeof e=="string"&&vP.test(e)}for(var gP=yP,Vt=[],sf=0;sf<256;++sf)Vt.push((sf+256).toString(16).substr(1));function mP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Vt[e[r+0]]+Vt[e[r+1]]+Vt[e[r+2]]+Vt[e[r+3]]+"-"+Vt[e[r+4]]+Vt[e[r+5]]+"-"+Vt[e[r+6]]+Vt[e[r+7]]+"-"+Vt[e[r+8]]+Vt[e[r+9]]+"-"+Vt[e[r+10]]+Vt[e[r+11]]+Vt[e[r+12]]+Vt[e[r+13]]+Vt[e[r+14]]+Vt[e[r+15]]).toLowerCase();if(!gP(t))throw TypeError("Stringified UUID is invalid");return t}var bP=mP;function OP(e,r,t){e=e||{};var n=e.random||(e.rng||hP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return bP(n)}var lf=OP,to=function(){var r=lf();return r},EP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+lf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+lf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var xP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(s-r.x)*(s-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:s,y:p}:!1},pi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(t){return typeof t}:Da=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function Gp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $p(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gp(Object(t),!0).forEach(function(n){SP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ff=function(r){var t=r.anchors;return t},ja=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var s=n[a],p=MP(r,s);if(p){var y=TP(r,s);if(y){var E={node:s,anchorIndex:y.index,anchor:y.anchor};(!o||PP(s,o.node,t))&&(o=E)}}}return o},PP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},TP=function(r,t){for(var n=ff(t),o,a=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var p=Yr(r.x,r.y,n[s].x,n[s].y);p<a&&(a=p,o={index:s,anchor:$p($p({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Yr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Cn=function(r,t){var n=!1,o=0,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},MP=function(r,t){var n=!1,o=5,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},br=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,s={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return s},wP=function(r){var t=r,n=t.x,o=t.y,a=t.width,s=t.height,p=t.radius,y=[{x:n-a/2+p,y:o-s/2+p,r:p},{x:n+a/2-p,y:o-s/2+p,r:p},{x:n-a/2+p,y:o+s/2-p,r:p},{x:n+a/2-p,y:o+s/2-p,r:p}];return y},kp=function(r,t,n){var o=wP(n),a,s=Number.MAX_SAFE_INTEGER;o.forEach(function(y){var E=Yr(r.x,r.y,y.x,y.y);E<s&&(s=E,a=y)});var p=cf(r,t,a);return p},cf=function(r,t,n){var o,a=n,s=a.x,p=a.y,y=a.r;if(t===Dt.HORIZONTAL){var E=s-Math.sqrt(y*y-(r.y-p)*(r.y-p)),T=s+Math.sqrt(y*y-(r.y-p)*(r.y-p)),D=Math.abs(E-r.x)<Math.abs(T-r.x)?E:T;o={x:D,y:r.y}}else if(t===Dt.VERTICAL){var B=p-Math.sqrt(y*y-(r.x-s)*(r.x-s)),G=p+Math.sqrt(y*y-(r.x-s)*(r.x-s)),J=Math.abs(B-r.y)<Math.abs(G-r.y)?B:G;o={x:r.x,y:J}}return o},Up=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},s=n.x,p=n.y,y=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===s+y/2||r.x===s-y/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Xp=function(r,t,n){var o,a=n,s=a.x,p=a.y,y=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var T=s-Math.sqrt(y*y-(r.y-p)*(r.y-p)*y*y/(E*E)),D=s+Math.sqrt(y*y-(r.y-p)*(r.y-p)*y*y/(E*E)),B=Math.abs(T-r.x)<Math.abs(D-r.x)?T:D;o={x:B,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(y*y)),J=p+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(y*y)),ie=Math.abs(G-r.y)<Math.abs(J-r.y)?G:J;o={x:r.x,y:ie}}return o},Ca=function(r,t,n){for(var o=n,a=o.pointsPosition,s=Number.MAX_SAFE_INTEGER,p,y=[],E=0;E<a.length;E++)y.push({start:a[E],end:a[(E+1)%a.length]});return y.forEach(function(T){var D=T.start,B=T.end,G=D,J=B;D.x>B.x&&(G=B,J=D);var ie={x:r.x,y:r.y};if(G.x===J.x&&t===Dt.HORIZONTAL&&(ie={x:G.x,y:r.y}),G.y===J.y&&t===Dt.VERTICAL&&(ie={x:r.x,y:G.y}),G.x!==J.x&&G.y!==J.y){var ue=(J.y-G.y)/(J.x-G.x),le=(G.x*J.y-J.x*G.y)/(G.x-J.x);t===Dt.HORIZONTAL?ie={x:(r.y-le)/ue,y:r.y}:t===Dt.VERTICAL&&(ie={x:r.x,y:ue*r.x+le})}var Ae=pi(ie,D,B);if(Ae){var ge=Yr(ie.x,ie.y,r.x,r.y);ge<s&&(s=ge,p=ie)}}),p},AP=function(r){var t=ci(r,["id","type","x","y","text","properties","virtual"]);return t},Yp=function(r,t,n,o){var a=r.x,s=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:a,y:s}},Wp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=a,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(y){var E=document.createElement("div");E.textContent=y,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},df=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(s){var p=Lh(s);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ra=function(r){return Da(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Kp={node:!1,edge:!1},NP={node:!0,edge:!0},DP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},jP=1e3,CP=999,pf=function(){return++jP},RP=function(){return--CP},ye,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){Or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $t(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _P(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var hf=(ye=function(){function e(r,t){IP(this,e),Or(this,"id",to()),$t(this,"type",Vp,this),$t(this,"sourceNodeId",Zp,this),$t(this,"targetNodeId",Jp,this),$t(this,"startPoint",Qp,this),$t(this,"endPoint",qp,this),$t(this,"text",eh,this),$t(this,"properties",th,this),$t(this,"points",rh,this),$t(this,"pointsList",nh,this),$t(this,"isSelected",oh,this),$t(this,"isHovered",ih,this),$t(this,"isHitable",ah,this),$t(this,"draggable",uh,this),$t(this,"visible",sh,this),Or(this,"virtual",!1),$t(this,"isAnimation",lh,this),Or(this,"graphModel",void 0),$t(this,"zIndex",fh,this),Or(this,"BaseType",Gt.EDGE),Or(this,"modelType",pt.EDGE),$t(this,"state",ch,this),Or(this,"additionStateData",void 0),Or(this,"sourceAnchorId",""),Or(this,"targetAnchorId",""),Or(this,"menu",void 0),Or(this,"customTextPosition",!1),Or(this,"animationData",DP),$t(this,"style",dh,this),$t(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return _P(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,PT(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||pf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ir(Ir({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,s=ff(t);return s.forEach(function(p){var y=Hh(p,n);a?y<a&&(a=y,o=p):(a=y,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,s=ff(t);return s.forEach(function(p){var y=Hh(p,n.startPoint);a?y<a&&(a=y,o=p):(a=y,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(s.text={x:n,y:o,value:a}),this.graphModel.overlapMode===mr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Ir(Ir({},this.properties),er(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Ir(Ir({},this.style),{},Or({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Ir(Ir({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Ir({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,s=o.y,p=o.value,y=o.draggable,E=o.editable;this.text={value:p,draggable:y,x:a+t,y:s+n,editable:E}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Ir(Ir({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Vp=et(ye.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=et(ye.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=et(ye.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp=et(ye.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=et(ye.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eh=et(ye.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),th=et(ye.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rh=et(ye.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nh=et(ye.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oh=et(ye.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=et(ye.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=et(ye.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=et(ye.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=et(ye.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=et(ye.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=et(ye.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=et(ye.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=et(ye.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=et(ye.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),et(ye.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),et(ye.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),et(ye.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),et(ye.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),et(ye.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"deleteProperty"),ye.prototype),et(ye.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),et(ye.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"changeEdgeId"),ye.prototype),et(ye.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyle"),ye.prototype),et(ye.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setStyles"),ye.prototype),et(ye.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStyles"),ye.prototype),et(ye.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),et(ye.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),et(ye.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),et(ye.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),et(ye.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),et(ye.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),et(ye.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),et(ye.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),et(ye.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),et(ye.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"openEdgeAnimation"),ye.prototype),et(ye.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"closeEdgeAnimation"),ye.prototype),et(ye.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),et(ye.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),et(ye.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveStartPoint"),ye.prototype),et(ye.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),et(ye.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"moveEndPoint"),ye.prototype),et(ye.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),et(ye.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),et(ye.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),et(ye.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustStart"),ye.prototype),et(ye.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"getAdjustEnd"),ye.prototype),et(ye.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ye.prototype,"updateAfterAdjustStartAndEnd"),ye.prototype),ye),vf=hf;function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LP(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function _a(){return typeof Reflect<"u"&&Reflect.get?_a=Reflect.get:_a=function(r,t,n){var o=zP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},_a.apply(this,arguments)}function zP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Mo(e),e!==null););return e}function FP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yf(e,r)}function yf(e,r){return yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yf(e,r)}function HP(e){var r=$P();return function(){var n=Mo(e),o;if(r){var a=Mo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GP(this,o)}}function GP(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gf=function(e){FP(t,e);var r=HP(t);function t(){var n;BP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",pt.LINE_EDGE),n}return LP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=_a(Mo(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(vf);function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(t){return typeof t}:Ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}var at,Eh;function kP(e,r){return WP(e)||YP(e,r)||XP(e,r)||UP()}function UP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,r){if(!!e){if(typeof e=="string")return xh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xh(e,r)}}function xh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WP(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ph(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){bf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function KP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function VP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Th(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZP(e,r,t){return r&&Th(e.prototype,r),t&&Th(e,t),e}function wo(){return typeof Reflect<"u"&&Reflect.get?wo=Reflect.get:wo=function(r,t,n){var o=JP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wo.apply(this,arguments)}function JP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Rn(e),e!==null););return e}function QP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mf(e,r)}function mf(e,r){return mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mf(e,r)}function qP(e){var r=tT();return function(){var n=Rn(e),o;if(r){var a=Rn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eT(this,o)}}function eT(e,r){if(r&&(Ba(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(e)}function bf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Of=(at=function(e){QP(t,e);var r=qP(t);function t(){var n;VP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),bf(hi(n),"modelType",pt.POLYLINE_EDGE),bf(hi(n),"draginngPointList",void 0),KP(hi(n),"dbClickPosition",Eh,hi(n)),n}return ZP(t,[{key:"initEdgeData",value:function(o){this.offset=30,wo(Rn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=wo(Rn(t.prototype),"getEdgeStyle",this).call(this);return Ph(Ph({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition,p=s.x,y=s.y;return{x:p,y}}var E=Ao(this.points),T=OT(E),D=kP(T,2),B=D[0],G=D[1];return{x:(B.x+G.x)/2,y:(B.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var p,y;return s.forEach(function(E){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-E.x)),(!y||y>T)&&(y=T,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,s){var p;return o===Dt.HORIZONTAL?p={x:s.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:s.y}),p}},{key:"removeCrossPoints",value:function(o,a,s){var p=s.map(function(Re){return Re});if(o===1){var y=p[o],E=p[a],T=p[o-1],D=Rh(T,y,this.sourceNode);if(D){var B=Ih(y,E,this.sourceNode);if(B){var G=_h(y,E,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var J=this.sourceNode.anchors;J.forEach(function(Re){if(Re.x===T.x&&Re.x===y.x||Re.y===T.y&&Re.y===y.y){var Ze=Yr(Re.x,Re.y,y.x,y.y),He=Yr(T.x,T.y,y.x,y.y);Ze<He&&(p[o-1]=Re)}})}}if(a===s.length-2){var ie=p[o],ue=p[a],le=p[a+1],Ae=Rh(ue,le,this.targetNode);if(Ae){var ge=Ih(ie,ue,this.targetNode);if(ge){var be=_h(ie,ue,this.targetNode);be&&(p[a]=be,p.splice(a+1,1))}}else{var Fe=this.targetNode.anchors;Fe.forEach(function(Re){if(Re.x===le.x&&Re.x===ue.x||Re.y===le.y&&Re.y===ue.y){var Ze=Yr(Re.x,Re.y,ue.x,ue.y),He=Yr(le.x,le.y,ue.x,ue.y);Ze<He&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,s,p,y){var E=y.map(function(B){return B}),T=this.getAfterAnchor(o,s,p),D=this.getCorssPoint(o,s,T);return a==="start"?(E.unshift(D),E.unshift(T)):(E.push(D),E.push(T)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(be){return be}),s=o[0],p=o[1],y=o[a.length-2],E=o[a.length-1],T=this.sourceNode,D=this.targetNode,B=T.modelType,G=D.modelType,J=ka(s,p),ie=a[0];switch(B){case pt.RECT_NODE:if(T.radius!==0){var ue=Up(s,T);ue||(ie=kp(s,J,T))}break;case pt.CIRCLE_NODE:ie=cf(s,J,T);break;case pt.ELLIPSE_NODE:ie=Xp(s,J,T);break;case pt.DIAMOND_NODE:ie=Ca(s,J,T);break;case pt.POLYGON_NODE:ie=Ca(s,J,T);break}a[0]=ie;var le=ka(y,E),Ae=a[a.length-1];switch(G){case pt.RECT_NODE:if(D.radius!==0){var ge=Up(E,D);ge||(Ae=kp(E,le,D))}break;case pt.CIRCLE_NODE:Ae=cf(E,le,D);break;case pt.ELLIPSE_NODE:Ae=Xp(E,le,D);break;case pt.DIAMOND_NODE:Ae=Ca(E,le,D);break;case pt.POLYGON_NODE:Ae=Ca(E,le,D);break}return a[a.length-1]=Ae,a}},{key:"getData",value:function(){var o=wo(Rn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,y=s.y;return{x:p,y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Ch({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,y=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList,B=D;return T===Dt.HORIZONTAL?(D[y]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y},B=this.pointsList.map(function(G){return G})):T===Dt.VERTICAL&&(D[y]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y},B=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[y]),end:Object.assign({},D[E]),startIndex:y,endIndex:E,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,y=o.startIndex,E=o.endIndex,T=o.direction,D=this.pointsList;if(T===Dt.HORIZONTAL){D[y]={x:s.x,y:s.y+a.y},D[E]={x:p.x,y:p.y+a.y};var B=this.pointsList.map(function(yt){return yt});if(y!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(y,E,B)),y===0){var G={x:s.x,y:s.y+a.y},J=Cn(G,this.sourceNode);if(!J){var ie=this.sourceNode.anchors;B=this.getDragingPoints(T,"start",G,ie,B)}}if(E===this.pointsList.length-1){var ue={x:p.x,y:p.y+a.y},le=Cn(ue,this.targetNode);if(!le){var Ae=this.targetNode.anchors;B=this.getDragingPoints(T,"end",ue,Ae,B)}}B=Tf(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(T===Dt.VERTICAL){D[y]={x:s.x+a.x,y:s.y},D[E]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(yt){return yt});if(y!==0&&E!==this.pointsList.length-1&&(ge=this.removeCrossPoints(y,E,ge)),y===0){var be={x:s.x+a.x,y:s.y},Fe=Cn(be,this.sourceNode);if(!Fe){var Re=this.sourceNode.anchors;ge=this.getDragingPoints(T,"start",be,Re,ge)}}if(E===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},He=Cn(Ze,this.targetNode);if(!He){var ht=this.targetNode.anchors;ge=this.getDragingPoints(T,"end",Ze,ht,ge)}}ge=Tf(ge),this.updatePointsAfterDrage(ge),this.draginngPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[y]),end:Object.assign({},D[E]),startIndex:y,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Ao(this.points);this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,y=o.targetNode,E=Ch({x:a.x,y:a.y},{x:s.x,y:s.y},p,y,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(vf),Eh=ir(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),ir(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),ir(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),ir(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),ir(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),ir(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),ir(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),ir(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),ir(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),ir(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),ir(at.prototype,"updatePointsAfterDrage",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrage"),at.prototype),ir(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),ir(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),ir(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),vi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,s=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},y=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return s==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(y+E),p.leftY=t.y-T*Math.cos(y+E),p.rightX=t.x-T*Math.sin(y-E),p.rightY=t.y+T*Math.cos(y-E)):(p.leftX=t.x-T*Math.sin(y+E),p.leftY=t.y+T*Math.cos(y+E),p.rightX=t.x+T*Math.sin(y-E),p.rightY=t.y-T*Math.cos(y-E)):s==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(y-E),p.leftY=n.y-T*Math.cos(y-E),p.rightX=n.x-T*Math.sin(y+E),p.rightY=n.y+T*Math.cos(y+E)):(p.leftX=n.x-T*Math.sin(y-E),p.leftY=n.y+T*Math.cos(y-E),p.rightX=n.x+T*Math.sin(y+E),p.rightY=n.y-T*Math.cos(y+E))),p};function Mh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function La(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mh(Object(t),!0).forEach(function(n){rT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nT(e){return aT(e)||iT(e)||wh(e)||oT()}function oT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aT(e){if(Array.isArray(e))return xf(e)}function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Ef(e,r){return lT(e)||sT(e,r)||wh(e,r)||uT()}function uT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e,r){if(!!e){if(typeof e=="string")return xf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xf(e,r)}}function xf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function lT(e){if(Array.isArray(e))return e}var fT=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Sf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Fa=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},cT=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ha=function(r,t){var n=cT(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Ah=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:a,maxY:s,height:s-o,width:a-n}},yi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(D){n.push(D.x),o.push(D.y)});var a=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,o),y=Math.max.apply(Math,o),E=s-a,T=y-p;return t&&(E+=t,T+=t),{centerX:(a+s)/2,centerY:(p+y)/2,maxX:s,maxY:y,minX:a,minY:p,x:(a+s)/2,y:(p+y)/2,height:T,width:E}},Ga=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},$a=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},dT=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},pT=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},hT=function(r,t){return dT(r,t.x).concat(pT(r,t.y))},Pf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},vT=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Nh=function(r,t,n,o,a){return Pf(r,t)+Pf(r,n)+vT(r,[t,n,o,a])},yT=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},gT=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},gi=function(r,t,n,o){var a=t.x-r.x,s=t.y-r.y,p=o.x-n.x,y=o.y-n.y,E=(-s*(r.x-n.x)+a*(r.y-n.y))/(-p*s+a*y),T=(p*(r.y-n.y)-y*(r.x-n.x))/(-p*s+a*y);return E>=0&&E<=1&&T>=0&&T<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ga(n),a=Ef(o,4),s=a[0],p=a[1],y=a[2],E=a[3];return gi(r,t,s,p)||gi(r,t,s,E)||gi(r,t,p,y)||gi(r,t,y,E)},mT=function(r,t,n,o){var a=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!Dh(s,t,n)&&!Dh(s,t,o)&&a.push(s)}),Sf(a)},bT=function(r,t,n,o,a,s,p){var y=[],E=[t],T={},D={},B={};D[t.id]=0,B[t.id]=Nh(t,n,t);var G={};r.forEach(function(ue){G[ue.id]=ue});for(var J=function(){var le=void 0,Ae=1/0;if(E.forEach(function(be){B[be.id]<Ae&&(Ae=B[be.id],le=be)}),le===n){var ge=[];return yT(ge,G,T,n.id),{v:ge}}gT(E,le),y.push(le),mT(r,le,o,a).forEach(function(be){if(y.indexOf(be)===-1){E.indexOf(be)===-1&&E.push(be);var Fe=B[le.id]+Pf(le,be);D[be.id]&&Fe>=D[be.id]||(T[be.id]=le.id,D[be.id]=Fe,B[be.id]=D[be.id]+Nh(be,n,t,s,p))}})};E.length;){var ie=J();if(za(ie)==="object")return ie.v}return[t,n]},jh=function(r){var t=br(r);return t},Tf=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],s=t[n+1];o.x===a.x&&a.x===s.x||o.y===a.y&&a.y===s.y?t.splice(n,1):n++}return t},Ch=function(r,t,n,o,a){var s=jh(n),p=jh(o),y=Fa(s,a),E=Fa(p,a),T=Ha(y,r),D=Ha(E,t);if(fT(y,E)){var B=ET(r,t,T,D);return[r,T].concat(nT(B),[D,t])}var G=yi([T,D]),J=Ah(y,G),ie=Ah(E,G),ue=[];ue=ue.concat(Ga(J)),ue=ue.concat(Ga(ie));var le={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,J,ie].forEach(function(ge){ue=ue.concat(hT(ge,le).filter(function(be){return $a(be,y)&&$a(be,E)}))}),[{x:T.x,y:D.y},{x:D.x,y:T.y}].forEach(function(ge){$a(ge,y)&&$a(ge,E)&&ue.push(ge)}),ue.unshift(T),ue.push(D),ue=Sf(ue);var Ae=bT(ue,T,D,s,p,r,t);return Ae.unshift(r),Ae.push(t),Ae.length>2&&(Ae=Tf(Ae)),Sf(Ae)},OT=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Yr(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var p=r[s],y=r[s+1],E=Yr(p.x,p.y,y.x,y.y);E>a&&(a=E,n=p,o=y)}t=[n,o]}return t},Rh=function(r,t,n){var o=Cn(r,n),a=Cn(t,n);return o&&a},Ih=function(r,t,n){var o=Cn(r,n),a=Cn(t,n),s=o&&a,p=o||a;return!s&&p},_h=function(r,t,n){for(var o,a,s=br(n),p=Ga(s),y=0;y<p.length;y++){var E=gi(r,t,p[y],p[(y+1)%p.length]);E&&(a=[p[y],p[(y+1)%p.length]])}return a&&(o=xP(r,t,a[0],a[1])),o},ka=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Ao=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),s=Ef(a,2),p=s[0],y=s[1];n.push({x:Number(p),y:Number(y)})}),n},ET=function(r,t,n,o){var a=[],s=ka(r,n),p=ka(t,o);if(s===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var y={x:n.x,y:o.y},E=pi(y,r,n),T=pi(y,t,o);if(E||T)y={x:o.x,y:n.y};else{var D=Bh(y,r,n),B=Bh(y,t,o);D&&B&&(y={x:o.x,y:n.y})}a.push(y)}return a},Bh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Lh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},xT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},s=vi(La(La({},a),{},{type:"start"})),p=vi(La(La({},a),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},zh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,s=r.offset,p=br(o),y=br(a),E=Fa(p,s),T=Fa(y,s),D=Ha(E,t),B=Ha(T,n);return{sNext:D,ePre:B}},Ua=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Xa(t[0]),o=Xa(t[1]),a=Xa(t[2]),s=Xa(t[3]);return[n,o,a,s]},Xa=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Ef(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},ST=function(r){var t=Ua(r);return[t[2],t[3]]},Fh=function(r,t){for(var n=r.x,o=r.y,a=Ao(t),s=Number.MAX_SAFE_INTEGER,p,y=[],E=0;E<a.length;E++)y.push({start:a[E],end:a[(E+1)%a.length]});if(y.forEach(function(G){var J=G.start,ie=G.end;if(J.x===ie.x){var ue={x:J.x,y:o},le=pi(ue,J,ie);if(le){var Ae=Math.abs(J.x-n);Ae<s&&(s=Ae,p=ue)}}else if(J.y===ie.y){var ge={x:n,y:J.y},be=pi(ge,J,ie);if(be){var Fe=Math.abs(J.y-o);Fe<s&&(s=Fe,p=ge)}}}),!p){var T=y[0],D=T.start,B=T.end;p={x:D.x+(B.x-D.x)/2,y:D.y+(B.y-D.y)/2}}return p},PT=function(r){return ci(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function TT(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function MT(){}var No=MT;function wT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AT(e,r,t){return r&&Gh(e.prototype,r),t&&Gh(e,t),e}function Ft(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wr=window.document,$h=0;function Mf(e){var r=e.onDragStart,t=r===void 0?No:r,n=e.onDraging,o=n===void 0?No:n,a=e.onDragEnd,s=a===void 0?No:a,p=e.step,y=p===void 0?1:p,E=e.isStopPropagation,T=E===void 0?!0:E,D=!1,B=!1,G=0,J=0,ie=0,ue=0;function le(be){if(T&&be.stopPropagation(),!!B&&(D=!0,ie+=be.clientX-G,ue+=be.clientY-J,G=be.clientX,J=be.clientY,Math.abs(ie)>y||Math.abs(ue)>y)){var Fe=ie%y,Re=ue%y,Ze=ie-Fe,He=ue-Re;ie=Fe,ue=Re,o({deltaX:Ze,deltaY:He,event:be})}}function Ae(be){if(T&&be.stopPropagation(),B=!1,Wr.removeEventListener("mousemove",le,!1),Wr.removeEventListener("mouseup",Ae,!1),!!D)return D=!1,s({event:be})}function ge(be){if(be.button===$h)return T&&be.stopPropagation(),B=!0,G=be.clientX,J=be.clientY,Wr.addEventListener("mousemove",le,!1),Wr.addEventListener("mouseup",Ae,!1),t({event:be})}return ge}var ro=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?No:n,a=r.onDraging,s=a===void 0?No:a,p=r.onDragEnd,y=p===void 0?No:p,E=r.eventType,T=E===void 0?"":E,D=r.eventCenter,B=D===void 0?null:D,G=r.step,J=G===void 0?1:G,ie=r.isStopPropagation,ue=ie===void 0?!0:ie,le=r.model,Ae=le===void 0?null:le;wT(this,e),Ft(this,"onDragStart",void 0),Ft(this,"onDraging",void 0),Ft(this,"onDragEnd",void 0),Ft(this,"step",void 0),Ft(this,"isStopPropagation",void 0),Ft(this,"isDraging",!1),Ft(this,"isStartDraging",!1),Ft(this,"startX",0),Ft(this,"startY",0),Ft(this,"sumDeltaX",0),Ft(this,"sumDeltaY",0),Ft(this,"eventType",void 0),Ft(this,"eventCenter",void 0),Ft(this,"model",void 0),Ft(this,"startTime",void 0),Ft(this,"isGrag",void 0),Ft(this,"handleMouseDown",function(ge){var be,Fe;if(ge.button===$h){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Wr.addEventListener("mousemove",t.handleMouseMove,!1),Wr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Re}),t.startTime=new Date().getTime()}}),Ft(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var be,Fe=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,Ze=t.sumDeltaX-Fe,He=t.sumDeltaY-Re;t.sumDeltaX=Fe,t.sumDeltaY=Re;var ht=(be=t.model)===null||be===void 0?void 0:be.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:ht}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var sr,Er;t.onDraging({deltaX:Ze,deltaY:He,event:ge}),(sr=t.eventCenter)===null||sr===void 0||sr.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:ht}),(Er=t.eventCenter)===null||Er===void 0||Er.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:ht})})}}),Ft(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var be,Fe,Re;Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(be=t.model)===null||be===void 0?void 0:be.getData();(Fe=t.eventCenter)===null||Fe===void 0||Fe.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),Ft(this,"cancelDrag",function(){Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=y,this.step=J,this.isStopPropagation=ue,this.eventType=T,this.eventCenter=B,this.model=Ae}return AT(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),NT=function(r){return!r||typeof r=="boolean"?jt(r===!0?NP:Kp):_p(jt(Kp),r)},de,kh,Uh,Xh,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev;function tv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ya(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tv(Object(t),!0).forEach(function(n){Kr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wf(e,r){return CT(e)||jT(e,r)||rv(e,r)||DT()}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CT(e){if(Array.isArray(e))return e}function Do(e){return _T(e)||IT(e)||rv(e)||RT()}function RT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rv(e,r){if(!!e){if(typeof e=="string")return Af(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(e,r)}}function IT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _T(e){if(Array.isArray(e))return Af(e)}function Af(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mi=function(t){return typeof t}:mi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}function Ar(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,r,t){return r&&nv(e.prototype,r),t&&nv(e,t),e}function Kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wa=200,ov=(de=function(){function e(r){BT(this,e),Kr(this,"rootEl",void 0),Ar(this,"width",kh,this),Ar(this,"height",Uh,this),Kr(this,"theme",void 0),Kr(this,"eventCenter",void 0),Kr(this,"modelMap",new Map),Kr(this,"topElement",void 0),Kr(this,"animation",void 0),Kr(this,"idGenerator",void 0),Kr(this,"edgeGenerator",void 0),Kr(this,"nodeMoveRules",[]),Ar(this,"edgeType",Xh,this),Ar(this,"nodes",Yh,this),Ar(this,"edges",Wh,this),Ar(this,"overlapMode",Kh,this),Ar(this,"background",Vh,this),Ar(this,"transformModel",Zh,this),Ar(this,"editConfigModel",Jh,this),Ar(this,"gridSize",Qh,this),Ar(this,"partial",qh,this),Ar(this,"fakerNode",ev,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,s=r.idGenerator,p=r.edgeGenerator,y=r.animation;this.background=o,mi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new sp(r),this.eventCenter=new sP,this.transformModel=new Wx(this.eventCenter),this.theme=Bp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=NT(y),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=TT(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return LT(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Do(this.nodes),Do(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(T){return t.push(T)}),this.edges.forEach(function(T){return t.push(T)}),t=t.sort(function(T,D){return T.zIndex-D.zIndex});for(var n=[],o=-1,a=[-Wa,-Wa],s=[this.width+Wa,this.height+Wa],p=0;p<t.length;p++){var y=t[p];y.visible&&(!this.partial||y.isSelected||this.isElementInArea(y,a,s,!1,!1))&&(y.zIndex===fp&&(o=n.length),n.push(y))}if(o!==-1){var E=n[n.length-1];n[n.length-1]=n[o],n[o]=E}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],y=[];this.nodes.forEach(function(D){return y.push(D)}),this.edges.forEach(function(D){return y.push(D)});for(var E=0;E<y.length;E++){var T=y[E];(!s||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),s={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),y=wf(p,2),E=y[0],T=y[1];return{domOverlayPosition:s,canvasOverlayPosition:{x:E,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=br(t),y=p.minX,E=p.minY,T=p.maxX,D=p.maxY,B=[{x:y,y:E},{x:T,y:E},{x:T,y:D},{x:y,y:D}],G=s,J=0;J<B.length;J++){var ie=B[J],ue=ie.x,le=ie.y,Ae=this.transformModel.CanvasPointToHtmlPoint([ue,le]),ge=wf(Ae,2);if(ue=ge[0],le=ge[1],uf([ue,le],n,o)!==s){G=!s;break}}return G}if(t.BaseType===Gt.EDGE){t=t;var be=t,Fe=be.startPoint,Re=be.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),He=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=uf(Ze,n,o),yt=uf(He,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Pa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,p=o.y;return s&&p&&(o.x=jn(s,n.gridSize),o.y=jn(p,n.gridSize),mi(o.text)==="object"&&(o.text.x-=zp(s,n.gridSize),o.text.y-=zp(p,n.gridSize))),new a(o,n)}),this.edges=Pa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var s=!1,p=[],y=0;y<this.edges.length;y++){var E=this.edges[y];if(E.isDragging){s=!0;break}else p.push(E.getHistoryData())}return s?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(s||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var s=a.getData(),p=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||p)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=to()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=to()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===mr.DEFAULT){var s;(s=this.topElement)===null||s===void 0||s.setZIndex(),a.setZIndex(fp),this.topElement=a}this.overlapMode===mr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,s=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(s){var p;typeof n=="number"&&(p=n),n==="top"&&(p=pf()),n==="bottom"&&(p=RP()),s.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=jn(n.x,this.gridSize),n.y=jn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,y=p.getMoveDistance(n,o,a),E=wf(y,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,y=p.x,E=p.y,T=n-y,D=o-E;this.moveNode(t,T,D,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new a(Ya(Ya({},n),{},{type:o}),this),p=s.getData();return this.edges.push(s),this.eventCenter.emit(it.EDGE_ADD,{data:p}),s}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var s=this.edges[a],p=s.textPosition,y=p.x,E=p.y,T=this.edges[a].sourceNodeId===t,D=this.edges[a].targetNodeId===t;if(T&&s.moveStartPoint(n,o),D&&s.moveEndPoint(n,o),T||D){var B;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===pt.POLYLINE_EDGE&&(B=s.text)!==null&&B!==void 0&&B.value){var G=s.text,J=Fh(G,s.points);s.moveText(J.x-G.x,J.y-G.y)}else{var ie=s.textPosition,ue=ie.x,le=ie.y;s.moveText(ue-y,le-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===mr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new s(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var y=this.getNodeEdges(t);y.forEach(function(E){if(E.sourceNodeId===t){var T=Yp(p,E.startPoint,p.width,p.height);E.updateStartPoint(T)}if(E.targetNodeId===t){var D=Yp(p,E.endPoint,p.width,p.height);E.updateEndPoint(D)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new s(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Bp(Ya(Ya({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var J=G.x,ie=G.y,ue=G.width,le=G.height,Ae=G.getNodeStyle(),ge=Ae.strokeWidth,be=ge===void 0?0:ge;n=n.concat([J+ue/2+be,J-ue/2-be]),o=o.concat([ie+le/2+be,ie-le/2-be])});var a=Math.min.apply(Math,Do(n)),s=Math.max.apply(Math,Do(n)),p=Math.min.apply(Math,Do(o)),y=Math.max.apply(Math,Do(o)),E=s-a||0,T=y-p||0,D=a+E/2,B=p+T/2;return{virtualRectWidth:E,virtualRectHeight:T,virtualRectCenterPositionX:D,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,s=this.transformModel;if(!!t.length){var p=n||a.clientWidth,y=o||a.clientHeight,E=this.getVirtualRectSize(),T=E.virtualRectCenterPositionX,D=E.virtualRectCenterPositionY;s.focusOn(T,D,p,y)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,s=this.height,p=this.rootEl,y=this.transformModel;if(!!o.length){var E=a||p.clientWidth,T=s||p.clientHeight,D=this.getVirtualRectSize(),B=D.virtualRectWidth,G=D.virtualRectHeight,J=D.virtualRectCenterPositionX,ie=D.virtualRectCenterPositionY,ue=(B+n)/E,le=(G+t)/T,Ae=0;Ae=1/Math.max(ue,le);var ge=[E/2,T/2];y.zoom(Ae,ge),y.focusOn(J,ie,E,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),kh=Ke(de.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Ke(de.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ke(de.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ke(de.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wh=Ke(de.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kh=Ke(de.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mr.DEFAULT}}),Vh=Ke(de.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ke(de.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ke(de.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ke(de.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qh=Ke(de.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ev=Ke(de.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(de.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ke(de.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ke(de.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ke(de.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ke(de.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ke(de.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ke(de.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ke(de.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ke(de.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ke(de.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ke(de.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ke(de.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ke(de.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ke(de.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ke(de.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ke(de.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ke(de.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ke(de.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ke(de.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ke(de.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ke(de.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ke(de.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ke(de.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ke(de.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ke(de.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ke(de.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ke(de.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ke(de.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ke(de.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ke(de.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ke(de.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ke(de.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ke(de.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ke(de.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ke(de.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ke(de.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ke(de.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ke(de.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ke(de.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ke(de.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ke(de.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ke(de.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ke(de.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ke(de.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),zT=ov;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var iv;function Nf(){return Nf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nf.apply(this,arguments)}function FT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HT(e,r,t){return r&&av(e.prototype,r),t&&av(e,t),e}function GT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function $T(e){var r=UT();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kT(this,o)}}function kT(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var XT=Gr(iv=function(e){GT(t,e);var r=$T(t);function t(n){var o;FT(this,t),o=r.call(this),cn(Vr(o),"stepDrag",void 0),cn(Vr(o),"stepScrollX",0),cn(Vr(o),"stepScrollY",0),cn(Vr(o),"onDraging",function(y){var E=y.deltaX,T=y.deltaY;o.setState({isDraging:!0});var D=o.props.graphModel,B=D.transformModel,G=D.editConfigModel;G.stopMoveGraph||B.translate(E,T)}),cn(Vr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Vr(o),"zoomHandler",function(y){var E=o.props,T=E.graphModel,D=T.editConfigModel,B=T.transformModel,G=T.gridSize,J=E.graphModel,ie=y.deltaX,ue=y.deltaY;if(!D.stopScrollGraph&&y.ctrlKey!==!0){if(y.preventDefault(),o.stepScrollX+=ie,o.stepScrollY+=ue,Math.abs(o.stepScrollX)>=G){var le=o.stepScrollX%G,Ae=o.stepScrollX-le;B.translate(-Ae*B.SCALE_X,0),o.stepScrollX=le}if(Math.abs(o.stepScrollY)>=G){var ge=o.stepScrollY%G,be=o.stepScrollY-ge;B.translate(0,-be*B.SCALE_Y),o.stepScrollY=ge}return}if(!D.stopZoomGraph){y.preventDefault();var Fe=J.getPointByClient({x:y.clientX,y:y.clientY}),Re=Fe.canvasOverlayPosition,Ze=Re.x,He=Re.y;B.zoom(y.deltaY<0,[Ze,He])}}),cn(Vr(o),"clickHandler",function(y){var E=y.target;if(E.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,D=T.selectElements;D.size>0&&T.clearSelectElements(),T.eventCenter.emit(it.BLANK_CLICK,{e:y})}}),cn(Vr(o),"handleContextMenu",function(y){var E=y.target;if(E.getAttribute("name")==="canvas-overlay"){y.preventDefault();var T=o.props.graphModel,D=T.getPointByClient({x:y.clientX,y:y.clientY});T.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:y,position:D})}}),cn(Vr(o),"mouseDownHandler",function(y){var E=o.props.graphModel,T=E.eventCenter,D=E.editConfigModel,B=E.transformModel.SCALE_X,G=E.gridSize,J=y.target,ie=!D.adjustEdge&&!D.adjustNodePosition;(J.getAttribute("name")==="canvas-overlay"||ie)&&(D.stopMoveGraph?T.emit(it.BLANK_MOUSEDOWN,{e:y}):(o.stepDrag.setStep(G*B),o.stepDrag.handleMouseDown(y)),o.clickHandler(y))});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return HT(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props,y=p.children,E=p.dnd,T=this.state.isDraging;return Object(oe.g)("svg",Nf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(oe.g)("g",{transform:s},y))}}]),t}(oe.a))||iv,YT=XT;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var uv;function WT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KT(e,r,t){return r&&sv(e.prototype,r),t&&sv(e,t),e}function VT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function ZT(e){var r=QT();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JT(this,o)}}function JT(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lv(e)}function lv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}function qT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var eM=Gr(uv=function(e){VT(t,e);var r=ZT(t);function t(){var n;WT(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),qT(lv(n),"setToolOverlayRef",function(p){var y=n.props.tool,E=y.getInstance();E.components.forEach(function(T){return T(E,p)}),E.components=[]}),n}return KT(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,p=a.getTools(),y=p.map(function(E){return Object(oe.g)(E,{graphModel:s,logicFlow:a.instance})});return a.components=y,y}},{key:"render",value:function(){return Object(oe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(oe.a))||uv;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function tM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rM(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function nM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function oM(e){var r=uM();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iM(this,o)}}function iM(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}var sM=function(e){nM(t,e);var r=oM(t);function t(){return tM(this,t),r.apply(this,arguments)}return rM(t,[{key:"render",value:function(){var o=this.props.background;return Object(oe.g)("div",{className:"lf-background"},Object(oe.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(oe.a);function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var cv;function lM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fM(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}function cM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function dM(e){var r=hM();return function(){var n=tu(e),o;if(r){var a=tu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pM(this,o)}}function pM(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pv(e)}function pv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function vM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hv=Gr(cv=function(e){cM(t,e);var r=dM(t);function t(){var n;lM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),vM(pv(n),"id",to()),n}return fM(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,y=p===void 0?2:p,E=o.size,T=o.visible,D=Math.min(Math.max(2,y),E/2),B=1;return T||(B=0),Object(oe.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:s,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,y=p===void 0?1:p,E=o.size,T=o.visible,D=Math.min(Math.max(1,y),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),G=1;return T||(G=0),Object(oe.g)("path",{d:B,stroke:s,strokeWidth:D,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,p=o.graphModel.transformModel,y=p.SCALE_X,E=p.SKEW_Y,T=p.SKEW_X,D=p.SCALE_Y,B=p.TRANSLATE_X,G=p.TRANSLATE_Y,J=[y,E,T,D,B,G].join(","),ie="matrix(".concat(J,")");return Object(oe.g)("div",{className:"lf-grid"},Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(oe.g)("defs",null,Object(oe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ie,x:"0",y:"0",width:s,height:s},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(oe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(oe.a))||cv;hv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function yM(e,r){return OM(e)||bM(e,r)||mM(e,r)||gM()}function gM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(e,r){if(!!e){if(typeof e=="string")return vv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,r)}}function vv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function OM(e){if(Array.isArray(e))return e}function EM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=yM(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=ru(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("line",r)}var no=EM;function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var yv;function gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gv(Object(t),!0).forEach(function(n){xM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function SM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PM(e,r,t){return r&&mv(e.prototype,r),t&&mv(e,t),e}function TM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function MM(e){var r=NM();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wM(this,o)}}function wM(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AM(e)}function AM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var DM=Gr(yv=function(e){TM(t,e);var r=MM(t);function t(){return SM(this,t),r.apply(this,arguments)}return PM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,p=o.isShowVertical,y=o.getStyle(),E=a.x,T=E===void 0?0:E,D=a.y,B=D===void 0?0:D,G=ou(ou({x1:-1e5,y1:B,x2:1e5,y2:B},y),{},{stroke:s?y.stroke:"none"}),J=ou(ou({x1:T,y1:-1e5,x2:T,y2:1e5},y),{},{stroke:p?y.stroke:"none"});return Object(oe.g)("g",{className:"lf-snapline"},Object(oe.g)(no,G),Object(oe.g)(no,J))}}]),t}(oe.a))||yv;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function jM(e,r){return _M(e)||IM(e,r)||RM(e,r)||CM()}function CM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RM(e,r){if(!!e){if(typeof e=="string")return bv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bv(e,r)}}function bv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function IM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function _M(e){if(Array.isArray(e))return e}function In(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,s=e.radius,p=r-n/2,y=t-o/2,E={};return Object.entries(e).forEach(function(T){var D=jM(T,2),B=D[0],G=D[1],J=au(G);J!=="object"&&(E[B]=G)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=p,E.y=y,Object(oe.g)("rect",E)}In.defaultProps={className:"",radius:""};function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Ov;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ev(Object(t),!0).forEach(function(n){BM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zM(e,r,t){return r&&Sv(e.prototype,r),t&&Sv(e,t),e}function FM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function HM(e){var r=kM();return function(){var n=su(e),o;if(r){var a=su(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GM(this,o)}}function GM(e,r){if(r&&(uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(e)}function $M(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}var UM=Gr(Ov=function(e){FM(t,e);var r=HM(t);function t(){return LM(this,t),r.apply(this,arguments)}return zM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,s=o.editConfigModel,p=s.hoverOutline,y=s.nodeSelectedOutline,E=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var D=T.isHovered,B=T.isSelected,G=T.x,J=T.y,ie=T.width,ue=T.height;if(y&&B||p&&D){var le=T.getOutlineStyle(),Ae={};if(Object.keys(le).forEach(function(be){be!=="hover"&&(Ae[be]=le[be])}),D){var ge=le.hover;Ae=xv(xv({},Ae),ge)}E.push(Object(oe.g)(In,jo({className:"lf-outline-node",x:G,y:J,width:ie+10,height:ue+10},Ae)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfigModel,p=s.edgeSelectedOutline,y=s.hoverOutline,E=[],T=0;T<a.length;T++){var D=a[T];(p&&D.isSelected||y&&D.isHovered)&&(D.modelType===pt.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===pt.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===pt.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,p=(a.x+s.x)/2,y=(a.y+s.y)/2,E=Math.abs(a.x-s.x)+10,T=Math.abs(a.y-s.y)+10,D=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline-edge",x:p,y,width:E,height:T},D))}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=Ao(a),p=yi(s,8),y=p.x,E=p.y,T=p.width,D=p.height,B=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline",x:y,y:E,width:T,height:D},B))}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ua(a),p=yi(s,8),y=p.x,E=p.y,T=p.width,D=p.height,B=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline",x:y,y:E,width:T,height:D},B))}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(oe.a))||Ov;function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function XM(e,r){return VM(e)||KM(e,r)||WM(e,r)||YM()}function YM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(e,r){if(!!e){if(typeof e=="string")return Pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pv(e,r)}}function Pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VM(e){if(Array.isArray(e))return e}function bi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,s=a===void 0?4:a,p=e.className,y={cx:t,cy:o,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var T=XM(E,2),D=T[0],B=T[1],G=lu(B);G!=="object"&&(y[D]=B)}),p?y.className="lf-basic-shape ".concat(p):y.className="lf-basic-shape",Object(oe.g)("circle",y)}function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var Tv;function ZM(e,r){return ew(e)||qM(e,r)||QM(e,r)||JM()}function JM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,r){if(!!e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ew(e){if(Array.isArray(e))return e}function Oi(){return Oi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oi.apply(this,arguments)}function wv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nv(e,r,t){return r&&Av(e.prototype,r),t&&Av(e,t),e}function Dv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function jv(e){var r=rw();return function(){var n=du(e),o;if(r){var a=du(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tw(this,o)}}function tw(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}function cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}function Lf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cv=function(e){Dv(t,e);var r=jv(t);function t(){var n;return wv(this,t),n=r.call(this),Lf(cu(n),"dragHandler",void 0),Lf(cu(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,y=s.bezierModel,E=s.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),D=T.canvasOverlayPosition,B=D.x,G=D.y;y.updateAdjustAnchor({x:B,y:G},E)}),Lf(cu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new ro({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Nv(t,[{key:"render",value:function(){var o=this,a=this.props.position,s=a.x,p=a.y,y=this.props.bezierModel,E=y.getEdgeStyle(),T=E.adjustAnchor;return Object(oe.g)(bi,Oi({className:"lf-bezier-adjust-anchor",x:s,y:p},T,{onMouseDown:function(B){o.dragHandler.handleMouseDown(B)}}))}}]),t}(oe.a),nw=Gr(Tv=function(e){Dv(t,e);var r=jv(t);function t(){return wv(this,t),r.apply(this,arguments)}return Nv(t,[{key:"getBezierAdjust",value:function(o,a){var s=o.path,p=o.id,y=Ua(s),E=ZM(y,4),T=E[0],D=E[1],B=E[2],G=E[3],J=o.getEdgeStyle(),ie=J.adjustLine,ue=[];return ue.push(Object(oe.g)(no,Oi({x1:T.x,y1:T.y,x2:D.x,y2:D.y},ie))),ue.push(Object(oe.g)(Cv,{position:D,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ue.push(Object(oe.g)(no,Oi({x1:G.x,y1:G.y,x2:B.x,y2:B.y},ie))),ue.push(Object(oe.g)(Cv,{position:B,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ue}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,s=[],p=0;p<a.length;p++){var y=a[p];y.isSelected&&y.modelType===pt.BEZIER_EDGE&&y.draggable&&s.push(this.getBezierAdjust(y,o))}return s}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(oe.a))||Tv;function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var Rv;function ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iw(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function aw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function uw(e){var r=fw();return function(){var n=hu(e),o;if(r){var a=hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sw(this,o)}}function sw(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lw(e)}function lw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}var cw=Gr(Rv=function(e){aw(t,e);var r=uw(t);function t(){return ow(this,t),r.apply(this,arguments)}return iw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props.children;return Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(oe.g)("g",{transform:s},p))}}]),t}(oe.a))||Rv;function vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(t){return typeof t}:vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var _v;function Ff(){return Ff=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ff.apply(this,arguments)}function dw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pw(e,r,t){return r&&Bv(e.prototype,r),t&&Bv(e,t),e}function hw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function vw(e){var r=mw();return function(){var n=yu(e),o;if(r){var a=yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yw(this,o)}}function yw(e,r){if(r&&(vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gw(e)}function gw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(e)}var bw=Gr(_v=function(e){hw(t,e);var r=vw(t);function t(){return dw(this,t),r.apply(this,arguments)}return pw(t,[{key:"getComponent",value:function(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,y=p(o.type);return Object(oe.g)(y,{key:o.id,model:o,graphModel:a,overlay:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,p=a.tool,y=a.options,E=a.dnd,T=a.snaplineModel,D={};y.width&&(D.width="".concat(s.width,"px")),y.height&&(D.height="".concat(s.height,"px"));var B=s.fakerNode,G=s.editConfigModel,J=G.adjustEdge;return Object(oe.g)("div",{className:"lf-graph",style:D},Object(oe.g)(YT,{graphModel:s,dnd:E},Object(oe.g)("g",{className:"lf-base"},Pa(s.sortElements,function(ie){return o.getComponent(ie,s)})),B?this.getComponent(B,s):""),Object(oe.g)(cw,{graphModel:s},Object(oe.g)(UM,{graphModel:s}),J?Object(oe.g)(nw,{graphModel:s}):"",!y.isSilentMode&&y.snapline!==!1?Object(oe.g)(DM,{snaplineModel:T}):""),Object(oe.g)(eM,{graphModel:s,tool:p}),y.background&&Object(oe.g)(sM,{background:y.background}),y.grid&&Object(oe.g)(hv,Ff({},y.grid,{graphModel:s})))}}]),t}(oe.a))||_v,Ow=bw;function Lv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Lv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ew(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xw(e,r,t){return r&&zv(e.prototype,r),t&&zv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sw=function(){function e(r){var t=this;Ew(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),s=a.x,p=a.y;t.fakerNode.moveTo(s,p);var y=t.fakerNode.getData();t.lf.setNodeSnapLine(y),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:y})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:s})}});var n=r.lf;this.lf=n}return xw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Id(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:n,y:o}),p=s.canvasOverlayPosition,y=p.x,E=p.y;return{x:jn(y,a),y:jn(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Fv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Hv,e)}var Hv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var gt,Gv;function Gf(e,r){return ww(e)||Mw(e,r)||Tw(e,r)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tw(e,r){if(!!e){if(typeof e=="string")return $v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $v(e,r)}}function $v(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Mw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ww(e){if(Array.isArray(e))return e}function kv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function bu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kv(Object(t),!0).forEach(function(n){Xv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Aw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dw(e,r,t){return r&&Uv(e.prototype,r),t&&Uv(e,t),e}function Co(){return typeof Reflect<"u"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=jw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function jw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_n(e),e!==null););return e}function Cw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return $f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$f(e,r)}function Rw(e){var r=_w();return function(){var n=_n(e),o;if(r){var a=_n(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Iw(this,o)}}function Iw(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(e)}function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(e)}function Xv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(gt=function(e){Cw(t,e);var r=Rw(t);function t(){var n;Nw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Xv(Ou(n),"modelType",pt.BEZIER_EDGE),Aw(Ou(n),"path",Gv,Ou(n)),n}return Dw(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(_n(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(_n(t.prototype),"getEdgeStyle",this).call(this);return bu(bu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var p=s.x,y=s.y;o+=p,a+=y}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(_n(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,y=s.y;return{x:p,y}});return bu(bu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,s=zh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return s}},{key:"getPath",value:function(o){var a=Gf(o,4),s=a[0],p=a[1],y=a[2],E=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(y.x," ").concat(y.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,s=o.ePre;this.updatePath(a,s)}},{key:"updatePath",value:function(o,a){var s={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var y=this.getControls();o=y.sNext,a=y.ePre}this.pointsList=[s,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var s=Gf(this.pointsList,3),p=s[1],y=s[2];p.x+=o,p.y+=a,this.updatePath(p,y)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var s=Gf(this.pointsList,3),p=s[1],y=s[2];y.x+=o,y.y+=a,this.updatePath(p,y)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,y=o.targetNode,E=zh({start:a,end:s,sourceNode:p,targetNode:y,offset:this.offset}),T=E.sNext,D=E.ePre;this.pointsList=[a,T,D,s],this.initPoints()}}]),t}(vf),Gv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function Bw(e){return e==null}var Lw=Bw,Ce,Yv,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy;function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function zw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Fw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){s=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw p}}}}function Fw(e,r){if(!!e){if(typeof e=="string")return cy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cy(e,r)}}function cy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dy(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Hw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function py(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gw(e,r,t){return r&&py(e.prototype,r),t&&py(e,t),e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ce=function(){function e(r,t){Hw(this,e),cr(this,"id",to()),kt(this,"type",Yv,this),kt(this,"x",Wv,this),kt(this,"y",Kv,this),kt(this,"text",Vv,this),kt(this,"properties",Zv,this),kt(this,"_width",Jv,this),kt(this,"_height",Qv,this),kt(this,"anchorsOffset",qv,this),kt(this,"isSelected",ey,this),kt(this,"isHovered",ty,this),kt(this,"isShowAnchor",ry,this),kt(this,"isDragging",ny,this),kt(this,"isHitable",oy,this),kt(this,"draggable",iy,this),kt(this,"visible",ay,this),cr(this,"virtual",!1),cr(this,"graphModel",void 0),kt(this,"zIndex",uy,this),kt(this,"state",sy,this),kt(this,"autoToFront",ly,this),kt(this,"style",fy,this),cr(this,"BaseType",Gt.NODE),cr(this,"modelType",pt.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Gw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,AP(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||pf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s=this.properties;Object(f.x)(s)&&(s=Object(f.I)(s));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===mr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s=!0,p,y=0;y<a.length;y++){var E=a[y];if(!E.validate.call(this,this,t,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s=!0,p,y=0;y<a.length;y++){var E=a[y];if(!E.validate.call(this,t,this,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules),p=zw(s),y;try{for(p.s();!(y=p.n()).done;){var E=y.value,T=E(this,t,n);if(!T)return!1;if(Eu(T)==="object"){var D=T;if(D.x===!1&&D.y===!1)return!1;o=o&&D.x,a=a&&D.y}}}catch(B){p.e(B)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(s,p){return s.length?(s=s,{id:"".concat(n,"_").concat(p),x:o+s[0],y:a+s[1]}):(s=s,ar(ar({},s),{},{x:o+s.x,y:a+s.y,id:s.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Lw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1;if(o)a=!0,s=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,s=p):(a=p.x,s=p.y)}if(a){var y=this.x+t;this.x=y,this.text&&this.moveText(t,0)}if(s){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||s}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1,p=0,y=0;if(o)a=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,s=E):(a=E.x,s=E.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(s&&n){var D=this.y+n;this.y=D,this.text&&this.moveText(0,n),y=n}return[p,y]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,s=n-this.y;return!o&&!this.isAllowMoveNode(a,s)?!1:(this.text&&this.text&&this.moveText(a,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,s=o.y,p=o.value,y=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:y,x:a+t,y:s+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},cr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},cr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Yv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Zv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Qv=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),qv=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ey=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sy=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ly=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fy=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var hn,hy;function vy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vy(Object(t),!0).forEach(function(n){my(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $w(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uw(e,r,t){return r&&gy(e.prototype,r),t&&gy(e,t),e}function Su(){return typeof Reflect<"u"&&Reflect.get?Su=Reflect.get:Su=function(r,t,n){var o=Xw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Su.apply(this,arguments)}function Xw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function Yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uf(e,r)}function Ww(e){var r=Vw();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Kw(this,o)}}function Kw(e,r){if(r&&(xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function my(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yf=(hn=function(e){Yw(t,e);var r=Ww(t);function t(){var n;kw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),my(Pu(n),"modelType",pt.CIRCLE_NODE),$w(Pu(n),"r",hy,Pu(n)),n}return Uw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Su(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return yy(yy({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.r;return[{x:o,y:a-s,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+s,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),hy=Xf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Xf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Xf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var tr,by,Oy;function Wf(e,r){return qw(e)||Qw(e,r)||Jw(e,r)||Zw()}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jw(e,r){if(!!e){if(typeof e=="string")return Ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ey(e,r)}}function Ey(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Qw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qw(e){if(Array.isArray(e))return e}function xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xy(Object(t),!0).forEach(function(n){My(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function eA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tA(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Mu(){return typeof Reflect<"u"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=rA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function rA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function nA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kf(e,r)}function oA(e){var r=aA();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iA(this,o)}}function iA(e,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function My(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Vf=(tr=function(e){nA(t,e);var r=oA(t);function t(){var n;eA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),My(Io(n),"modelType",pt.DIAMOND_NODE),Py(Io(n),"rx",by,Io(n)),Py(Io(n),"ry",Oy,Io(n)),n}return tA(t,[{key:"getNodeStyle",value:function(){var o=Mu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Sy(Sy({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[[o,a-p],[o+s,a],[o,a+p],[o-s,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,1),y=p[0];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Wf(s,2),y=p[1];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,s){var p=Wf(a,2),y=p[0],E=p[1];return{x:y,y:E,id:"".concat(o.id,"_").concat(s)}})}}]),t}(pn),by=Bo(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Oy=Bo(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bo(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),Bo(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),Bo(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),Bo(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var Zr,wy,Ay;function Ny(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ny(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ny(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function uA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sA(e,r,t){return r&&Cy(e.prototype,r),t&&Cy(e,t),e}function Au(){return typeof Reflect<"u"&&Reflect.get?Au=Reflect.get:Au=function(r,t,n){var o=lA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Au.apply(this,arguments)}function lA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function fA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function cA(e){var r=pA();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dA(this,o)}}function dA(e,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Nu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(Zr=function(e){fA(t,e);var r=cA(t);function t(){var n;uA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Ry(Lo(n),"modelType",pt.ELLIPSE_NODE),jy(Lo(n),"rx",wy,Lo(n)),jy(Lo(n),"ry",Ay,Lo(n)),n}return sA(t,[{key:"getNodeStyle",value:function(){var o=Au(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dy(Dy({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),wy=Nu(Zr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ay=Nu(Zr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Nu(Zr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Nu(Zr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Nr,Iy;function Qf(e,r){return gA(e)||yA(e,r)||vA(e,r)||hA()}function hA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vA(e,r){if(!!e){if(typeof e=="string")return _y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _y(e,r)}}function _y(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function gA(e){if(Array.isArray(e))return e}function By(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ly(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?By(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):By(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function bA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OA(e,r,t){return r&&zy(e.prototype,r),t&&zy(e,t),e}function ju(){return typeof Reflect<"u"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=EA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function EA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function xA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function SA(e){var r=TA();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PA(this,o)}}function PA(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cu(e)}function Cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ru(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=(Nr=function(e){xA(t,e);var r=SA(t);function t(){var n;bA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Fy(Cu(n),"modelType",pt.POLYGON_NODE),mA(Cu(n),"points",Iy,Cu(n)),n}return OA(t,[{key:"getNodeStyle",value:function(){var o=ju(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Ly(Ly({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,p=this.height,y=this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+a-p/2}});return y}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,1),y=p[0];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,2),y=p[1];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,s=this.y,p=this.width,y=this.height,E=this.points;return E.map(function(T,D){var B=Qf(T,2),G=B[0],J=B[1];return{x:a+G-p/2,y:s+J-y/2,id:"".concat(o.id,"_").concat(D)}})}}]),t}(pn),Iy=Ru(Nr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ru(Nr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"pointsPosition"),Nr.prototype),Ru(Nr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),Ru(Nr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function Iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var tc,Hy;function Gy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gy(Object(t),!0).forEach(function(n){Uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function MA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function wA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AA(e,r,t){return r&&ky(e.prototype,r),t&&ky(e,t),e}function _u(){return typeof Reflect<"u"&&Reflect.get?_u=Reflect.get:_u=function(r,t,n){var o=NA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},_u.apply(this,arguments)}function NA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function DA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function jA(e){var r=RA();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return CA(this,o)}}function CA(e,r){if(r&&(Iu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bu(e)}function Bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IA(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var nc=(tc=function(e){DA(t,e);var r=jA(t);function t(){var n;wA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Uy(Bu(n),"modelType",pt.RECT_NODE),MA(Bu(n),"radius",Hy,Bu(n)),n}return AA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=_u(Ho(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return $y($y({},o),jt(a))}}]),t}(pn),Hy=IA(tc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tc);function Lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var Bn;function Xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xy(Object(t),!0).forEach(function(n){Vy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BA(e,r,t){return r&&Wy(e.prototype,r),t&&Wy(e,t),e}function zu(){return typeof Reflect<"u"&&Reflect.get?zu=Reflect.get:zu=function(r,t,n){var o=LA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},zu.apply(this,arguments)}function LA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function zA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function FA(e){var r=GA();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HA(this,o)}}function HA(e,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ky(e)}function Ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Vy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ic=(Bn=function(e){zA(t,e);var r=FA(t);function t(){var n;_A(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Vy(Ky(n),"modelType",pt.TEXT_NODE),n}return BA(t,[{key:"getTextStyle",value:function(){var o=zu(Go(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Yy(Yy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=df({rows:o,fontSize:s,rowsLength:o.length}),y=p.width;return y}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=df({rows:o,fontSize:s,rowsLength:o.length}),y=p.height;return y}}]),t}(pn),Zy(Bn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),Zy(Bn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn);function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function $A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kA(e,r,t){return r&&Jy(e.prototype,r),t&&Jy(e,t),e}function UA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function XA(e){var r=WA();return function(){var n=Hu(e),o;if(r){var a=Hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YA(this,o)}}function YA(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qy(e)}function Qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function KA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uc=function(e){UA(t,e);var r=XA(t);function t(){var n;$A(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),KA(Qy(n),"modelType",pt.HTML_NODE),n}return kA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Br,qy,eg,tg;function rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function VA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rg(Object(t),!0).forEach(function(n){og(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ZA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}function og(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ei(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ig=(Br=function(){function e(r){ZA(this,e),og(this,"graphModel",void 0),sc(this,"isShowHorizontal",qy,this),sc(this,"isShowVertical",eg,this),sc(this,"position",tg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return JA(e,[{key:"getStyle",value:function(){return VA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,s=!1,p=!1,y=0;y<n.length;y++){var E=n[y];if(E.id!==t.id&&(o===E.x&&(s=!0),a===E.y&&(p=!0),s&&p))break}return{isShowVertical:s,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var y=this.graphModel.fakerNode;if(y&&y.id===s)p=br(y);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var B=br(D);if(B.minY===p.minY||B.maxY===p.minY){o=!0,a=p.minY;break}if(B.minY===p.maxY||B.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var y=this.graphModel.fakerNode;if(y&&y.id===s)p=br(y);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var T=0;T<n.length;T++){var D=n[T];if(D.id!==t.id){var B=br(D);if(B.minX===p.minX||B.maxX===p.minX){o=!0,a=p.minX;break}if(B.minX===p.maxX||B.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!s){var y=this.getVerticalSnapline(t,n);y.isShowVertical&&(o.isShowVertical=y.isShowVertical,o.position.x=y.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),qy=Ei(Br.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=Ei(Br.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=Ei(Br.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei(Br.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),Ei(Br.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),xi=new Map,ag=function(r){var t=to();function n(){r();var a=xi.get(t);if(a){var s=window.requestAnimationFrame(n);xi.set(t,s)}}var o=window.requestAnimationFrame(n);return xi.set(t,o),t},Gu=function(r){var t=xi.get(r);t&&(window.cancelAnimationFrame(t),xi.delete(r))};function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Si(){return Si=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Si.apply(this,arguments)}function ug(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ku(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ug(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ug(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QA(e,r){return r1(e)||t1(e,r)||e1(e,r)||qA()}function qA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1(e,r){if(!!e){if(typeof e=="string")return sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,r)}}function sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function r1(e){if(Array.isArray(e))return e}function n1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o1(e,r,t){return r&&lg(e.prototype,r),t&&lg(e,t),e}function i1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},lc(e,r)}function a1(e){var r=s1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return u1(this,o)}}function u1(e,r){if(r&&($u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var l1=function(e){i1(t,e);var r=a1(t);function t(){var n;return n1(this,t),n=r.call(this),Qr(Jr(n),"preTargetNode",void 0),Qr(Jr(n),"sourceRuleResults",void 0),Qr(Jr(n),"targetRuleResults",void 0),Qr(Jr(n),"dragHandler",void 0),Qr(Jr(n),"t",void 0),Qr(Jr(n),"onDragStart",function(o){var a=o.event,s=n.props,p=s.anchorData,y=s.nodeModel,E=s.graphModel,T=E.overlapMode;E.selectNodeById(y.id),T!==mr.INCREASE&&y.autoToFront&&E.toFront(y.id),E.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:y}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),Qr(Jr(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,y=s.nodeModel,E=s.anchorData,T=p.transformModel,D=p.eventCenter,B=p.width,G=p.height,J=p.editConfigModel,ie=J.autoExpand,ue=J.stopMoveGraph,le=a.clientX,Ae=a.clientY,ge=p.getPointByClient({x:le,y:Ae}),be=ge.domOverlayPosition,Fe=be.x,Re=be.y,Ze=ge.canvasOverlayPosition,He=Ze.x,ht=Ze.y;n.t&&Gu(n.t);var yt=[],sr=10;Fe<10?yt=[sr,0]:Fe+10>B?yt=[-sr,0]:Re<10?yt=[0,sr]:Re+10>G&&(yt=[0,-sr]),n.setState({endX:He,endY:ht,draging:!0}),n.moveAnchorEnd(He,ht),yt.length>0&&!ue&&ie&&(n.t=ag(function(){var Er=yt,nn=QA(Er,2),Fn=nn[0],uo=nn[1];T.translate(Fn,uo);var Xo=n.state,Hn=Xo.endX,Yo=Xo.endY;n.setState({endX:Hn-Fn,endY:Yo-uo}),n.moveAnchorEnd(Hn-Fn,Yo-uo)})),D.emit(it.ANCHOR_DRAG,{data:E,e:a,nodeModel:y})}),Qr(Jr(n),"onDragEnd",function(o){n.t&&Gu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,p=a.nodeModel,y=a.anchorData;s.eventCenter.emit(it.ANCHOR_DRAGEND,{data:y,e:o,nodeModel:p})}),Qr(Jr(n),"checkEnd",function(o){var a=n.props,s=a.graphModel,p=a.nodeModel,y=a.anchorData,E=y.x,T=y.y,D=y.id;s.edgeType;var B=n.state,G=B.endX,J=B.endY,ie=B.draging,ue=ja({x:G,y:J},s);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ie&&ue&&ue.node){var le=ue.node,Ae=ue.anchor.id,ge="".concat(p.id,"_").concat(le.id,"_").concat(Ae,"_").concat(D),be=n.sourceRuleResults.get(ge)||{},Fe=be.isAllPass,Re=be.msg,Ze=n.targetRuleResults.get(ge)||{},He=Ze.isAllPass,ht=Ze.msg;if(Fe&&He){le.setElementState(Et.DEFAULT);var yt=s.edgeGenerator(p.getData(),s.getNodeModelById(ue.node.id).getData()),sr=s.addEdge(ku(ku({},yt),{},{sourceNodeId:p.id,sourceAnchorId:D,startPoint:{x:E,y:T},targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}})),Er=n.props.anchorData;s.eventCenter.emit(it.ANCHOR_DROP,{data:Er,e:o,nodeModel:p,edgeModel:sr})}else{var nn=le.getData();s.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:nn,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new ro({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return o1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,s=o.style,p=o.node,y=p.getAnchorShape(a);if(y)return y;var E=a.x,T=a.y,D=ku(ku({},s),s.hover);return Object(oe.g)("g",null,Object(oe.g)(bi,Si({className:"lf-node-anchor-hover"},D,{x:E,y:T})),Object(oe.g)(bi,Si({className:"lf-node-anchor"},s,{x:E,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var s=this.props,p=s.graphModel,y=s.nodeModel,E=s.anchorData,T=ja({x:o,y:a},p);if(T){var D=T.node,B=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===B)return;this.preTargetNode=D;var G="".concat(y.id,"_").concat(D.id,"_").concat(B,"_").concat(E.id);if(!this.targetRuleResults.has(G)){var J=T.anchor,ie=y.isAllowConnectedAsSource(D,E,J),ue=D.isAllowConnectedAsTarget(y,E,J);this.sourceRuleResults.set(G,Ra(ie)),this.targetRuleResults.set(G,Ra(ue))}var le=this.sourceRuleResults.get(G),Ae=le.isAllPass,ge=this.targetRuleResults.get(G),be=ge.isAllPass;Ae&&be?D.setElementState(Et.ALLOW_CONNECT):D.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,p=o.endX,y=o.endY,E=Yr(a,s,p,y);return E>10}},{key:"render",value:function(){var o=this,a=this.state,s=a.startX,p=a.startY,y=a.endX,E=a.endY,T=this.props,D=T.anchorData.edgeAddable,B=T.edgeStyle;return Object(oe.g)("g",{className:"lf-anchor"},Object(oe.g)("g",{onMouseDown:function(J){D!==!1&&o.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&Object(oe.g)(no,Si({x1:s,y1:p,x2:y,y2:E},B,{"pointer-events":"none"})))}}]),t}(oe.a),f1=l1;i(63);function fg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function c1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function p1(e,r){return g1(e)||y1(e,r)||v1(e,r)||h1()}function h1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function g1(e){if(Array.isArray(e))return e}function dg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,s=e.fontSize,p=e.fill,y=p===void 0?"currentColor":p,E=e.overflowMode,T=E===void 0?"default":E,D=e.textWidth,B=D===void 0?"":D,G=e.model,J={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:y};if(Object.entries(e).forEach(function(be){var Fe=p1(be,2),Re=Fe[0],Ze=Fe[1],He=Xu(Ze);He!=="object"&&(J[Re]=Ze)}),a){var ie=String(a).split(/[\r\n]/g),ue=ie.length;if(T!=="default"){var le=G.BaseType,Ae=G.modelType;if(le===Gt.NODE&&Ae!==pt.TEXT_NODE||le===Gt.EDGE&&B)return m1(e)}if(ue>1){var ge=ie.map(function(be,Fe){var Re=s+2,Ze=(Fe-(ue-1)/2)*Re;return Object(oe.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},be)});return Object(oe.g)("text",J,ge)}return Object(oe.g)("text",J,a)}}function m1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,s=e.lineHeight,p=e.wrapPadding,y=p===void 0?"0, 0":p,E=e.overflowMode,T=e.x,D=e.y,B=n.width,G=n.textHeight,J=e.textWidth||B,ie=String(r).split(/[\r\n]/g),ue=ie.length,le=Wp({rows:ie,style:{fontSize:"".concat(t,"px"),width:"".concat(J,"px"),fontFamily:a,lineHeight:s,padding:y},rowsLength:ue,className:"lf-get-text-height"}),Ae=n.height>le?n.height:le;G&&(Ae=G);var ge=E==="ellipsis";return Object(oe.g)("g",null,Object(oe.g)("foreignObject",{width:J,height:Ae,x:T-J/2,y:D-Ae/2},Object(oe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ae,width:J,padding:y}},Object(oe.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:c1({},e)},ie.map(function(be){return Object(oe.g)("div",{className:"lf-node-text--auto-wrap-inner"},be)})))))}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function b1(e,r){return S1(e)||x1(e,r)||E1(e,r)||O1()}function O1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1(e,r){if(!!e){if(typeof e=="string")return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}function pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function S1(e){if(Array.isArray(e))return e}function P1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T1(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}function M1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function w1(e){var r=N1();return function(){var n=Wu(e),o;if(r){var a=Wu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return A1(this,o)}}function A1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vg=function(e){M1(t,e);var r=w1(t);function t(n){var o;P1(this,t),o=r.call(this),oo(Ln(o),"dragHandler",void 0),oo(Ln(o),"sumDeltaX",0),oo(Ln(o),"sumDeltaY",0),oo(Ln(o),"stepDrag",void 0),oo(Ln(o),"onDraging",function(p){var y=p.deltaX,E=p.deltaY,T=o.props,D=T.model,B=T.graphModel.transformModel,G=B.fixDeltaXY(y,E),J=b1(G,2),ie=J[0],ue=J[1];D.moveText(ie,ue)}),oo(Ln(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var y=o.props.model;y.setElementState(Et.TEXT_EDIT)}}),oo(Ln(o),"mouseDownHandle",function(p){var y=o.props,E=y.draggable,T=y.graphModel.editConfigModel.nodeTextDraggable;(E||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,s=n.draggable;return o.stepDrag=new ro({onDraging:o.onDraging,step:1,model:a,isStopPropagation:s}),o}return T1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.text,y=s.editConfigModel,E=p.value,T=p.x,D=p.y,B=p.editable,G=p.draggable,J={x:T,y:D,className:"",value:E};B?J.className="lf-element-text":G||y.nodeTextDraggable?J.className="lf-text-draggable":J.className="lf-text-disabled";var ie=a.getTextStyle();return Object(oe.g)(dg,fc({},J,ie,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(oe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(oe.a),D1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Vu(e,r){return I1(e)||R1(e,r)||C1(e,r)||j1()}function j1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1(e,r){if(!!e){if(typeof e=="string")return yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yg(e,r)}}function yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function R1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function I1(e){if(Array.isArray(e))return e}function _1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function L1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function z1(e){var r=H1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return F1(this,o)}}function F1(e,r){if(r&&(Ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){L1(t,e);var r=z1(t);function t(n){var o;_1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(E){var T=E.event,D=T.clientX,B=T.clientY,G=o.props,J=G.model,ie=G.graphModel,ue=ie.getPointByClient({x:D,y:B}),le=ue.canvasOverlayPosition,Ae=le.x,ge=le.y;o.moveOffset={x:J.x-Ae,y:J.y-ge}}),ur(rr(o),"onDraging",function(E){var T=E.event,D=o.props,B=D.model,G=D.graphModel,J=G.editConfigModel,ie=J.stopMoveGraph,ue=J.autoExpand,le=G.transformModel,Ae=G.width,ge=G.height,be=G.gridSize;B.isDragging=!0;var Fe=T.clientX,Re=T.clientY,Ze=G.getPointByClient({x:Fe,y:Re}),He=Ze.canvasOverlayPosition,ht=He.x,yt=He.y,sr=le.CanvasPointToHtmlPoint([ht,yt]),Er=Vu(sr,2),nn=Er[0],Fn=Er[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=jn(ht,be),yt=jn(yt,be),!Ae||!ge){G.moveNode2Coordinate(B.id,ht,yt);return}var uo=nn<0||Fn<0||nn>Ae||Fn>ge;if(!(ue&&!ie&&uo)){var Xo=le.CanvasPointToHtmlPoint([ht-B.width/2,yt-B.height/2]),Hn=Vu(Xo,2),Yo=Hn[0],rd=Hn[1],wC=le.CanvasPointToHtmlPoint([ht+B.width/2,yt+B.height/2]),bm=Vu(wC,2),AC=bm[0],NC=bm[1],$s=Math.max(be,20),Wo=[];Yo<0?Wo=[$s,0]:AC>G.width?Wo=[-$s,0]:rd<0?Wo=[0,$s]:NC>G.height&&(Wo=[0,-$s]),o.t&&Gu(o.t),Wo.length>0&&!ie&&ue?o.t=ag(function(){var DC=Wo,Om=Vu(DC,2),Em=Om[0],xm=Om[1];le.translate(Em,xm),G.moveNode(B.id,-Em/le.SCALE_X,-xm/le.SCALE_X)}):G.moveNode2Coordinate(B.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&Gu(o.t);var E=o.props.model;E.isDragging=!1}),ur(rr(o),"handleClick",function(E){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var D=o.props,B=D.model,G=D.graphModel,J=B.getData(),ie=G.getPointByClient({x:E.clientX,y:E.clientY}),ue={data:J,e:E,position:ie},le=E.button===2,Ae=E.detail===2;if(!le){var ge=G.editConfigModel;G.selectNodeById(B.id,Hp(E,ge)),o.toFront(),Ae?(ge.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),G.setElementStateById(B.id,Et.TEXT_EDIT)),G.eventCenter.emit(it.NODE_DBCLICK,ue)):(G.eventCenter.emit(it.ELEMENT_CLICK,ue),G.eventCenter.emit(it.NODE_CLICK,ue))}}}}),ur(rr(o),"handleContextMenu",function(E){E.preventDefault();var T=o.props,D=T.model,B=T.graphModel,G=D.getData(),J=B.getPointByClient({x:E.clientX,y:E.clientY});B.setElementStateById(D.id,Et.SHOW_MENU,J.domOverlayPosition),B.selectNodeById(D.id),B.eventCenter.emit(it.NODE_CONTEXTMENU,{data:G,e:E,position:J}),o.toFront()}),ur(rr(o),"handleMouseDown",function(E){var T=o.props,D=T.model,B=T.graphModel;o.startTime=new Date().getTime();var G=B.editConfigModel;G.adjustNodePosition&&D.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ur(rr(o),"setHoverON",function(E){var T=o.props,D=T.model,B=T.graphModel;if(!D.isHovered){var G=D.getData();D.setHovered(!0),B.eventCenter.emit(it.NODE_MOUSEENTER,{data:G,e:E})}}),ur(rr(o),"setHoverOFF",function(E){var T=o.props,D=T.model,B=T.graphModel,G=D.getData();!D.isHovered||(D.setHovered(!1),B.eventCenter.emit(it.NODE_MOUSELEAVE,{data:G,e:E}))}),ur(rr(o),"onMouseOut",function(E){D1&&o.setHoverOFF(E)});var a=n.graphModel,s=a.gridSize,p=a.eventCenter,y=n.model;return o.stepDrag=new ro({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:y}),o}return B1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,s=a.model,p=a.graphModel,y=s.isSelected,E=s.isHitable,T=s.isDragging,D=s.isShowAnchor;return E&&(y||D)&&!T?Pa(s.anchors,function(B,G){var J=s.getAnchorLineStyle(B),ie=s.getAnchorStyle(B);return Object(oe.g)(f1,{anchorData:B,node:o,style:ie,edgeStyle:J,anchorIndex:G,nodeModel:s,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=s.editConfigModel,y=!1;return(a.text.draggable||p.nodeTextDraggable)&&(y=!0),Object(oe.g)(vg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:y})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,s=o.isDraging,p=o.isSelected,y="lf-node";switch(a){case Et.ALLOW_CONNECT:y+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:y+=" lf-node-not-allow";break;default:y+=" lf-node-default";break}return s&&(y+=" lf-isDragging"),p&&(y+=" lf-node-selected"),y}},{key:"toFront",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.overlapMode;p!==mr.INCREASE&&a.autoToFront&&s.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.editConfigModel,y=p.hideAnchors,E=p.adjustNodePosition,T=s.gridSize,D=s.transformModel.SCALE_X,B=a.isHitable,G=a.draggable,J=Object(oe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),y?null:this.getAnchors()),ie;return B?(E&&G&&this.stepDrag.setStep(T*D),ie=Object(oe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},J)):ie=Object(oe.g)("g",{className:this.getStateClassName()},J),ie}}],[{key:"getModel",value:function(o){return o}}]),t}(oe.a);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function G1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function k1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function U1(e){var r=W1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return X1(this,o)}}function X1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1(e)}function Y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var vc=function(e){k1(t,e);var r=U1(t);function t(){return G1(this,t),r.apply(this,arguments)}return $1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(In,pc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function K1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function Z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function J1(e){var r=eN();return function(){var n=es(e),o;if(r){var a=es(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Q1(this,o)}}function Q1(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(e)}function q1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}var mc=function(e){Z1(t,e);var r=J1(t);function t(){return K1(this,t),r.apply(this,arguments)}return V1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.r,y=o.getNodeStyle();return Object(oe.g)(bi,yc({},y,{x:a,y:s,r:p}))}}]),t}(vn);function ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function tN(e,r){return iN(e)||oN(e,r)||nN(e,r)||rN()}function rN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,r){if(!!e){if(typeof e=="string")return Og(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Og(e,r)}}function Og(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iN(e){if(Array.isArray(e))return e}function Eg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=tN(o,2),s=a[0],p=a[1],y=ts(p);y!=="object"&&(n[s]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(oe.g)("polygon",n)}function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function aN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function sN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Oc(e,r)}function lN(e){var r=dN();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fN(this,o)}}function fN(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cN(e)}function cN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var Ec=function(e){sN(t,e);var r=lN(t);function t(){return aN(this,t),r.apply(this,arguments)}return uN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.width,y=o.height,E=o.points,T=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(s-y/2,")")};return Object(oe.g)("g",D,Object(oe.g)(Eg,bc({},T,{points:E,x:a,y:s})))}}]),t}(vn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function xc(){return xc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xc.apply(this,arguments)}function pN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function vN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function yN(e){var r=bN();return function(){var n=is(e),o;if(r){var a=is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return gN(this,o)}}function gN(e,r){if(r&&(os(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},is(e)}var Pc=function(e){vN(t,e);var r=yN(t);function t(){return pN(this,t),r.apply(this,arguments)}return hN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)("g",null,Object(oe.g)(Eg,xc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function ON(e,r){return PN(e)||SN(e,r)||xN(e,r)||EN()}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(e,r){if(!!e){if(typeof e=="string")return Pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pg(e,r)}}function Pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function SN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function PN(e){if(Array.isArray(e))return e}function TN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,s=a===void 0?4:a,p=e.ry,y=p===void 0?4:p,E=e.className,T={cx:t,cy:o,rx:s,ry:y,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(D){var B=ON(D,2),G=B[0],J=B[1],ie=as(J);ie!=="object"&&(T[G]=J)}),E?T.className="lf-basic-shape ".concat(E):T.className="lf-basic-shape",Object(oe.g)("ellipse",T)}function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function MN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function AN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mc(e,r)}function NN(e){var r=CN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DN(this,o)}}function DN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jN(e)}function jN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var wc=function(e){AN(t,e);var r=NN(t);function t(){return MN(this,t),r.apply(this,arguments)}return wN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(TN,Tc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){RN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _N(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function BN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function LN(e){var r=HN();return function(){var n=fs(e),o;if(r){var a=fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zN(this,o)}}function zN(e,r){if(r&&(ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(e)}function FN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}var Nc=function(e){BN(t,e);var r=LN(t);function t(){return IN(this,t),r.apply(this,arguments)}return _N(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text;if(s&&s.value&&a.background&&a.background.fill!=="transparnet"){var p=s.x,y=s.y,E=o.width,T=o.height,D=wg(wg({},a.background),{},{x:p,y:y-1,width:E,height:T});return Object(oe.g)(In,D)}}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getBackground())}}]),t}(vn);function cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(t){return typeof t}:cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function GN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $N(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function kN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function UN(e){var r=YN();return function(){var n=ds(e),o;if(r){var a=ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XN(this,o)}}function XN(e,r){if(r&&(cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}function ps(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cc=function(e){kN(t,e);var r=UN(t);function t(){var n;GN(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),ps(Pi(n),"ref",void 0),ps(Pi(n),"currentProperties",void 0),ps(Pi(n),"preProperties",void 0),ps(Pi(n),"setRef",function(p){n.ref=p}),n}return $N(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.height,y=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(oe.g)("foreignObject",Dc({},E,{x:a-y/2,y:s-p/2,width:y,height:p,ref:this.setRef}))}}]),t}(vn);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Rc(){return Rc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Rc.apply(this,arguments)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function io(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){Bc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function WN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KN(e,r,t){return r&&jg(e.prototype,r),t&&jg(e,t),e}function VN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function ZN(e){var r=QN();return function(){var n=vs(e),o;if(r){var a=vs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JN(this,o)}}function JN(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}function _c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function Bc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qN=function(e){VN(t,e);var r=ZN(t);function t(n){var o;return WN(this,t),o=r.call(this,n),Bc(_c(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Bc(_c(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return KN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text,p=a.background||{},y=this.state.isHoverd;if(y&&a.hover&&a.hover.background&&(p=io(io({},p),a.hover.background)),s&&s.value&&p.fill!=="transparent"){var E=a.fontSize,T=a.overflowMode,D=a.lineHeight,B=a.wrapPadding,G=a.textWidth,J=s.value,ie=s.x,ue=s.y,le=String(J).split(/[\r\n]/g),Ae=le.length,ge;if(T==="autoWrap"&&G){var be=Wp({rows:le,style:{fontSize:"".concat(E,"px"),width:"".concat(G,"px"),lineHeight:D,padding:B},rowsLength:Ae,className:"lf-get-text-height"});ge=io(io({},p),{},{x:ie-1,y:ue-1,width:G,height:be})}else{le&&le.forEach(function(ht){Lh(ht)});var Fe=df({rows:le,fontSize:E,rowsLength:Ae}),Re=Fe.width,Ze=Fe.height;if(typeof p.wrapPadding=="string"){var He=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});He.length>0&&He.length<=4&&(He.length===1?He=[He[0],He[0],He[0],He[0]]:He.length===2?He=[He[0],He[1],He[0],He[1]]:He.length===3&&(He=[He[0],He[1],He[2],He[1]]),Re+=He[1]+He[3],Ze+=He[0]+He[2],ie=ie+(He[1]-He[3])/2,ue=ue+(He[2]-He[0])/2)}ge=io(io({},p),{},{x:ie-1,y:ue-1,width:Re,height:Ze})}return Object(oe.g)(In,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,s=a.value,p=a.x,y=a.y;if(!!s){var E=o.getTextStyle(),T=io({x:p,y,className:"lf-element-text",value:s},E);return Object(oe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(oe.g)(dg,Rc({},T,{model:o})))}}}]),t}(vg);function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(t){return typeof t}:ys=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eD(e,r){return oD(e)||nD(e,r)||rD(e,r)||tD()}function tD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oD(e){if(Array.isArray(e))return e}function iD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function uD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function sD(e){var r=fD();return function(){var n=gs(e),o;if(r){var a=gs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lD(this,o)}}function lD(e,r){if(r&&(ys(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}function zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qr||(qr={}));var _g=function(e){uD(t,e);var r=sD(t);function t(){var n;return iD(this,t),n=r.call(this),zr(Lr(n),"dragHandler",void 0),zr(Lr(n),"oldEdge",void 0),zr(Lr(n),"preTargetNode",void 0),zr(Lr(n),"targetRuleResults",void 0),zr(Lr(n),"sourceRuleResults",void 0),zr(Lr(n),"onDragStart",function(){var o=n.props,a=o.x,s=o.y,p=o.edgeModel,y=p.startPoint,E=p.endPoint,T=p.pointsList;n.oldEdge={startPoint:y,endPoint:E,pointsList:T},n.setState({endX:a,endY:s,draging:!0}),p.isHitable=!1}),zr(Lr(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.state,y=p.endX,E=p.endY,T=n.props,D=T.graphModel,B=T.type,G=D.transformModel,J=G.moveCanvasPointByHtml([y,E],a,s),ie=eD(J,2),ue=ie[0],le=ie[1];n.setState({endX:ue,endY:le,draging:!0});var Ae=n.props.edgeModel,ge=ja({x:y,y:E},D);if(ge&&ge.node&&n.isAllowAdjust(ge)){var be,Fe=Ae.startPoint,Re=Ae.endPoint,Ze=Ae.sourceNode,He=Ae.targetNode;B===qr.SOURCE?be={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:ge.node,targetNode:He}:B===qr.TARGET&&(be={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),Ae.updateAfterAdjustStartAndEnd(be)}else B===qr.SOURCE?Ae.updateStartPoint({x:ue,y:le}):B===qr.TARGET&&Ae.updateEndPoint({x:ue,y:le})}),zr(Lr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,s=a.graphModel,p=a.edgeModel,y=a.type;p.isHitable=!0;var E=n.state,T=E.endX,D=E.endY,B=E.draging,G=ja({x:T,y:D},s);if(!!B){if(G&&G.node&&n.isAllowAdjust(G)){var J,ie=p.getData(),ue=yn(yn({},ie),{},{sourceAnchorId:"",targetAnchorId:"",text:(ie==null||(J=ie.text)===null||J===void 0?void 0:J.value)||""});if(y===qr.SOURCE){var le=s.edgeGenerator(s.getNodeModelById(G.node.id).getData(),s.getNodeModelById(p.targetNodeId).getData(),ue);ue=yn(yn({},le),{},{sourceNodeId:G.node.id,sourceAnchorId:G.anchor.id,startPoint:{x:G.anchor.x,y:G.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(y===qr.TARGET){var Ae=s.edgeGenerator(s.getNodeModelById(p.sourceNodeId).getData(),s.getNodeModelById(G.node.id).getData(),ue);ue=yn(yn({},Ae),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:G.node.id,targetAnchorId:G.anchor.id,endPoint:{x:G.anchor.x,y:G.anchor.y}})}s.deleteEdgeById(p.id);var ge=s.addEdge(yn({},ue));s.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),zr(Lr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,s=a.startPoint,p=a.endPoint,y=a.pointsList;o.updateStartPoint(s),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=y,o.initPoints())}),zr(Lr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return aD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,s=a.edgeModel;s.id;var p=s.sourceNode,y=s.targetNode,E=s.sourceAnchorId,T=s.targetAnchorId,D=a.type,B=null,G=null,J=null,ie=null;if(D===qr.SOURCE?(B=o.node,G=y,J=o.anchor,ie=y.getAnchorInfo(T)):(B=p,G=o.node,ie=o.anchor,J=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ie.id===J.id)return!1;var ue="".concat(B.id,"_").concat(G.id,"_").concat(J.id,"_").concat(ie.id);if(!this.targetRuleResults.has(ue)){var le=B.isAllowConnectedAsSource(G,J,ie),Ae=G.isAllowConnectedAsTarget(B,J,ie);this.sourceRuleResults.set(ue,Ra(le)),this.targetRuleResults.set(ue,Ra(Ae))}var ge=this.sourceRuleResults.get(ue),be=ge.isAllPass,Fe=this.targetRuleResults.get(ue),Re=Fe.isAllPass,Ze=be&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return D===qr.SOURCE?B.setElementState(Ze):G.setElementState(Ze),be&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,p=this.state.draging,y=this.getAdjustPointStyle();return Object(oe.g)("g",null,Object(oe.g)(bi,Lc({className:"lf-edge-adjust-point"},y,{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(oe.a);function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function bs(){return bs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bs.apply(this,arguments)}function Bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Lg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bg(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dD(e,r,t){return r&&zg(e.prototype,r),t&&zg(e,t),e}function pD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function hD(e){var r=yD();return function(){var n=Os(e),o;if(r){var a=Os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vD(this,o)}}function vD(e,r){if(r&&(ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ti=function(e){pD(t,e);var r=hD(t);function t(){var n;cD(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Hr(Fr(n),"startTime",void 0),Hr(Fr(n),"contextMenuTime",void 0),Hr(Fr(n),"clickTimer",void 0),Hr(Fr(n),"handleHover",function(p,y){var E=n.props,T=E.model,D=E.graphModel.eventCenter;T.setHovered(p);var B=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,G=T.getData();D.emit(B,{data:G,e:y})}),Hr(Fr(n),"setHoverON",function(p){var y=n.props.model.isHovered;y||n.handleHover(!0,p)}),Hr(Fr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Fr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var y=n.props,E=y.model,T=y.graphModel,D=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(E.id,Et.SHOW_MENU,D.domOverlayPosition),n.toFront(),T.selectEdgeById(E.id);var B=E==null?void 0:E.getData();T.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:B,e:p,position:D})}),Hr(Fr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Fr(n),"handleMouseUp",function(p){if(!!n.startTime){var y=new Date().getTime()-n.startTime;if(!(y>200)){var E=p.button===2;if(!E){var T=p.detail===2,D=n.props,B=D.model,G=D.graphModel,J=B==null?void 0:B.getData(),ie=G.getPointByClient({x:p.clientX,y:p.clientY});if(T){var ue=G.editConfigModel,le=G.textEditElement;if(le&&le.id===B.id&&G.setElementStateById(B.id,Et.DEFAULT),ue.edgeTextEdit&&B.text.editable&&G.setElementStateById(B.id,Et.TEXT_EDIT),B.modelType===pt.POLYLINE_EDGE){var Ae=B,ge=G.getPointByClient({x:p.x,y:p.y}),be=ge.canvasOverlayPosition,Fe=be.x,Re=be.y,Ze=Fh({x:Fe,y:Re},Ae.points);Ae.dbClickPosition=Ze}G.eventCenter.emit(it.EDGE_DBCLICK,{data:J,e:p,position:ie})}else G.eventCenter.emit(it.ELEMENT_CLICK,{data:J,e:p,position:ie}),G.eventCenter.emit(it.EDGE_CLICK,{data:J,e:p,position:ie});var He=G.editConfigModel;G.selectEdgeById(B.id,Hp(p,He)),n.toFront()}}}}),Hr(Fr(n),"getIsDraging",function(){return!1}),n}return dD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,y=s.editConfigModel;return(a.text.draggable||y.edgeTextDraggable)&&(p=!0),Object(oe.g)(qN,{editable:y.edgeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isSelected,y=this.state,E=y.hover;return{start:a,end:s,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getEdgeStyle(),y=a.getEdgeAnimationStyle(),E=s.theme.arrow,T=a.isAnimation?y.stroke:p.stroke;return Lg(Lg({},p),{},{fill:T,stroke:T},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),s=a.refY,p=s===void 0?0:s,y=a.refX,E=y===void 0?2:y;return Object(oe.g)("g",null,Object(oe.g)("defs",null,Object(oe.g)("marker",{id:"marker-start-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(oe.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,y=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,d:"M 0 0 L ".concat(p," -").concat(y," L ").concat(p," ").concat(y," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,y=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(y," L ").concat(p," ").concat(y," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getAdjustStart(),y=a.getAdjustEnd();return Object(oe.g)("g",null,Object(oe.g)(_g,bs({type:"SOURCE"},p,{edgeModel:a,graphModel:s})),Object(oe.g)(_g,bs({type:"TARGET"},y,{edgeModel:a,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(oe.g)("g",null)}},{key:"getAppend",value:function(){return Object(oe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model,p=a.overlapMode;p!==mr.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=a.isSelected,p=a.isHitable,y=o.graphModel,E=this.getIsDraging(),T=y.editConfigModel.adjustEdgeStartAndEnd,D=y.animation,B=s&&D.edge&&y.getSelectElements().edges.length===1;return Object(oe.g)("g",null,Object(oe.g)("g",{className:["lf-edge",!p&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),T&&s&&!E?this.getAdjustPoints():"")}}]),t}(oe.a);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function gD(e,r){return ED(e)||OD(e,r)||bD(e,r)||mD()}function mD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,r){if(!!e){if(typeof e=="string")return Fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fg(e,r)}}function Fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function OD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ED(e){if(Array.isArray(e))return e}function xD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=gD(t,2),o=n[0],a=n[1],s=Es(a);(o==="style"||s!=="object")&&(r[o]=a)}),Object(oe.g)("path",r)}var $o=xD;function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Ss(){return Ss=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ss.apply(this,arguments)}function SD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PD(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function TD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function MD(e){var r=ND();return function(){var n=Ps(e),o;if(r){var a=Ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wD(this,o)}}function wD(e,r){if(r&&(xs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AD(e)}function AD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ps(e)}var Gc=function(e){TD(t,e);var r=MD(t);function t(){return SD(this,t),r.apply(this,arguments)}return PD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isAnimation,y=o.arrowConfig,E=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),D=T.strokeDasharray,B=T.stroke,G=T.strokeDashoffset,J=T.animationName,ie=T.animationDuration,ue=T.animationIterationCount,le=T.animationTimingFunction,Ae=T.animationDirection;return Object(oe.g)(no,Ss({},E,{x1:a.x,y1:a.y,x2:s.x,y2:s.y},y,p?{strokeDasharray:D,stroke:B,style:{strokeDashoffset:G,animationName:J,animationDuration:ie,animationIterationCount:ue,animationTimingFunction:le,animationDirection:Ae}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,y=a.strokeDasharray,E=o.startPoint,T=o.endPoint,D=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(no,Ss({},D,{x1:E.x,y1:E.y,x2:T.x,y2:T.y,className:p,strokeDasharray:y,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p={start:a,end:s},y=xT(p),E=y.d,T=y.strokeWidth,D=y.fill,B=y.strokeDasharray,G=y.stroke;return Object(oe.g)($o,{d:E,fill:D,strokeWidth:T,stroke:G,strokeDasharray:B})}}]),t}(Ti);function Ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ts=function(t){return typeof t}:Ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function DD(e,r){return ID(e)||RD(e,r)||CD(e,r)||jD()}function jD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(e,r){if(!!e){if(typeof e=="string")return Gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gg(e,r)}}function Gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function RD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ID(e){if(Array.isArray(e))return e}function _D(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=DD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=Ts(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("polyline",r)}var $g=_D;function Ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function kg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ws(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kg(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function As(){return As=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},As.apply(this,arguments)}function BD(e,r){return HD(e)||FD(e,r)||zD(e,r)||LD()}function LD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function FD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function HD(e){if(Array.isArray(e))return e}function GD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $D(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function kD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function UD(e){var r=YD();return function(){var n=Ns(e),o;if(r){var a=Ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XD(this,o)}}function XD(e,r){if(r&&(Ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){kD(t,e);var r=UD(t);function t(){var n;return GD(this,t),n=r.call(this),tn(en(n),"drag",void 0),tn(en(n),"isDraging",void 0),tn(en(n),"appendInfo",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),tn(en(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.props,y=p.model,E=p.graphModel;n.isDraging=!0;var T=E.transformModel,D=E.editConfigModel,B=T.fixDeltaXY(a,s),G=BD(B,2),J=G[0],ie=G[1],ue=y,le=D.adjustEdgeMiddle;le?n.appendInfo=ue.dragAppendSimple(n.appendInfo,{x:J,y:ie}):n.appendInfo=ue.dragAppend(n.appendInfo,{x:J,y:ie})}),tn(en(n),"onDragEnd",function(){var o=n.props,a=o.model,s=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(it.EDGE_ADJUST,{data:p.getData()})}),tn(en(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),tn(en(n),"getIsDraging",function(){return n.isDraging}),n.drag=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return $D(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,s=o.isAnimation,p=o.arrowConfig,y=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,B=E.strokeDashoffset,G=E.animationName,J=E.animationDuration,ie=E.animationIterationCount,ue=E.animationTimingFunction,le=E.animationDirection;return Object(oe.g)($g,As({points:a},y,p,s?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:J,animationIterationCount:ie,animationTimingFunction:ue,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,y=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)($g,As({points:o.points},E,{className:p,strokeDasharray:y,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,p=this.state,y=p.hover,E={start:null,end:null,hover:y,isSelected:s},T=Ao(a);return T.length>=2&&(E.start=T[T.length-2],E.end=T[T.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,s=o.end,p;if(a.x===s.x&&a.y===s.y)p="";else{var y={start:a,end:s,offset:10,verticalLength:5},E=vi(ws(ws({},y),{},{type:"start"})),T=vi(ws(ws({},y),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),s=a.d,p=a.strokeWidth,y=a.fill,E=a.strokeDasharray,T=a.stroke;return Object(oe.g)($o,{d:s,fill:y,strokeWidth:p,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,p=a.graphModel,y=s.pointsList,E=s.draggable,T=[],D=y.length,B=function(ie){var ue="lf-polyline-append",le={start:{x:y[ie].x,y:y[ie].y},end:{x:y[ie+1].x,y:y[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},Ae=Object(oe.g)("g",{className:ue},o.getAppendShape(le)),ge=p.editConfigModel,be=ge.adjustEdge,Fe=ge.adjustEdgeMiddle;if(!be||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=le.startIndex,Ze=le.endIndex,He=Fe&&(Re===0||Ze===D-1);le.dragAble=!He,le.start.x===le.end.x?(le.dragAble&&(ue+="-ew-resize"),le.direction=Dt.VERTICAL):le.start.y===le.end.y&&(le.dragAble&&(ue+="-ns-resize"),le.direction=Dt.HORIZONTAL),Ae=Object(oe.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,le)}},Object(oe.g)("g",{className:ue},o.getAppendShape(le)))}T.push(Ae)},G=0;G<D-1;G++)B(G);return Object(oe.g)("g",null,T)}}]),t}(Ti);function Ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function WD(e,r){return JD(e)||ZD(e,r)||VD(e,r)||KD()}function KD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VD(e,r){if(!!e){if(typeof e=="string")return Yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yg(e,r)}}function Yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JD(e){if(Array.isArray(e))return e}function js(){return js=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},js.apply(this,arguments)}function QD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qD(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function ej(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function tj(e){var r=oj();return function(){var n=Cs(e),o;if(r){var a=Cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rj(this,o)}}function rj(e,r){if(r&&(Ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nj(e)}function nj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(e)}var Xc=function(e){ej(t,e);var r=tj(t);function t(){return QD(this,t),r.apply(this,arguments)}return qD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),s=o.path,p=o.isAnimation,y=o.arrowConfig,E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,D=E.stroke,B=E.strokeDashoffset,G=E.animationName,J=E.animationDuration,ie=E.animationIterationCount,ue=E.animationTimingFunction,le=E.animationDirection;return Object(oe.g)($o,js({d:s},a,y,p?{strokeDasharray:T,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:J,animationIterationCount:ie,animationTimingFunction:ue,animationDirection:le}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,y=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)($o,js({d:o.path},E,{className:p,strokeDasharray:y,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(oe.g)($o,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,s=a.hover,p=o,y=p.path,E=p.isSelected,T=ST(y),D=WD(T,2),B=D[0],G=D[1],J={start:B,end:G,hover:s,isSelected:E};return J}}]),t}(Ti);function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Kg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ij(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Kg(Object(t),!0).forEach(function(n){aj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function uj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sj(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}function lj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function fj(e){var r=pj();return function(){var n=Is(e),o;if(r){var a=Is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cj(this,o)}}function cj(e,r){if(r&&(Rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dj(e)}function dj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}var hj=function(e){lj(t,e);var r=fj(t);function t(){return uj(this,t),r.apply(this,arguments)}return sj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,p=a.start,y=a.end,E={start:p,end:y,offset:s.offset,verticalLength:s.verticalLength,type:"end"},T=vi(E),D=T.leftX,B=T.leftY,G=T.rightX,J=T.rightY;return ij({d:"M".concat(D," ").concat(B," L").concat(y.x," ").concat(y.y," L").concat(G," ").concat(J," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,s=o.strokeWidth,p=o.stroke,y=o.fill;return Object(oe.g)($o,{d:a,fill:y,strokeWidth:s,stroke:p})}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(oe.a);function vj(e,r){return Wl(e,r)}var Zg=vj;function yj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var gj=yj,mj=function(){return Sr.a.Date.now()},Wc=mj,bj=/\s/;function Oj(e){for(var r=e.length;r--&&bj.test(e.charAt(r)););return r}var Ej=Oj,xj=/^\s+/;function Sj(e){return e&&e.slice(0,Ej(e)+1).replace(xj,"")}var Pj=Sj,Jg=0/0,Tj=/^[-+]0x[0-9a-f]+$/i,Mj=/^0b[01]+$/i,wj=/^0o[0-7]+$/i,Aj=parseInt;function Nj(e){if(typeof e=="number")return e;if(xa(e))return Jg;if(Tt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Pj(e);var t=Mj.test(e);return t||wj.test(e)?Aj(e.slice(2),t?2:8):Tj.test(e)?Jg:+e}var Qg=Nj,Dj="Expected a function",jj=Math.max,Cj=Math.min;function Rj(e,r,t){var n,o,a,s,p,y,E=0,T=!1,D=!1,B=!0;if(typeof e!="function")throw new TypeError(Dj);r=Qg(r)||0,Tt(t)&&(T=!!t.leading,D="maxWait"in t,a=D?jj(Qg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function G(Re){var Ze=n,He=o;return n=o=void 0,E=Re,s=e.apply(He,Ze),s}function J(Re){return E=Re,p=setTimeout(le,r),T?G(Re):s}function ie(Re){var Ze=Re-y,He=Re-E,ht=r-Ze;return D?Cj(ht,a-He):ht}function ue(Re){var Ze=Re-y,He=Re-E;return y===void 0||Ze>=r||Ze<0||D&&He>=a}function le(){var Re=Wc();if(ue(Re))return Ae(Re);p=setTimeout(le,ie(Re))}function Ae(Re){return p=void 0,B&&n?G(Re):(n=o=void 0,s)}function ge(){p!==void 0&&clearTimeout(p),E=0,n=y=o=p=void 0}function be(){return p===void 0?s:Ae(Wc())}function Fe(){var Re=Wc(),Ze=ue(Re);if(n=arguments,o=this,y=Re,Ze){if(p===void 0)return J(y);if(D)return clearTimeout(p),p=setTimeout(le,r),G(y)}return p===void 0&&(p=setTimeout(le,r)),s}return Fe.cancel=ge,Fe.flush=be,Fe}var Ij=Rj,_j=i(166);function Bj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lj(e,r,t){return r&&qg(e.prototype,r),t&&qg(e,t),e}function zn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var zj=function(){function e(r){Bj(this,e),zn(this,"undos",[]),zn(this,"redos",[]),zn(this,"callbacks",[]),zn(this,"stopWatch",null),zn(this,"curData",null),zn(this,"maxSize",50),zn(this,"waitTime",100),zn(this,"eventCenter",void 0),this.eventCenter=r}return Lj(e,[{key:"add",value:function(t){Zg(gj(this.undos),t)||(this.undos.push(t),Zg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(_j.a)(t,Ij(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Fj=zj;function _s(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_s=function(t){return typeof t}:_s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}var em,tm,rm;function Hj(e,r){return Uj(e)||kj(e,r)||$j(e,r)||Gj()}function Gj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $j(e,r){if(!!e){if(typeof e=="string")return nm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nm(e,r)}}function nm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Uj(e){if(Array.isArray(e))return e}function om(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ko(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?om(Object(t),!0).forEach(function(n){ao(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):om(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function im(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yj(e,r,t){return r&&im(e.prototype,r),t&&im(e,t),e}function Wj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kc(e,r)}function Kc(e,r){return Kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kc(e,r)}function Kj(e){var r=Zj();return function(){var n=Bs(e),o;if(r){var a=Bs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Vj(this,o)}}function Vj(e,r){if(r&&(_s(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(e)}function Uo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bs(e)}function ao(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vc=Gr(em=(rm=tm=function(e){Wj(t,e);var r=Kj(t);function t(){var n;return Xj(this,t),n=r.call(this),ao(Uo(n),"ref",Object(oe.f)()),ao(Uo(n),"__prevText",{type:"",text:"",id:""}),ao(Uo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),ao(Uo(n),"inputHandler",function(o){var a=o.target,s=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:s.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),ao(Uo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Yj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter,s=o.editConfigModel,p=s.edgeTextEdit,y=s.nodeTextEdit;(p||y)&&a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){o.textEditElement&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,s=a.text,p=a.id;o.updateText(p,s),o.eventCenter.emit(it.TEXT_UPDATE,ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,s=this.state.style;return a?Object(oe.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,s=a.transformModel,p=a.theme,y=a.textEditElement,E;if(y){var T;if(!((T=y.text)!==null&&T!==void 0&&T.value))if(y.BaseType===Gt.EDGE){y=y;var D=y.text,B=y.textPosition,G=B.x,J=B.y;D.x=G,D.y=J,y.setText(D)}else y=y;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(y.BaseType===Gt.EDGE){var ue=p.edgeText,le=ue.overflowMode,Ae=ue.lineHeight,ge=ue.wrapPadding,be=ue.textWidth;be&&le==="autoWrap"&&(E=ko(ko({},ie),{},{width:be,minWidth:be,lineHeight:Ae,padding:ge}))}else if(y.BaseType===Gt.NODE){var Fe=p.nodeText,Re=Fe.overflowMode,Ze=Fe.lineHeight,He=Fe.wrapPadding,ht=Fe.textWidth,yt=y,sr=yt.width,Er=yt.modelType;(Er!==pt.TEXT_NODE&&Re==="autoWrap"||Er===pt.TEXT_NODE&&ht)&&(E=ko(ko({},ie),{},{width:ht||sr,minWidth:ht||sr,lineHeight:Ze,padding:He}))}var nn=y.text,Fn=nn.x,uo=nn.y,Xo=s.CanvasPointToHtmlPoint([Fn,uo]),Hn=Hj(Xo,2),Yo=Hn[0],rd=Hn[1];return{style:ko({left:Yo,top:rd},E)}}}}]),t}(oe.a),ao(tm,"toolName","textEdit"),rm))||em,Jj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Qj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:a-p/2,x1:o+s/2,y1:a+p/2}},qj=function(r){var t=r.points,n=Ao(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,y=o.height;return{x:a-p/2,y:s-y/2,x1:a+p/2,y1:s+y/2}},eC=function(r){var t=r.path,n=Ua(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,y=o.height;return{x:a-p/2,y:s-y/2,x1:a+p/2,y1:s+y/2}},tC=function(r){if(r.modelType===pt.LINE_EDGE)return Qj(r);if(r.modelType===pt.POLYLINE_EDGE)return qj(r);if(r.modelType===pt.BEZIER_EDGE)return eC(r)};function Ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ls=function(t){return typeof t}:Ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}var am,um,sm;function lm(e,r){return oC(e)||nC(e,r)||fm(e,r)||rC()}function rC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nC(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oC(e){if(Array.isArray(e))return e}function iC(e){return sC(e)||uC(e)||fm(e)||aC()}function aC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fm(e,r){if(!!e){if(typeof e=="string")return Zc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zc(e,r)}}function uC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sC(e){if(Array.isArray(e))return Zc(e)}function Zc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function cC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jc(e,r)}function Jc(e,r){return Jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jc(e,r)}function dC(e){var r=hC();return function(){var n=zs(e),o;if(r){var a=zs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pC(this,o)}}function pC(e,r){if(r&&(Ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zs(e)}function wi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=Gr(am=(sm=um=function(e){cC(t,e);var r=dC(t);function t(n){var o;lC(this,t),o=r.call(this),wi(Mi(o),"stepDrag",void 0),wi(Mi(o),"handleMouseDown",function(y){o.stepDrag.handleMouseDown(y)}),wi(Mi(o),"onDraging",function(y){var E=y.deltaX,T=y.deltaY,D=o.props.graphModel,B=D.getSelectElements(!0);D.moveNodes(B.nodes.map(function(G){return G.id}),E,T)}),wi(Mi(o),"handleContextMenu",function(y){y.preventDefault();var E=o.props,T=E.graphModel,D=E.graphModel,B=D.eventCenter,G=D.selectElements,J=T.getPointByClient({x:y.clientX,y:y.clientY}),ie={nodes:[],edges:[]},ue=iC(G.values());ue.forEach(function(le){le.BaseType===Gt.NODE&&ie.nodes.push(le.getData()),le.BaseType===Gt.EDGE&&ie.edges.push(le.getData())}),B.emit(it.SELECTION_CONTEXTMENU,{data:ie,e:y,position:J})});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,step:s,eventType:"SELECTION",eventCenter:p}),o}return fC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(ue){var le={x:0,y:0,x1:0,y1:0};ue.BaseType===Gt.NODE&&(le=Jj(ue)),ue.BaseType===Gt.EDGE&&(le=tC(ue)),p=Math.min(p,le.x),y=Math.min(y,le.y),E=Math.max(E,le.x1),T=Math.max(T,le.y1)});var D=s.CanvasPointToHtmlPoint([p,y]),B=lm(D,2);p=B[0],y=B[1];var G=s.CanvasPointToHtmlPoint([E,T]),J=lm(G,2);E=J[0],T=J[1];var ie={left:"".concat(p-10,"px"),top:"".concat(y-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(T-y+20,"px")};return Object(oe.g)("div",{className:"lf-multiple-select",style:ie,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(oe.a),wi(um,"toolName","multipleSelect"),sm))||am;function vC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yC(e,r,t){return r&&dm(e.prototype,r),t&&dm(e,t),e}function Fs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gC=function(){function e(r){vC(this,e),Fs(this,"tools",void 0),Fs(this,"components",void 0),Fs(this,"toolMap",new Map),Fs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Vc.toolName)||this.registerTool(Vc.toolName,Vc),this.isDisabledTool(Qc.toolName)||this.registerTool(Qc.toolName,Qc)}return yC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),mC=i(167),bC=i.n(mC);function OC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EC(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hm=function(){function e(r){OC(this,e),qc(this,"mousetrap",void 0),qc(this,"options",void 0),qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new bC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return EC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var y=p.keys,E=p.callback,T=p.action;return t.on(y,E,T)});else{var o=n.keys,a=n.callback,s=n.action;this.on(o,a,s)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),xC=hm,rn=null;function vm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function ym(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Hs=40;function SC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),s=o&&o.beforeClone?o.beforeClone(a):!0;return s?(rn=a,rn.nodes.forEach(function(p){return vm(p,Hs)}),rn.edges.forEach(function(p){return ym(p,Hs)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return vm(a,Hs)}),rn.edges.forEach(function(a){return ym(a,Hs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function PC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gs=function(t){return typeof t}:Gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function gm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ed(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gm(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MC(e,r,t){return r&&mm(e.prototype,r),t&&mm(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var td=function(){function e(r){var t=this;TC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=Fv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new zT(ed({},r)),this.tool=new gC(this),this.history=new Fj(this.graphModel.eventCenter),this.dnd=new Sw({lf:this}),this.keyboard=new xC({lf:this,keyboard:r.keyboard}),!r.isSilentMode&&r.snapline!==!1&&(this.snaplineModel=new ig(this.graphModel),PC(this.graphModel.eventCenter,this.snaplineModel)),SC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return MC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Ti,BaseEdgeModel:hf,BaseNode:vn,BaseNodeModel:pn,RectNode:vc,RectNodeModel:nc,CircleNode:mc,CircleNodeModel:Yf,PolygonNode:Ec,PolygonNodeModel:ec,TextNode:Nc,TextNodeModel:ic,LineEdge:Gc,LineEdgeModel:gf,DiamondNode:Pc,DiamondNodeModel:Vf,PolylineEdge:kc,PolylineEdgeModel:Of,BezierEdge:Xc,BezierEdgeModel:kf,EllipseNode:wc,EllipseNodeModel:Jf,HtmlNode:Cc,HtmlNodeModel:uc,h:oe.g,type:t};this.viewMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)}),this.graphModel.modelMap.forEach(function(T){var D=T.extendKey;D&&(a[D]=T)});var s=n(a),p=s.view,y=s.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=bt(E)),this.setView(t,E),this.graphModel.setModel(t,y)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:vc,model:nc,type:"rect"}),this.registerElement({type:"circle",view:mc,model:Yf}),this.registerElement({type:"polygon",view:Ec,model:ec}),this.registerElement({type:"line",view:Gc,model:gf}),this.registerElement({type:"polyline",view:kc,model:Of}),this.registerElement({type:"bezier",view:Xc,model:kf}),this.registerElement({type:"text",view:Nc,model:ic}),this.registerElement({type:"ellipse",view:wc,model:Jf}),this.registerElement({type:"diamond",view:Pc,model:Vf}),this.registerElement({type:"html",view:Cc,model:uc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,n),n||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var s=this.getNodeModelById(a);s&&(o=s.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var y=o,E=y.x,T=y.y;n.focusOn(E,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,s=this.getModelById(t);if(!s)return!1;var p=(n={},Lt(n,Gt.NODE,this.deleteNode),Lt(n,Gt.EDGE,this.deleteEdge),n),y=s.BaseType;return(o=(a=p[y])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,s=a&&a.beforeDelete?a.beforeDelete(o):!0;return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,s=a&&a.beforeClone?a.beforeClone(o):!0;if(s)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),s=n&&n.beforeDelete?n.beforeDelete(a):!0;return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&s.push(E)}),s}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var y=[];return n.forEach(function(E){E.targetNodeId===a&&y.push(E)}),y}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,s={},p={nodes:[],edges:[]},y=0;y<o.length;y++){var E=o[y],T=E.id,D=this.addNode(E);if(!D)return;T&&(s[T]=D.id),p.nodes.push(D)}return a.forEach(function(B){var G=B.sourceNodeId,J=B.targetNodeId;s[G]&&(B.sourceNodeId=s[G]),s[J]&&(B.targetNodeId=s[J]);var ie=n.graphModel.addEdge(B);p.edges.push(ie)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,s).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,s=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:s}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(s){var p=s.pluginName||s.name;o.indexOf(p)===-1&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if(Gs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,s=new a({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[a.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(ed(ed({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(oe.j)(Object(oe.g)(Ow,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(td,"extensions",new Map);function Gr(e){return bt(e)}c.default=td}])})})(We,We.exports);const ks=jC(We.exports),FC=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function HC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var GC=HC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),l=2;i===1/0;l*=2)i=Math.log(Math.pow(2,u/l))/Math.log(c)*l;for(var f=i-Math.floor(i),g="",l=0;l<Math.floor(i);l++){var b=Math.floor(Math.random()*c).toString(c);g=b+g}if(f){var x=Math.pow(c,f),b=Math.floor(Math.random()*x).toString(c);g=b+g}var S=parseInt(g,c);return S!==1/0&&S>=Math.pow(2,u)?v(u,c):g};v.rack=function(u,c,i){var l=function(g){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=v(u,c)}while(Object.hasOwnProperty.call(f,x));return f[x]=g,x},f=l.hats={};return l.get=function(g){return l.hats[g]},l.set=function(g,b){return l.hats[g]=b,l},l.bits=u||128,l.base=c||16,l}});function an(m){if(!(this instanceof an))return new an(m);m=m||[128,36,1],this._seed=m.length?GC.rack(m[0],m[1],m[2]):m}an.prototype.next=function(m){return this._seed(m||!0)};an.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(m,v){this._seed.set(m,v||!0)};an.prototype.assigned=function(m){return this._seed.get(m)||!1};an.prototype.unclaim=function(m){delete this._seed.hats[m]};an.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var $C=new an([32,32,1]);function qo(){return $C.next()}var ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),kC=function(m){ob(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(We.exports.CircleNodeModel),UC=function(m){ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(We.exports.CircleNode),XC={type:"bpmn:startEvent",view:UC,model:kC},ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ys=globalThis&&globalThis.__assign||function(){return Ys=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ys.apply(this,arguments)},YC=function(m){ib(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(We.exports.CircleNodeModel),WC=function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,l=u.y,f=u.r,g=m.prototype.getShape.call(this);return We.exports.h("g",{},g,We.exports.h("circle",Ys(Ys({},c),{cx:i,cy:l,r:f-5})))},v.extendKey="EndEventView",v}(We.exports.CircleNode),KC={type:"bpmn:endEvent",view:WC,model:YC},ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ci=globalThis&&globalThis.__assign||function(){return Ci=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ci.apply(this,arguments)},VC=function(m){ab(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(We.exports.PolygonNodeModel),ZC=function(m){ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.points,b=u.getNodeStyle();return We.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(i-f/2)+")"},We.exports.h("polygon",Ci(Ci({},b),{x:c,y:i,points:g})),We.exports.h("path",Ci({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(We.exports.PolygonNode),JC={type:"bpmn:exclusiveGateway",view:ZC,model:VC},ub=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ws.apply(this,arguments)},QC=function(m){ub(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(We.exports.RectNodeModel),qC=function(m){ub(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.getNodeStyle();return We.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:g.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",Ws(Ws({},b),{x:c-l/2,y:i-f/2,rx:g,ry:g,width:l,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(We.exports.RectNode),eR={type:"bpmn:userTask",view:qC,model:QC},sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},od.apply(this,arguments)},tR=function(m){sb(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(We.exports.RectNodeModel),rR=function(m){sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.getNodeStyle();return We.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.exports.h("path",{fill:g.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.radius,b=u.getNodeStyle();return We.exports.h("g",{},[We.exports.h("rect",od({x:c-l/2,y:i-f/2,rx:g,ry:g,width:l,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(We.exports.RectNode),nR={type:"bpmn:serviceTask",view:rR,model:tR},lb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),oR=function(m){lb(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(We.exports.PolylineEdgeModel),iR=function(m){lb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(We.exports.PolylineEdge),aR={type:"bpmn:sequenceFlow",view:iR,model:oR},wm={width:40,height:40},Am={width:40,height:40},Nm={width:40,height:40},Dm={width:100,height:80},jm={width:100,height:80},uR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},sR=function(){function m(v){var u=v.lf;u.setTheme(uR),u.register(XC),u.register(KC),u.register(JC),u.register(eR),u.register(nR),u.options.customBpmnEdge||(u.register(aR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),lR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,l){u.getSnapshot(i,l)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var l=i.x,f=i.width,g=i.y,b=i.height,x=l-f/2,S=g-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(l){var f=l.x,g=l.y;f<u.offsetX&&(u.offsetX=f-5),g<u.offsetY&&(u.offsetY=g-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var l=u[i],f=l.classList&&Array.from(l.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(l){var f=l.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){var f=l.toDataURL("image/png");i({data:f,width:l.width,height:l.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){l.toBlob(function(f){i({data:f,width:l.width,height:l.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],l=0;l<i.cssRules.length;l++)v+=i.cssRules[l].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),l=i.lastChild,f=l.childNodes&&l.childNodes.length;if(f)for(var g=0;g<f;g++){var b=l.childNodes[g],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)l.removeChild(l.childNodes[g]),f--,g--;else{var S=l.childNodes[g];S&&S.childNodes.forEach(function(L){var $=L;c.removeAnchor($.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),w=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=w.getBoundingClientRect(),C=this.lf.graphModel,_=C.transformModel,H=_.SCALE_X,Y=_.SCALE_Y,U=Math.ceil(j.width/H),ae=Math.ceil(j.height/Y);M.style.width=U+"px",M.style.height=ae+"px",M.width=U*P+80,M.height=ae*P+80;var ne=M.getContext("2d");ne.clearRect(0,0,M.width,M.height),ne.scale(P,P),u?(ne.fillStyle=u,ne.fillRect(0,0,U*P+80,ae*P+80)):ne.clearRect(0,0,U,ae);var Q=new Image,Z=document.createElement("style");Z.innerHTML=this.getClassRules();var se=document.createElement("foreignObject");return se.appendChild(Z),i.appendChild(se),new Promise(function(L){Q.onload=function(){ne.drawImage(Q,0,0),L(M)};var $="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=$.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Q.src=I})},m.pluginName="snapshot",m}(),fR=new an([32,32,1]);function Cm(){return fR.next()}var dr=function(){};dr.ObjTree=function(){return this};dr.ObjTree.VERSION="0.23";dr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dr.ObjTree.prototype.attr_prefix="-";dr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(!!v)return this.parseDOM(v)};dr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var l=this,f=u,g=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=l.parseDOM(S.responseXML.documentElement)),f(P,S),g&&g(S)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(m,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};dr.ObjTree.prototype.parseDOM=function(m){if(!!m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};dr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var l=m.attributes[i].nodeName;if(typeof l=="string"){var f=m.attributes[i].nodeValue;!f||(l=this.attr_prefix+l,typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}if(m.childNodes&&m.childNodes.length){var g=!0;u&&(g=!1);for(var i=0;i<m.childNodes.length&&g;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(g=!1)}if(g){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var l=m.childNodes[i].nodeName;if(typeof l=="string"){var f=this.parseElement(m.childNodes[i]);!f||(typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}}return u}};dr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};dr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};dr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var l=v[i];i.charAt(0)!=this.attr_prefix?typeof l>"u"||l==null?u[u.length]="<"+i+" />":typeof l=="object"&&l.constructor==Array?u[u.length]=this.array_to_xml(i,l):typeof l=="object"?u[u.length]=this.hash_to_xml(i,l):u[u.length]=this.scalar_to_xml(i,l):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),g=u.join("");return typeof m>"u"||m==null||(u.length>0?g.match(/\n/)?g="<"+m+f+`>
`+g+"</"+m+`>
`:g="<"+m+f+">"+g+"</"+m+`>
`:g="<"+m+f+` />
`),g};dr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};dr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};dr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Qs=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},un;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(un||(un={}));var fb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function id(m){var v={};return Object.entries(m).forEach(function(u){var c=Qs(u,2),i=c[0],l=c[1];typeof l!="object"?i.indexOf("-")===0?v[i]=l:v["-"+i]=l:v[i]=id(l)}),v}function fd(m){var v={};return Object.entries(m).forEach(function(u){var c=Qs(u,2),i=c[0],l=c[1];typeof l=="string"?i.indexOf("-")===0?v[i.substr(1)]=l:v[i]=l:typeof l=="object"?v[i]=fd(l):v[i]=l}),v}function cR(m,v){var u=new Map;v.nodes.forEach(function(i){var l,f={"-id":i.id};if(!((l=i.text)===null||l===void 0)&&l.value&&(f["-name"]=i.text.value),i.properties){var g=id(i.properties);Object.assign(f,g)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var l,f,g=u.get(i.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(i.id):g["bpmn:incoming"]=[g["bpmn:incoming"],i.id]:g["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((l=i.text)===null||l===void 0)&&l.value&&(x["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var S=id(i.properties);Object.assign(x,S)}return x});m[un.FLOW]=c}function dR(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,l=u.pointsList.map(function(g){var b=g.x,x=g.y;return{"-x":b,"-y":x}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":l};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,l=100,f=80,g=u.x,b=u.y,x=co.shapeConfigMap.get(u.type);x&&(l=x.width,f=x.height),g-=l/2,b-=f/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":g,"-y":b,"-width":l,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function pR(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=i[l];if(l===un.FLOW){var g=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=vR(f,g)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(hR(f,b,l))}}})}return{nodes:v,edges:u}}function hR(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var g;Array.isArray(v)?g=v.find(function(x){return x["-bpmnElement"]===f["-id"]}):g=v;var b=Rm(g,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var l=Rm(i,u,m);c.push(l)}return c}function Rm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),l=u["-name"],f=co.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var g;Object.entries(u).forEach(function(P){var M=Qs(P,2),w=M[0],j=M[1];fb.indexOf(w)===-1&&(g||(g={}),g[w]=j)}),g&&(g=fd(g));var b;if(l&&(b={x:c,y:i,value:l},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:m["-bpmnElement"],type:v,x:c,y:i,properties:g};return b&&(S.text=b),S}function vR(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var l;Array.isArray(v)?l=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):l=v,u.push(Im(l,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(Im(c,m))}return u}function Im(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(b){l<b.length&&(l=b.length)}),u={value:c,x:Number(i["-x"])+l*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var x=Qs(b,2),S=x[0],P=x[1];fb.indexOf(S)===-1&&(f||(f={}),f[S]=P)}),f&&(f=fd(f));var g={id:v["-id"],type:un.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(g.text=u),g}var co={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Cm(),"-isExecutable":"false"};cR(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};dR(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Cm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return pR(m)}};co.shapeConfigMap.set(un.START,{width:wm.width,height:wm.height});co.shapeConfigMap.set(un.END,{width:Am.width,height:Am.height});co.shapeConfigMap.set(un.GATEWAY,{width:Nm.width,height:Nm.height});co.shapeConfigMap.set(un.SYSTEM,{width:Dm.width,height:Dm.height});co.shapeConfigMap.set(un.USER,{width:jm.width,height:jm.height});var _m=globalThis&&globalThis.__assign||function(){return _m=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_m.apply(this,arguments)};globalThis&&globalThis.__read;var Bm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(Bm||(Bm={}));var yR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var gR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var mR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},bR=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(mR(arguments[v]));return m},Ai="lf:defaultNodeMenu",Ni="lf:defaultEdgeMenu",Di="lf:defaultGraphMenu",Lm="lf:defaultSelectionMenu",OR=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteNode(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}},{text:"\u590D\u5236",callback:function(l){v.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Ai,u);var c=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteEdge(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(Ni,c),this.menuTypeMap.set(Di,[]);var i=[{text:"\u5220\u9664",callback:function(l){v.lf.clearSelectElements(),l.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Lm,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var l=i.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var l=i.data,f=i.position,g=f.domOverlayPosition,b=g.x,x=g.y,S=l.id,P=c.lf.graphModel.getNodeModelById(S),M=[],w=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:w?M=w:M=c.menuTypeMap.get(Ai),c.__currentData=l,c.showMenu(b,x,M)}),this.lf.on("edge:contextmenu",function(i){var l=i.data,f=i.position,g=f.domOverlayPosition,b=g.x,x=g.y,S=l.id,P=c.lf.graphModel.getEdgeModelById(S),M=[],w=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:w?M=w:M=c.menuTypeMap.get(Ni),c.__currentData=l,c.showMenu(b,x,M)}),this.lf.on("blank:contextmenu",function(i){var l=i.position,f=c.menuTypeMap.get(Di),g=l.domOverlayPosition,b=g.x,x=g.y;c.showMenu(b,x,f)}),this.lf.on("selection:contextmenu",function(i){var l=i.data,f=i.position,g=c.menuTypeMap.get(Lm),b=f.domOverlayPosition,x=b.x,S=b.y;c.__currentData=l,c.showMenu(x,S,g)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,bR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",i.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ai,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ni,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Di,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Ai);this.menuTypeMap.set(Ai,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var cb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zo=globalThis&&globalThis.__assign||function(){return Zo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zo.apply(this,arguments)},Gn=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};(function(m){cb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var l=Gn(c[i-1],2),f=l[0],g=l[1],b=Gn(c[i],2),x=b[0],S=b[1],P=Gn(c[i+1],2),M=P[0],w=P[1];f===x&&x===M||g===S&&S===w?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,l=u.arrowConfig,f=u.radius,g=f===void 0?5:f,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(q){return q.split(",").map(function(ce){return Number(ce)})})),P=Gn(S[0],2),M=P[0],w=P[1],j="M"+M+" "+w,C=1;C<S.length-1;C++){var _=Gn(S[C-1],2),H=_[0],Y=_[1],U=Gn(S[C],2),ae=U[0],ne=U[1],Q=Gn(S[C+1],2),Z=Q[0],se=Q[1];if(ae===H&&ne!==Y){var L=ne>Y?ne-g:ne+g;j=j+" L "+ae+" "+L}if(ne===Y&&ae!==H){var $=ae>H?ae-g:ae+g;j=j+" L "+$+" "+ne}if(j=j+" Q "+ae+" "+ne,ae===Z&&ne!==se){var L=ne>se?ne-g:ne+g;j=j+" "+ae+" "+L}if(ne===se&&ae!==Z){var $=ae>Z?ae-g:ae+g;j=j+" "+$+" "+ne}}var I=Gn(S[S.length-1],2),A=I[0],R=I[1];j=j+" L "+A+" "+R;var W=Zo(Zo(Zo({d:j,style:i?x:{}},b),l),{fill:"none"});return We.exports.h("path",Zo({d:j},W))},v})(We.exports.PolylineEdge);(function(m){cb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(We.exports.PolylineEdgeModel);var cd,Ht,db,Ri,zm,pb={},hb=[],ER=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $n(m,v){for(var u in v)m[u]=v[u];return m}function vb(m){var v=m.parentNode;v&&v.removeChild(m)}function Ii(m,v,u){var c,i,l,f={};for(l in v)l=="key"?c=v[l]:l=="ref"?i=v[l]:f[l]=v[l];if(arguments.length>2&&(f.children=arguments.length>3?cd.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(l in m.defaultProps)f[l]===void 0&&(f[l]=m.defaultProps[l]);return Us(m,f,c,i,null)}function Us(m,v,u,c,i){var l={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++db:i};return i==null&&Ht.vnode!=null&&Ht.vnode(l),l}function dd(m){return m.children}function Qo(m,v){this.props=m,this.context=v}function Bi(m,v){if(v==null)return m.__?Bi(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Bi(m):null}function yb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return yb(m)}}function Fm(m){(!m.__d&&(m.__d=!0)&&Ri.push(m)&&!Ks.__r++||zm!==Ht.debounceRendering)&&((zm=Ht.debounceRendering)||setTimeout)(Ks)}function Ks(){for(var m;Ks.__r=Ri.length;)m=Ri.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ri=[],m.some(function(v){var u,c,i,l,f,g;v.__d&&(f=(l=(u=v).__v).__e,(g=u.__P)&&(c=[],(i=$n({},l)).__v=l.__v+1,Ob(g,l,i,u.__n,g.ownerSVGElement!==void 0,l.__h!=null?[f]:null,c,f==null?Bi(l):f,l.__h),SR(c,l),l.__e!=f&&yb(l)))})}function gb(m,v,u,c,i,l,f,g,b,x){var S,P,M,w,j,C,_,H=c&&c.__k||hb,Y=H.length;for(u.__k=[],S=0;S<v.length;S++)if((w=u.__k[S]=(w=v[S])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Us(null,w,null,null,w):Array.isArray(w)?Us(dd,{children:w},null,null,null):w.__b>0?Us(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null){if(w.__=u,w.__b=u.__b+1,(M=H[S])===null||M&&w.key==M.key&&w.type===M.type)H[S]=void 0;else for(P=0;P<Y;P++){if((M=H[P])&&w.key==M.key&&w.type===M.type){H[P]=void 0;break}M=null}Ob(m,w,M=M||pb,i,l,f,g,b,x),j=w.__e,(P=w.ref)&&M.ref!=P&&(_||(_=[]),M.ref&&_.push(M.ref,null,w),_.push(P,w.__c||j,w)),j!=null?(C==null&&(C=j),typeof w.type=="function"&&w.__k===M.__k?w.__d=b=mb(w,b,m):b=bb(m,w,M,H,j,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=m&&(b=Bi(M))}for(u.__e=C,S=Y;S--;)H[S]!=null&&xb(H[S],H[S]);if(_)for(S=0;S<_.length;S++)Eb(_[S],_[++S],_[++S])}function mb(m,v,u){for(var c,i=m.__k,l=0;i&&l<i.length;l++)(c=i[l])&&(c.__=m,v=typeof c.type=="function"?mb(c,v,u):bb(u,c,c,i,c.__e,v));return v}function bb(m,v,u,c,i,l){var f,g,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=l||i.parentNode==null)e:if(l==null||l.parentNode!==m)m.appendChild(i),f=null;else{for(g=l,b=0;(g=g.nextSibling)&&b<c.length;b+=2)if(g==i)break e;m.insertBefore(i,l),f=l}return f!==void 0?f:i.nextSibling}function xR(m,v,u,c,i){var l;for(l in u)l==="children"||l==="key"||l in v||Vs(m,l,null,u[l],c);for(l in v)i&&typeof v[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||u[l]===v[l]||Vs(m,l,v[l],u[l],c)}function Hm(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||ER.test(v)?u:u+"px"}function Vs(m,v,u,c,i){var l;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Hm(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Hm(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")l=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+l]=u,u?c||m.addEventListener(v,l?$m:Gm,l):m.removeEventListener(v,l?$m:Gm,l);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u==null?"":u;break e}catch{}typeof u=="function"||(u==null||u===!1&&v.indexOf("-")==-1?m.removeAttribute(v):m.setAttribute(v,u))}}function Gm(m){this.l[m.type+!1](Ht.event?Ht.event(m):m)}function $m(m){this.l[m.type+!0](Ht.event?Ht.event(m):m)}function Ob(m,v,u,c,i,l,f,g,b){var x,S,P,M,w,j,C,_,H,Y,U,ae,ne,Q=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,g=v.__e=u.__e,v.__h=null,l=[g]),(x=Ht.__b)&&x(v);try{e:if(typeof Q=="function"){for(_=v.props,H=(x=Q.contextType)&&c[x.__c],Y=x?H?H.props.value:x.__:c,u.__c?C=(S=v.__c=u.__c).__=S.__E:("prototype"in Q&&Q.prototype.render?v.__c=S=new Q(_,Y):(v.__c=S=new Qo(_,Y),S.constructor=Q,S.render=TR),H&&H.sub(S),S.props=_,S.state||(S.state={}),S.context=Y,S.__n=c,P=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),Q.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=$n({},S.__s)),$n(S.__s,Q.getDerivedStateFromProps(_,S.__s))),M=S.props,w=S.state,x=0;x<S._sb.length;x++)S.__h.push(S._sb[x]),S._sb=[];if(P)Q.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(Q.getDerivedStateFromProps==null&&_!==M&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(_,Y),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(_,S.__s,Y)===!1||v.__v===u.__v){S.props=_,S.state=S.__s,v.__v!==u.__v&&(S.__d=!1),S.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(Z){Z&&(Z.__=v)}),S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(_,S.__s,Y),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(M,w,j)})}if(S.context=Y,S.props=_,S.__v=v,S.__P=m,U=Ht.__r,ae=0,"prototype"in Q&&Q.prototype.render)S.state=S.__s,S.__d=!1,U&&U(v),x=S.render(S.props,S.state,S.context);else do S.__d=!1,U&&U(v),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++ae<25);S.state=S.__s,S.getChildContext!=null&&(c=$n($n({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(j=S.getSnapshotBeforeUpdate(M,w)),ne=x!=null&&x.type===dd&&x.key==null?x.props.children:x,gb(m,Array.isArray(ne)?ne:[ne],v,u,c,i,l,f,g,b),S.base=v.__e,v.__h=null,S.__h.length&&f.push(S),C&&(S.__E=S.__=null),S.__e=!1}else l==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=PR(u.__e,v,u,c,i,l,f,b);(x=Ht.diffed)&&x(v)}catch(Z){v.__v=null,(b||l!=null)&&(v.__e=g,v.__h=!!b,l[l.indexOf(g)]=null),Ht.__e(Z,v,u)}}function SR(m,v){Ht.__c&&Ht.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ht.__e(c,u.__v)}})}function PR(m,v,u,c,i,l,f,g){var b,x,S,P=u.props,M=v.props,w=v.type,j=0;if(w==="svg"&&(i=!0),l!=null){for(;j<l.length;j++)if((b=l[j])&&"setAttribute"in b==!!w&&(w?b.localName===w:b.nodeType===3)){m=b,l[j]=null;break}}if(m==null){if(w===null)return document.createTextNode(M);m=i?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,M.is&&M),l=null,g=!1}if(w===null)P===M||g&&m.data===M||(m.data=M);else{if(l=l&&cd.call(m.childNodes),x=(P=u.props||pb).dangerouslySetInnerHTML,S=M.dangerouslySetInnerHTML,!g){if(l!=null)for(P={},j=0;j<m.attributes.length;j++)P[m.attributes[j].name]=m.attributes[j].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===m.innerHTML)||(m.innerHTML=S&&S.__html||""))}if(xR(m,M,P,i,g),S)v.__k=[];else if(j=v.props.children,gb(m,Array.isArray(j)?j:[j],v,u,c,i&&w!=="foreignObject",l,f,l?l[0]:u.__k&&Bi(u,0),g),l!=null)for(j=l.length;j--;)l[j]!=null&&vb(l[j]);g||("value"in M&&(j=M.value)!==void 0&&(j!==m.value||w==="progress"&&!j||w==="option"&&j!==P.value)&&Vs(m,"value",j,P.value,!1),"checked"in M&&(j=M.checked)!==void 0&&j!==m.checked&&Vs(m,"checked",j,P.checked,!1))}return m}function Eb(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ht.__e(c,u)}}function xb(m,v,u){var c,i;if(Ht.unmount&&Ht.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||Eb(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){Ht.__e(l,v)}c.base=c.__P=null,m.__c=void 0}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&xb(c[i],v,u||typeof m.type!="function");u||m.__e==null||vb(m.__e),m.__=m.__e=m.__d=void 0}function TR(m,v,u){return this.constructor(m,u)}cd=hb.slice,Ht={__e:function(m,v,u,c){for(var i,l,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(m)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),f=i.__d),f)return i.__E=i}catch(g){m=g}throw m}},db=0,Qo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$n({},this.state),typeof m=="function"&&(m=m($n({},u),this.props)),m&&$n(u,m),m!=null&&this.__v&&(v&&this._sb.push(v),Fm(this))},Qo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Fm(this))},Qo.prototype.render=dd,Ri=[],Ks.__r=0;var _i=globalThis&&globalThis.__assign||function(){return _i=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_i.apply(this,arguments)};function pd(m){var v=m.x,u=m.y,c=m.width,i=m.height,l=m.radius,f=m.className,g=v-c/2,b=u-i/2,x=_i(_i({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:g,y:b});return We.exports.h("rect",_i({},x))}pd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Jo;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Jo||(Jo={}));function Xs(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function km(m){var v=Xs(m),u=m.radius,c=v.minX,i=v.minY,l=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:l-u,y:i+u},{x:l-u,y:f-u},{x:c+u,y:f-u}]}function Um(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,l=v.y,f={x:i,y:l},g=u.radius,b=Xs(u),x=Xs(c);if(i===b.minX){f.x=x.minX;var S=(l-u.y)/(u.height/2-g);S?f.y=c.y+(c.height/2-g)*S:f.y=c.y}else if(i===b.maxX){f.x=x.maxX;var S=(l-u.y)/(u.height/2-g);S?f.y=c.y+(c.height/2-g)*S:f.y=c.y}else if(l===b.minY){f.y=x.minY;var S=(i-u.x)/(u.width/2-g);S?f.x=c.x+(c.width/2-g)*S:f.x=c.x}else if(l===b.maxY){f.y=x.maxY;var S=(i-u.x)/(u.width/2-g);S?f.x=c.x+(c.width/2-g)*S:f.x=c.x}else{var P=km(u),M=km(c),w=Xs(u),j=w.minX,C=w.minY,_=w.maxX,H=w.maxY,Y=-1;if(i-j<g&&l-C<g?Y=0:_-i<g&&l-C<g?Y=1:_-i<g&&H-l<g?Y=2:i-j<g&&C-l<g&&(Y=3),Y>-1){var U=Math.atan2(l-P[Y].y,i-P[Y].x);f.x=M[Y].x+g*Math.cos(U),f.y=M[Y].y+g*Math.sin(U)}}return f}function Xm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,l=c.ry,f=v,g=(v.y-u.y)/(v.x-u.x),b=i,x=l,S,P;return g>=1/0?(S=0,P=x):g<=-1/0?(S=0,P=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*g*g),P=b*x*g/Math.sqrt(x*x+b*b*g*g)):(S=-(b*x)/Math.sqrt(x*x+b*b*g*g),P=-(b*x*g)/Math.sqrt(x*x+b*b*g*g)),f={x:S+c.x,y:P+c.y},f}function Ym(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,l,f,g=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(g))*(x-Math.abs(g))+b*b)/Math.sqrt(x*x+S*S),M=c.rx,w=c.ry,j=Math.sqrt((M*M+w*w)*P*P*(M*M/(M*M+w*w))),C=j*(w/M);return g>=0?l=M-j:l=j-M,b>0?f=C:f=-C,i={x:l+c.x,y:f+c.y},i}var MR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),so=globalThis&&globalThis.__assign||function(){return so=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},so.apply(this,arguments)},wR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},AR=We.exports.LogicFlowUtil.StepDrag,NR=function(m){MR(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var l=i.deltaX,f=i.deltaY,g=c.nodeModel,b=g.x,x=g.y;c.nodeModel.x=b+l/2,c.nodeModel.y=x+f/2,c.nodeModel.moveText(l/2,f/2)},c.getResize=function(i){var l=i.index,f=i.deltaX,g=i.deltaY,b=i.width,x=i.height,S=i.pct,P=S===void 0?1:S,M={width:b,height:x};switch(l){case 0:M.width=b-f*P,M.height=x-g*P;break;case 1:M.width=b+f*P,M.height=x-g*P;break;case 2:M.width=b+f,M.height=x+g*P;break;case 3:M.width=b-f*P,M.height=x+g*P;break}return M},c.updateRect=function(i){var l=i.deltaX,f=i.deltaY,g=c.nodeModel,b=g.id,x=g.x,S=g.y,P=g.width,M=g.height,w=g.radius,j=c.index,C=c.getResize({index:j,deltaX:l,deltaY:f,width:P,height:M,pct:1}),_=c.nodeModel,H=_.minWidth,Y=_.minHeight,U=_.maxWidth,ae=_.maxHeight;if(C.width<H||C.width>U||C.height<Y||C.height>ae){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.width=C.width,c.nodeModel.height=C.height,c.nodeModel.setProperties({nodeSize:{width:C.width,height:C.height}});var ne=c.getNodeEdges(b),Q={x,y:S,width:P,height:M,radius:w},Z={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:w},se={point:"",beforeNode:Q,afterNode:Z},L;ne.sourceEdges.forEach(function($){se.point=$.startPoint,L=Um(se),$.updateStartPoint(L)}),ne.targetEdges.forEach(function($){se.point=$.endPoint,L=Um(se),$.updateEndPoint(L)}),c.eventEmit({beforeNode:Q,afterNode:Z})},c.updateEllipse=function(i){var l=i.deltaX,f=i.deltaY,g=c.nodeModel,b=g.id,x=g.rx,S=g.ry,P=g.x,M=g.y,w=c.index,j=x,C=S,_=c.getResize({index:w,deltaX:l,deltaY:f,width:j,height:C,pct:1/2}),H=c.nodeModel,Y=H.minWidth,U=H.minHeight,ae=H.maxWidth,ne=H.maxHeight;if(_.width<Y/2||_.width>ae/2||_.height<U/2||_.height>ne/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.rx=c.nodeModel.rx+l/2,c.nodeModel.ry=c.nodeModel.ry+f/2,c.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var Q=c.getNodeEdges(b),Z={x:P,y:M},se={rx:_.width,ry:_.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:Z,afterNode:se},$;Q.sourceEdges.forEach(function(I){L.point=I.startPoint,$=Xm(L),I.updateStartPoint($)}),Q.targetEdges.forEach(function(I){L.point=I.endPoint,$=Xm(L),I.updateEndPoint($)}),c.eventEmit({beforeNode:so(so({},Z),{rx:x,ry:S}),afterNode:se})},c.updateDiamond=function(i){var l=i.deltaX,f=i.deltaY,g=c.nodeModel,b=g.id,x=g.rx,S=g.ry,P=g.x,M=g.y,w=c.index,j=x,C=S,_=c.getResize({index:w,deltaX:l,deltaY:f,width:j,height:C,pct:1/2}),H=c.nodeModel,Y=H.minWidth,U=H.minHeight,ae=H.maxWidth,ne=H.maxHeight;if(_.width<Y/2||_.width>ae/2||_.height<U/2||_.height>ne/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.rx=c.nodeModel.rx+l/2,c.nodeModel.ry=c.nodeModel.ry+f/2,c.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var Q={x:P,y:M,rx:x,ry:S},Z={rx:_.width,ry:_.height,x:c.nodeModel.x,y:c.nodeModel.y},se={point:{},beforeNode:Q,afterNode:Z},L,$=c.getNodeEdges(b);$.sourceEdges.forEach(function(I){se.point=I.startPoint,L=Ym(se),I.updateStartPoint(L)}),$.targetEdges.forEach(function(I){se.point=I.endPoint,L=Ym(se),I.updateEndPoint(L)}),c.eventEmit({beforeNode:Q,afterNode:Z})},c.eventEmit=function(i){var l=i.beforeNode,f=i.afterNode,g=c.nodeModel,b=g.id,x=g.modelType,S=g.type,P=so({id:b,modelType:x,type:S},l),M=so({id:b,modelType:x,type:S},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDraging=function(i){var l,f=i.deltaX,g=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;l=wR(b.fixDeltaXY(f,g),2),f=l[0],g=l[1],x===Jo.RECT_NODE||x===Jo.HTML_NODE?c.updateRect({deltaX:f,deltaY:g}):x===Jo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:g}):x===Jo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:g})},c.onDragEnd=function(){var i=c.graphModel.gridSize,l=i===void 0?1:i,f=l*Math.round(c.nodeModel.x/l),g=l*Math.round(c.nodeModel.y/l);c.nodeModel.moveTo(f,g)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new AR({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,l=[],f=[],g=0;g<i.length;g++){var b=i[g];b.sourceNodeId===u?l.push(b):i[g].targetNodeId===u&&f.push(b)}return{sourceEdges:l,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,l=u.index,f=u.model,g=f.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+l},Ii(pd,so({className:"lf-node-control"},{x:c,y:i},g,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Qo),DR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zs=globalThis&&globalThis.__assign||function(){return Zs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zs.apply(this,arguments)},qs=function(m){DR(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,l=c.x,f=c.y,g=c.width,b=c.height,x={minX:l-g/2,minY:f-b/2,maxX:l+g/2,maxY:f+b/2},S=x.minX,P=x.minY,M=x.maxX,w=x.maxY,j=[{x:S,y:P},{x:M,y:P},{x:M,y:w},{x:S,y:w}];return j.map(function(C,_){return Ii(NR,Zs({index:_},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,g=u.getResizeOutlineStyle();return Ii(pd,Zs({fill:"none"},g,{x:c,y:i,width:l,height:f}))},v.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Qo),Sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),jR=function(m){Sb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v}(We.exports.RectNodeModel),CR=function(m){Sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(We.exports.RectNode),Pb={type:"rect",view:CR,model:jR},Tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Tb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(We.exports.EllipseNodeModel);(function(m){Tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(We.exports.EllipseNode);var ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ad.apply(this,arguments)};function RR(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,l=m.strokeOpacity,f=l===void 0?1:l,g=m.fill,b=g===void 0?"transparent":g,x=m.stroke,S=x===void 0?"#000":x,P=m.points,M=m.className,w=M===void 0?"lf-basic-shape":M,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:f,points:"",className:w};return j.points=P.map(function(C){return C.join(",")}).join(" "),We.exports.h("polygon",ad({},j))}var Mb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ud.apply(this,arguments)};(function(m){Mb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(We.exports.DiamondNodeModel);(function(m){Mb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.exports.h("g",null,We.exports.h(RR,ud({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.DiamondNode);var wb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){wb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(We.exports.HtmlNodeModel);(function(m){wb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.exports.h(qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.exports.HtmlNode);var Ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Js=globalThis&&globalThis.__assign||function(){return Js=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Js.apply(this,arguments)},IR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Wm=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(IR(arguments[v]));return m},Km=500,Vm=300;(function(m){Ab(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Km,u.unfoldedHight=Vm,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Km,this.height=Vm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(l,f){var g=l.id,b=l.sourceNodeId,x=l.targetNodeId,S=l.startPoint,P=l.endPoint,M=l.type,w=l.properties,j=l.text,C={id:g+"__"+f,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:M,properties:w,text:j==null?void 0:j.value};l.virtual&&i.graphModel.deleteEdgeById(l.id);var _=i.graphModel.group.getNodeGroup(x);_||(_=i.graphModel.getNodeModelById(x));var H=i.graphModel.group.getNodeGroup(b);H||(H=i.graphModel.getNodeModelById(b)),u&&l.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(_.id!==i.id||H.id!==i.id)&&i.createVirtualEdge(C),l.visible=!1),!u&&l.visible===!1&&(_&&_.isGroup&&_.isFolded?(C.targetNodeId=_.id,C.endPoint=void 0,i.createVirtualEdge(C)):H&&H.isGroup&&H.isFolded?(C.sourceNodeId=H.id,C.startPoint=void 0,i.createVirtualEdge(C)):l.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Wm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Wm(this.children);var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v})(Pb.model);(function(m){Ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddedableShape=function(){var u=this.props.model,c=u.width,i=u.height,l=u.x,f=u.y,g=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,M=i+x+8;return We.exports.h("rect",Js(Js({},S),{width:P,height:M,x:l-P/2,y:f-M/2,rx:g,ry:g}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var l=We.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.exports.h("g",{},[We.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),l])},v.prototype.getResizeShape=function(){return We.exports.h("g",{},[this.getAddedableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Pb.view);var _R=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zm.apply(this,arguments)},Jm=globalThis&&globalThis.__assign||function(){return Jm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Jm.apply(this,arguments)},BR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const LR={class:"control-container"},zR=["title","onMouseenter"],FR=["disabled","onClick"],HR=Li({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(m,{emit:v}){const u=m,c=Sm("controlButton3",null),i=Sm("controlButton4",null);let l=lo(-1),f=lo([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",size:"17",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",size:"17",disabled:!1}]);const g=(x,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,M)=>{let w=u.lf;S===1&&w.zoom(!0),S===6&&v("catData"),S===M&&w[P]()})},b=x=>{l.value=x};return Qm(()=>{u.lf.on("history:change",({data:{undoAble:x,redoAble:S}})=>{zt(f)[3].disabled=zt(c).disabled=!x,zt(f)[4].disabled=zt(i).disabled=!S})}),(x,S)=>{const P=ji("el-tooltip");return on(),fo("div",LR,[gn("ul",null,[(on(!0),fo(qm,null,eb(zt(f),(M,w)=>(on(),fo("li",{key:w,title:M.text,class:"dark:text-bg_color",onMouseenter:Pm(j=>b(w),["prevent"]),onMouseleave:S[0]||(S[0]=Pm(j=>tb(l)?l.value=-1:l=-1,["prevent"]))},[Ko(P,{content:M.text,visible:zt(l)===w,placement:"right"},{default:Vo(()=>[gn("button",{ref_for:!0,ref:"controlButton"+w,disabled:M.disabled,style:Tm({cursor:M.disabled===!1?"pointer":"not-allowed",color:M.disabled===!1?"":"#00000040"}),onClick:j=>g(M,w)},[gn("span",{class:rb("iconfont "+M.icon),style:Tm({fontSize:`${M.size}px`})},null,6)],12,FR)]),_:2},1032,["content","visible"])],40,zR))),128))])])}}});const GR=sd(HR,[["__scopeId","data-v-db62ec8c"]]),$R={class:"node-panel"},kR=["onMousedown"],UR={key:0,class:"shape"},XR={class:"node-label"},YR=Li({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(m){const v=m;let u=lo({a:"efrwe",b:"wewe"});const c=i=>{v.lf.dnd.startDrag({type:i.type,properties:zt(u)})};return(i,l)=>(on(),fo("div",$R,[(on(!0),fo(qm,null,eb(v.nodeList,f=>(on(),fo("div",{class:"node-item dark:text-bg_color",key:f.text,onMousedown:g=>c(f)},[gn("div",{class:rb(["node-item-icon",f.class])},[f.type==="user"||f.type==="time"?(on(),fo("div",UR)):nb("",!0)],2),gn("span",XR,CC(f.text),1)],40,kR))),128))]))}});const WR=sd(YR,[["__scopeId","data-v-325c29f6"]]),KR=Li({__name:"DataDialog",props:{graphData:Object},setup(m){const v=m;return(u,c)=>(on(),nd(zt(BC),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),VR=ld(GR),ZR=ld(WR),JR=ld(KR),QR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function qR(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:l,startPoint:f,endPoint:g,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:l,startPoint:f,endPoint:g,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(M=>{P.indexOf(M)===-1&&(S.properties[M]=m.properties[M])}),S}function e2(m){const{properties:v,key:u}=m,{x:c,y:i,text:l,logicFlowType:f}=v,g={id:u,type:f,x:c,y:i,text:l,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(x=>{b.indexOf(x)===-1&&(g.properties[x]=m.properties[x])}),g}function t2(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===QR.SEQUENCE_FLOW){const i=qR(c);v.edges.push(i)}else{const i=e2(c);v.nodes.push(i)}}),v}const r2=m=>(RC("data-v-d0ad9326"),m=m(),IC(),m),n2={class:"card-header"},o2={class:"font-medium"},i2={class:"logic-flow-view"},a2=r2(()=>gn("div",{id:"LF-Turbo"},null,-1)),u2=Li({name:"FlowChart"}),s2=Li({...u2,setup(m){let v=lo(null),u=lo(null),c=lo(!1),i=lo({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),l=FC;function f(){ks.use(lR),ks.use(sR),ks.use(OR);const x=new ks({...zt(i),container:document.querySelector("#LF-Turbo")});v.value=x,zt(v).setDefaultEdgeType("bpmn:sequenceFlow"),g()}function g(){const x=t2(zC);v.value.render(x)}function b(){u.value=zt(v).getGraphData(),c.value=!0}return Qm(()=>{f()}),(x,S)=>{const P=ji("el-link"),M=ji("el-scrollbar"),w=ji("el-dialog"),j=ji("el-card");return on(),nd(j,null,{header:Vo(()=>[gn("div",n2,[gn("span",o2,[Mm(" \u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684 "),Ko(P,{href:"http://logic-flow.org/",target:"_blank",icon:zt(_C)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Vo(()=>[Mm(" LogicFlow ")]),_:1},8,["icon"])])])]),default:Vo(()=>[gn("div",i2,[zt(v)?(on(),nd(zt(VR),{key:0,class:"demo-control",lf:zt(v),catTurboData:!1,onCatData:b},null,8,["lf"])):nb("",!0),Ko(zt(ZR),{lf:zt(v),nodeList:zt(l)},null,8,["lf","nodeList"]),a2,Ko(w,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:zt(c),"onUpdate:modelValue":S[0]||(S[0]=C=>tb(c)?c.value=C:c=C),width:"50%"},{default:Vo(()=>[Ko(M,null,{default:Vo(()=>[Ko(zt(JR),{graphData:zt(u)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});const p2=sd(s2,[["__scopeId","data-v-d0ad9326"]]);export{p2 as default};
